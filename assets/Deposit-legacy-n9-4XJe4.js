System.register(["./@ionic-legacy-BCXuxJR0.js","./@vue-legacy-BTGNLlqW.js","./vue-i18n-legacy-3mSkocii.js","./pinia-legacy-BNyWqaqq.js","./index-legacy-Cjm6cWs0.js","./deposit-legacy-amFT02bN.js","./@stencil-legacy-B3F1rWbF.js","./@capacitor-legacy-0yG8iurR.js","./vue-router-legacy-BIhpig1s.js","./ionicons-legacy-D1xXFoHn.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./@intlify-legacy-DDHA1rkh.js","./jsencrypt-legacy-DGJHbPQ6.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-CuOL20OL.js","./rxjs-legacy-C12cs3ed.js","./tslib-legacy-BRpw1qYg.js"],(function(e,t){"use strict";var n,o,a,i,l,s,d,p,r,m,c,u,g,h,b,f,y,x,v,w,k,I,C,_,j,A,M,z,L,P,$,D,N,O,R,S,U,V,T,E,B,F,G,H,J,Q,K;return{setters:[e=>{n=e.u,o=e.e,a=e.g,i=e.M,l=e.b,s=e.d,d=e.F,p=e.N,r=e.o,m=e.t,c=e.K,u=e.H,g=e.I,h=e.k,b=e.J},e=>{f=e.r,y=e.H,x=e.I,v=e.J,w=e.L,k=e.C,I=e.E,C=e.M,_=e.N,j=e.O,A=e.j,M=e.w,z=e.P,L=e.a,P=e.U,$=e.F,D=e.Q,N=e.R,O=e.S,R=e.Y,S=e.W,U=e.X},e=>{V=e.u},e=>{T=e.d,E=e.s},e=>{B=e.h,F=e.b,G=e.c,H=e.l,J=e.u},e=>{Q=e.g,K=e.r},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.Deposit-success-popup{--background: var(--ion-background-light-color);--width: 88vw;--height: fit-content;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--border-radius: 6px}.Deposit-success-popup .wrapper{margin:16px 8px;padding:0 12px;height:fit-content}.Deposit-success-popup .wrapper ion-img.btn-close{width:32px;height:32px;position:absolute;top:0;right:0}.Deposit-success-popup .wrapper .dialog-content{font-size:.9rem;color:#fff;padding:8px 4px;margin-bottom:8px}.Deposit-success-popup .wrapper ion-button.btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04);position:relative;color:#fff}.online-payment .block-title{margin-bottom:12px}.online-payment .amount-item{box-sizing:border-box;white-space:nowrap;width:100%;height:2.4rem;line-height:2rem;border-radius:20px;background-color:var(--ion-background-light-color);text-align:center;margin:8px 2px;padding:.1rem}.online-payment .amount-item.select{border:1px solid #00ff84}.online-payment .amount-item .amount-badge{position:absolute;top:-6px;right:0;min-width:32px;padding:2px 4px;border-radius:10px;font-size:.7rem}.online-payment .method-item{position:relative;height:4rem;line-height:3.8rem;text-align:center;margin:4px 8px;padding:2px}.online-payment .method-item .method-bg{background-color:var(--ion-background-light-color)}.online-payment .method-item .method-bg,.online-payment .method-item .method-fg{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);aspect-ratio:2.22}.online-payment .method-item .method-bg ion-img,.online-payment .method-item .method-bg::part(image),.online-payment .method-item .method-fg ion-img,.online-payment .method-item .method-fg::part(image){position:absolute;height:100%;width:100%;object-fit:cover}.online-payment .method-item .method-text,.online-payment .method-item .channel-text{position:relative;display:flex;align-items:center;font-size:.9rem}.online-payment .method-item .method-text ion-img,.online-payment .method-item .channel-text ion-img{width:24px;height:24px;flex:1}.online-payment .method-item .method-text span,.online-payment .method-item .channel-text span{flex:2}.online-payment .method-item .recommend-badge{position:absolute;top:6px;left:0;min-width:32px;padding:2px 4px;border-radius:0;font-size:.7rem;z-index:2}.online-payment .method-item .channel-text{justify-content:center}.online-payment .btn-guide{height:100%;font-size:1rem;margin:auto;color:#00ff84;text-decoration-line:underline}.deposit{background-color:var(--ion-background-color)}.deposit .recharge-badge{position:absolute;top:-.4px;padding:.6px 4px;border-radius:10px;font-size:.7rem}.deposit .recharge-badge:before{display:block;content:"";width:0px;height:0px;border-width:4px;border-style:solid;border-color:#00ff84 transparent transparent transparent;position:absolute;left:4px;bottom:-6px}.deposit ion-content{padding:16px 8px 0}.deposit .btn-deposit{--background: linear-gradient(90deg, #24ee89, #9fe871);--background-activated: linear-gradient(40deg, #24ee89, #9fe871);--color: #000000;--box-shadow: 0 0 12px #23ee884d, 0 -2px #1dca6a inset;font-size:1.2rem;min-height:3rem}\n',document.head.appendChild(t);const W=T("deposit",(()=>{const e=f({}),t=f([]),n=f(!1);return{chargeInfo:e,onlinePaymentInfo:t,isTypeB:n,getChargeInfo:async()=>{const n=await Q();"00000"===n.code&&(console.log(n),e.value=n.data||{},t.value=e.value.rechargeTypes)}}}),{persistedState:{persist:!1}}),X={class:"wrapper"},Y={class:"dialog-content"},q={__name:"DepositSuccessPopup",setup(e,{expose:t}){const l=n(),s=B(),{getPublicUrl:d}=F(),{popupEnter:p,popupLeave:r}=G(),m=f(!1),c=()=>{let e=1;const t=setInterval((async()=>{const n=await H();"00000"===n.code&&(s.userInfo.balance=Number(n.data)),e<=5?e++:clearInterval(t)}),5e4);m.value=!1,l.back()};return t({showDialog:async()=>{m.value=!0}}),(e,t)=>(y(),x(I(i),{class:"Deposit-success-popup",isOpen:m.value,enterAnimation:I(p),leaveAnimation:I(r),onDidDismiss:t[1]||(t[1]=e=>m.value=!1)},{default:v((()=>[w("div",X,[k(I(o),{class:"btn-close",src:I(d)("/icon_wallet/icon-popup-close.png"),onClick:t[0]||(t[0]=e=>m.value=!1)},null,8,["src"]),w("div",Y,[w("div",null,C(e.$t("deposit.message.tips6")),1),w("div",null,C(e.$t("deposit.message.tips7")),1)]),k(I(a),{class:"btn-confirm ion-text-capitalize",fill:"solid",shape:"round",expand:"block",onClick:_(c,["stop"])},{default:v((()=>[j(C(e.$t("deposit.button.confirm")),1)])),_:1})])])),_:1},8,["isOpen","enterAnimation","leaveAnimation"]))}},Z={class:"method-bg"},ee={class:"method-text"},te={class:"method-fg"},ne=w("hr",null,null,-1),oe={class:"method-bg"},ae={class:"channel-text"},ie={class:"method-fg"},le=w("hr",null,null,-1),se={style:{margin:"4px 0"}},de={class:"block-title"},pe={class:"ion-margin-start",style:{"font-size":"0.9rem"}},re={class:"ion-margin-start",style:{"font-size":"0.9rem"}},me=w("hr",null,null,-1),ce={style:{margin:"4px 0"}},ue={class:"block-title"},ge={style:{"font-size":"0.8rem"}},he={__name:"OnlinePayment",setup(e){const{t:t}=V(),n=J(),i=W(),{isTypeB:c}=E(i),{getPublicUrl:u}=F(),g=f(null),h=f(0),b=f(0),S=A({depositAmount:0,depositMethodItem:{},depositMethod:"",depositChannelItem:{},depositChannelIdx:0,depositMethodList:[]});M((()=>i.onlinePaymentInfo),(()=>{n.barLoading=!0,S.depositMethodItem=i.onlinePaymentInfo[0],S.depositMethod=i.onlinePaymentInfo[0].id;for(let e=3;e>=S.depositMethodItem.channel.length;e--)S.depositMethodItem.channel.push(S.depositMethodItem.channel[0]);S.depositChannelItem=S.depositMethodItem.channel[0],S.depositChannelIdx=0,h.value=S.depositChannelItem.minRechargeAmount,b.value=S.depositChannelItem.maxRechargeAmount,S.depositAmount=S.depositChannelItem.rechargeAmountList.length>0?S.depositChannelItem.rechargeAmountList[0]:h.value,n.barLoading=!1}));const U=(e,t)=>{S.depositChannelItem=e,S.depositChannelIdx=t,h.value=S.depositChannelItem.minRechargeAmount,b.value=S.depositChannelItem.maxRechargeAmount,S.depositAmount=S.depositChannelItem.rechargeAmountList.length>0?S.depositChannelItem.rechargeAmountList[0]:h.value},T=async()=>{if(!S.depositAmount){const e=await m.create({message:t("deposit.toast.text1"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await e.present())}if(Number(S.depositAmount)<h.value||Number(S.depositAmount)>b.value){const e=await m.create({message:`${t("deposit.toast.text2")} ${h.value} - ${b.value}`,duration:1500,position:"top",color:"warning",translucent:!0});return void(await e.present())}n.fullLoading=!0;const e=await K({amount:S.depositAmount,memberChannelId:S.depositChannelItem.id});if("00000"===e.code)e.data&&(g.value.showDialog(),window.open(e.data.payURL,"_blank"));else{const t=await m.create({message:e.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}n.fullLoading=!1};return(e,t)=>(y(),z($,null,[L(k(I(r),{class:"online-payment"},{default:v((()=>[k(I(l),{class:"ion-justify-content-between",style:{margin:"8px 0"}},{default:v((()=>[(y(!0),z($,null,D(I(i).onlinePaymentInfo,((t,n)=>(y(),x(I(s),{key:n,size:"3.4",class:"method-item",onClick:_((e=>(e=>{S.depositMethodItem=e,S.depositMethod=e.id,U(S.depositMethodItem.channel[0])})(t)),["stop"])},{default:v((()=>[w("div",Z,[k(N,{name:"fade"},{default:v((()=>[t.disable?(y(),x(I(o),{key:0,src:I(u)("/wallet/icon-btn-bg-disable.png")},null,8,["src"])):t.id==S.depositMethod?(y(),x(I(o),{key:1,src:I(u)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):O("",!0)])),_:2},1024)]),w("div",ee,[w("span",null,C(e.$t(t.name)),1)]),t.isRecommend?(y(),x(I(d),{key:0,class:"recommend-badge",color:"danger"},{default:v((()=>[j(C(I("â‚¹"))+" "+C(t.isRecommend)+"+",1)])),_:2},1024)):O("",!0),w("div",te,[k(N,{name:"fade"},{default:v((()=>[t.id==S.depositMethod?(y(),x(I(o),{key:0,src:I(u)("/wallet/icon-btn-select-m.png")},null,8,["src"])):O("",!0)])),_:2},1024)])])),_:2},1032,["onClick"])))),128)),k(I(s),null,{default:v((()=>[S.depositMethodItem.isGuide?(y(),x(I(a),{key:0,class:"btn-guide",fill:"clear",href:S.depositMethodItem.isGuide,target:"_blank",size:"small"},{default:v((()=>[j(C(e.$t("deposit.howToUse")),1)])),_:1},8,["href"])):O("",!0)])),_:1})])),_:1}),ne,k(I(l),{class:"ion-justify-content-between",style:{margin:"8px 0"}},{default:v((()=>[(y(!0),z($,null,D(S.depositMethodItem.channel,((t,n)=>(y(),x(I(s),{key:n,size:"3.3",class:"method-item",onClick:_((e=>U(t,n)),["stop"])},{default:v((()=>[w("div",oe,[k(N,{name:"fade"},{default:v((()=>[n==S.depositChannelIdx?(y(),x(I(o),{key:0,src:I(u)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):O("",!0)])),_:2},1024)]),w("div",ae,C(e.$t("deposit.channel"))+" "+C(n+1),1),w("div",ie,[k(N,{name:"fade"},{default:v((()=>[n==S.depositChannelIdx?(y(),x(I(o),{key:0,src:I(u)("/wallet/icon-btn-select-m.png")},null,8,["src"])):O("",!0)])),_:2},1024)])])),_:2},1032,["onClick"])))),128))])),_:1}),le,w("div",se,[w("span",de,C(e.$t("deposit.depositAmount"))+": ",1),w("span",pe,"Min: "+C(h.value.toLocaleString()),1),w("span",re,"Max: "+C(b.value.toLocaleString()),1)]),k(I(l),{style:{margin:"8px 0"}},{default:v((()=>[(y(!0),z($,null,D(S.depositChannelItem.rechargeAmountList,((e,t)=>(y(),x(I(s),{key:t,size:"2.8",class:R(["amount-item",{select:Number(e)==Number(S.depositAmount)}]),onClick:_((t=>{return n=e,void(S.depositAmount=Number(n));var n}),["stop"])},{default:v((()=>[I(c)?(y(),x(I(d),{key:0,class:"amount-badge",color:"danger"},{default:v((()=>{var e;return[j("+"+C(null===(e=I(i).onlinePaymentInfo)||void 0===e?void 0:e.giftList[t]),1)]})),_:2},1024)):O("",!0),w("div",null,C(I("â‚¹"))+" "+C(null==e?void 0:e.toLocaleString()),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),k(I(p),{modelValue:S.depositAmount,"onUpdate:modelValue":t[0]||(t[0]=e=>S.depositAmount=e),label:I("â‚¹"),type:"number",placeholder:e.$t("deposit.depositAmount"),max:b.value,min:h.value,clearInput:!0},null,8,["modelValue","label","placeholder","max","min"]),me,w("div",ce,[w("div",ue,C(e.$t("deposit.depositTips"))+": ",1),w("span",ge,[w("div",null,C(e.$t("deposit.message.tips1")),1),w("div",null,C(e.$t("deposit.message.tips2")),1)])]),L(k(I(a),{class:"btn-deposit",expand:"block",shape:"round",onClick:T},{default:v((()=>[j(C(e.$t("deposit.button.depositNow")),1)])),_:1},512),[[P,S.depositAmount]])])),_:1},512),[[P,!I(n).barLoading]]),k(q,{ref_key:"depositSuccessPopup",ref:g},null,512)],64))}};e("default",{__name:"Deposit",setup(e){J();const t=W(),n=f("OnlinePayment"),o={1:{name:"deposit.onlinePayment",value:"OnlinePayment"}},a={OnlinePayment:he};return c((async()=>{await t.getChargeInfo()})),(e,t)=>(y(),x(I(h),{class:"deposit"},{default:v((()=>[k(I(g),null,{default:v((()=>[Object.keys(o).length>1?(y(),x(I(u),{key:0,modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),mode:"md",scrollable:!0},{default:v((()=>[(y(),z($,null,D(o,((t,n)=>k(I(b),{key:n,class:"ion-text-capitalize",value:t.value},{default:v((()=>[k(I(d),{class:"recharge-badge",color:"danger"},{default:v((()=>[j(C(t.badge),1)])),_:2},1024),w("div",null,C(e.$t(t.name)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])):O("",!0)])),_:1}),(y(),x(S,null,[(y(),x(U(a[n.value])))],1024))])),_:1}))}})}}}));
