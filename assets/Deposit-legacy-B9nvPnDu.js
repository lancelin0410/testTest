System.register(["./@ionic-legacy-DJIsya6n.js","./@vue-legacy-D643Ih6I.js","./vue-i18n-legacy-C8AAcyDP.js","./pinia-legacy-DURUUAUq.js","./index-legacy-bZKtyn7e.js","./deposit-legacy-D7bdSfPl.js","./@ionic_components_1-legacy-C2GjtunC.js","./@stencil-legacy-Dkr4NQJU.js","./@ionic_components_2-legacy-DV709hm9.js","./@capacitor-legacy-0yG8iurR.js","./vue-router-legacy-tg1qdIBO.js","./ionicons-legacy-BylianOU.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./@intlify-legacy-DDHA1rkh.js","./jsencrypt-legacy-DGJHbPQ6.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-Bb45XN-u.js","./rxjs-legacy-CA8OYncU.js","./tslib-legacy-BRpw1qYg.js"],(function(e,t){"use strict";var n,o,a,i,l,s,d,r,p,c,m,u,g,h,b,f,y,x,v,w,k,I,_,A,C,j,M,z,$,L,P,D,V,U,O,N,R,S,T,G,B,E,J,K,F,Q,X,Y,Z,q;return{setters:[e=>{n=e.u,o=e.d,a=e.f,i=e.M,l=e.b,s=e.c,d=e.G,r=e.J,p=e.K,c=e.n,m=e.t,u=e.o,g=e.A,h=e.I,b=e.j,f=e.B},e=>{y=e.r,x=e.I,v=e.J,w=e.K,k=e.M,I=e.D,_=e.G,A=e.N,C=e.O,j=e.P,M=e.c,z=e.k,$=e.w,L=e.Q,P=e.b,D=e.V,V=e.F,U=e.R,O=e.S,N=e.U,R=e.Z,S=e.X,T=e.Y},e=>{G=e.u},e=>{B=e.d,E=e.s},e=>{J=e.c,K=e.b,F=e.i,Q=e.d,X=e.u},e=>{Y=e.g,Z=e.a,q=e.r},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.Deposit-success-popup{--background: var(--ion-background-light-color);--width: 88vw;--height: fit-content;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--border-radius: 6px}.Deposit-success-popup .wrapper{margin:16px 8px;padding:0 12px;height:fit-content}.Deposit-success-popup .wrapper ion-img.btn-close{width:32px;height:32px;position:absolute;top:0;right:0}.Deposit-success-popup .wrapper .dialog-content{font-size:.9rem;color:#fff;padding:8px 4px;margin-bottom:8px}.Deposit-success-popup .wrapper ion-button.btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04);position:relative;color:#fff}.online-payment .block-title{margin-bottom:12px}.online-payment .amount-item{box-sizing:border-box;white-space:nowrap;width:100%;height:2.4rem;line-height:2rem;border-radius:20px;background-color:var(--ion-background-light-color);text-align:center;margin:8px 2px;padding:.1rem}.online-payment .amount-item.select{border:1px solid #00ff84}.online-payment .amount-item .amount-badge{position:absolute;top:-6px;right:0;min-width:32px;padding:2px 4px;border-radius:10px;font-size:.7rem}.online-payment .method-item{position:relative;height:4rem;line-height:3.8rem;text-align:center;margin:4px 8px;padding:2px}.online-payment .method-item .method-bg{background-color:var(--ion-background-light-color)}.online-payment .method-item .method-bg,.online-payment .method-item .method-fg{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);aspect-ratio:2.22}.online-payment .method-item .method-bg ion-img,.online-payment .method-item .method-bg::part(image),.online-payment .method-item .method-fg ion-img,.online-payment .method-item .method-fg::part(image){position:absolute;height:100%;width:100%;object-fit:cover}.online-payment .method-item .method-text,.online-payment .method-item .channel-text{position:relative;display:flex;align-items:center;font-size:.9rem}.online-payment .method-item .method-text ion-img,.online-payment .method-item .channel-text ion-img{width:24px;height:24px;flex:1}.online-payment .method-item .method-text span,.online-payment .method-item .channel-text span{flex:2}.online-payment .method-item .recommend-badge{position:absolute;top:6px;left:0;min-width:32px;padding:2px 4px;border-radius:0;font-size:.7rem;z-index:2}.online-payment .method-item .channel-text{justify-content:center}.online-payment .award-item{background-color:#514634;border-radius:12px;margin:4px 0}.online-payment .btn-guide{height:100%;font-size:1rem;margin:auto;color:#00ff84;text-decoration-line:underline}.deposit{background-color:var(--ion-background-color)}.deposit .recharge-badge{position:absolute;top:-.4px;padding:.6px 4px;border-radius:10px;font-size:.7rem}.deposit .recharge-badge:before{display:block;content:"";width:0px;height:0px;border-width:4px;border-style:solid;border-color:#00ff84 transparent transparent transparent;position:absolute;left:4px;bottom:-6px}.deposit ion-content{padding:16px 8px 0}.deposit .btn-deposit{--background: linear-gradient(90deg, #24ee89, #9fe871);--background-activated: linear-gradient(40deg, #24ee89, #9fe871);--color: #000000;--box-shadow: 0 0 12px #23ee884d, 0 -2px #1dca6a inset;font-size:1.2rem;min-height:3rem}\n',document.head.appendChild(t);const H=B("deposit",(()=>{const e=y({}),t=y([]),n=y(!1);return{chargeInfo:e,onlinePaymentInfo:t,isTypeB:n,getChargeInfo:async()=>{const n=await Y();"00000"===n.code&&(console.log(n),e.value=n.data||{},t.value=e.value.rechargeTypes)}}}),{persistedState:{persist:!1}}),W={class:"wrapper"},ee={class:"dialog-content"},te={__name:"DepositSuccessPopup",setup(e,{expose:t}){const l=n(),s=J(),{getPublicUrl:d}=K(),{popupEnter:r,popupLeave:p}=F(),c=y(!1),m=()=>{let e=1;const t=setInterval((async()=>{const n=await Q();"00000"===n.code&&(s.userInfo.balance=Number(n.data)),e<=5?e++:clearInterval(t)}),5e4);c.value=!1,l.back()};return t({showDialog:async()=>{c.value=!0}}),(e,t)=>(x(),v(_(i),{class:"Deposit-success-popup",isOpen:c.value,enterAnimation:_(r),leaveAnimation:_(p),onDidDismiss:t[1]||(t[1]=e=>c.value=!1)},{default:w((()=>[k("div",W,[I(_(o),{class:"btn-close",src:_(d)("/icon_wallet/icon-popup-close.png"),onClick:t[0]||(t[0]=e=>c.value=!1)},null,8,["src"]),k("div",ee,[k("div",null,A(e.$t("deposit.message.tips6")),1),k("div",null,A(e.$t("deposit.message.tips7")),1)]),I(_(a),{class:"btn-confirm ion-text-capitalize",fill:"solid",shape:"round",expand:"block",onClick:C(m,["stop"])},{default:w((()=>[j(A(e.$t("deposit.button.confirm")),1)])),_:1})])])),_:1},8,["isOpen","enterAnimation","leaveAnimation"]))}},ne={class:"method-bg"},oe={class:"method-text"},ae={class:"method-fg"},ie=k("hr",null,null,-1),le={class:"method-bg"},se={class:"channel-text"},de={class:"method-fg"},re=k("hr",null,null,-1),pe={style:{margin:"4px 0"}},ce={class:"block-title"},me={class:"ion-margin-start",style:{"font-size":"0.9rem"}},ue={class:"ion-margin-start",style:{"font-size":"0.9rem"}},ge=k("hr",null,null,-1),he={class:"block-title"},be={style:{margin:"4px 0"}},fe={class:"block-title"},ye={style:{"font-size":"0.8rem"}},xe={__name:"OnlinePayment",setup(e){const{t:t}=G(),n=X(),i=H(),{isTypeB:u}=E(i),{getPublicUrl:g}=K(),h=y(null),b="â‚¹",f=y([!0]),S=y([]),T=M((()=>{const e=S.value.filter((e=>e.rechargeTypeId==F.depositMethod));return e.length>0?e[0]:[]})),B=y(0),J=y(0),F=z({depositAmount:0,depositMethodItem:{},depositMethod:"",depositChannelItem:{},depositChannelIdx:0,depositMethodList:[]});$((()=>i.onlinePaymentInfo),(async()=>{n.barLoading=!0,F.depositMethodItem=i.onlinePaymentInfo[0],F.depositMethod=i.onlinePaymentInfo[0].id;for(let t=3;t>=F.depositMethodItem.channel.length;t--)F.depositMethodItem.channel.push(F.depositMethodItem.channel[0]);F.depositChannelItem=F.depositMethodItem.channel[0],F.depositChannelIdx=0,B.value=F.depositChannelItem.minRechargeAmount,J.value=F.depositChannelItem.maxRechargeAmount,F.depositAmount=F.depositChannelItem.rechargeAmountList.length>0?F.depositChannelItem.rechargeAmountList[0]:B.value;const e=await Z();"00000"===e.code&&(S.value=e.data||[]),n.barLoading=!1}));const Q=(e,t)=>{F.depositChannelItem=e,F.depositChannelIdx=t,B.value=F.depositChannelItem.minRechargeAmount,J.value=F.depositChannelItem.maxRechargeAmount,F.depositAmount=F.depositChannelItem.rechargeAmountList.length>0?F.depositChannelItem.rechargeAmountList[0]:B.value},Y=async()=>{if(!F.depositAmount){const e=await m.create({message:t("deposit.toast.text1"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await e.present())}if(Number(F.depositAmount)<B.value||Number(F.depositAmount)>J.value){const e=await m.create({message:`${t("deposit.toast.text2")} ${B.value} - ${J.value}`,duration:1500,position:"top",color:"warning",translucent:!0});return void(await e.present())}const e=T.value.rechargeAwards.filter(((e,t)=>f.value[t]));if(e.length>1){const e=await m.create({message:"Only one award!",duration:1500,position:"top",color:"warning",translucent:!0});return void(await e.present())}n.fullLoading=!0;const o=await q({amount:F.depositAmount,memberChannelId:F.depositChannelItem.id,rechargeAwardId:e.length>0?e[0].id:""});if("00000"===o.code)o.data&&(h.value.showDialog(),window.open(o.data.payURL,"_blank"));else{const e=await m.create({message:o.msg||o.code,duration:1500,position:"top",color:"danger",translucent:!0});await e.present()}n.fullLoading=!1};return(e,t)=>(x(),L(V,null,[P(I(_(c),{class:"online-payment"},{default:w((()=>[I(_(l),{class:"ion-justify-content-between",style:{margin:"8px 0"}},{default:w((()=>[(x(!0),L(V,null,U(_(i).onlinePaymentInfo,((t,n)=>(x(),v(_(s),{key:n,size:"3.4",class:"method-item",onClick:C((e=>(e=>{F.depositMethodItem=e,F.depositMethod=e.id,f.value=[!0],Q(F.depositMethodItem.channel[0])})(t)),["stop"])},{default:w((()=>[k("div",ne,[I(O,{name:"fade"},{default:w((()=>[t.disable?(x(),v(_(o),{key:0,src:_(g)("/wallet/icon-btn-bg-disable.png")},null,8,["src"])):t.id==F.depositMethod?(x(),v(_(o),{key:1,src:_(g)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):N("",!0)])),_:2},1024)]),k("div",oe,[k("span",null,A(e.$t(t.name)),1)]),t.isRecommend?(x(),v(_(d),{key:0,class:"recommend-badge",color:"danger"},{default:w((()=>[j(A(_(b))+" "+A(t.isRecommend)+"+",1)])),_:2},1024)):N("",!0),k("div",ae,[I(O,{name:"fade"},{default:w((()=>[t.id==F.depositMethod?(x(),v(_(o),{key:0,src:_(g)("/wallet/icon-btn-select-m.png")},null,8,["src"])):N("",!0)])),_:2},1024)])])),_:2},1032,["onClick"])))),128)),I(_(s),null,{default:w((()=>[F.depositMethodItem.isGuide?(x(),v(_(a),{key:0,class:"btn-guide",fill:"clear",href:F.depositMethodItem.isGuide,target:"_blank",size:"small"},{default:w((()=>[j(A(e.$t("deposit.howToUse")),1)])),_:1},8,["href"])):N("",!0)])),_:1})])),_:1}),ie,I(_(l),{class:"ion-justify-content-between",style:{margin:"8px 0"}},{default:w((()=>[(x(!0),L(V,null,U(F.depositMethodItem.channel,((t,n)=>(x(),v(_(s),{key:n,size:"3.3",class:"method-item",onClick:C((e=>Q(t,n)),["stop"])},{default:w((()=>[k("div",le,[I(O,{name:"fade"},{default:w((()=>[n==F.depositChannelIdx?(x(),v(_(o),{key:0,src:_(g)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):N("",!0)])),_:2},1024)]),k("div",se,A(e.$t("deposit.channel"))+" "+A(n+1),1),k("div",de,[I(O,{name:"fade"},{default:w((()=>[n==F.depositChannelIdx?(x(),v(_(o),{key:0,src:_(g)("/wallet/icon-btn-select-m.png")},null,8,["src"])):N("",!0)])),_:2},1024)])])),_:2},1032,["onClick"])))),128))])),_:1}),re,k("div",pe,[k("span",ce,A(e.$t("deposit.depositAmount"))+": ",1),k("span",me,"Min: "+A(B.value.toLocaleString()),1),k("span",ue,"Max: "+A(J.value.toLocaleString()),1)]),I(_(l),{style:{margin:"8px 0"}},{default:w((()=>[(x(!0),L(V,null,U(F.depositChannelItem.rechargeAmountList,((e,t)=>(x(),v(_(s),{key:t,size:"2.8",class:R(["amount-item",{select:Number(e)==Number(F.depositAmount)}]),onClick:C((t=>{return n=e,void(F.depositAmount=Number(n));var n}),["stop"])},{default:w((()=>[_(u)?(x(),v(_(d),{key:0,class:"amount-badge",color:"danger"},{default:w((()=>{var e;return[j("+"+A(null===(e=_(i).onlinePaymentInfo)||void 0===e?void 0:e.giftList[t]),1)]})),_:2},1024)):N("",!0),k("div",null,A(_(b))+" "+A(null==e?void 0:e.toLocaleString()),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),I(_(r),{modelValue:F.depositAmount,"onUpdate:modelValue":t[0]||(t[0]=e=>F.depositAmount=e),label:_(b),type:"number",placeholder:e.$t("deposit.depositAmount"),max:J.value,min:B.value,clearInput:!0},null,8,["modelValue","label","placeholder","max","min"]),ge,(x(!0),L(V,null,U(T.value.rechargeAwards,((t,n)=>(x(),v(_(l),{class:"award-item ion-align-items-center"},{default:w((()=>[I(_(s),{size:1.6},{default:w((()=>[I(_(o),{src:_(g)("/icon_wallet/icon-bonus.webp")},null,8,["src"])])),_:1}),I(_(s),{size:8,offset:.4},{default:w((()=>[k("div",he,A(t.name),1),I(_(p),{modelValue:f.value[n],"onUpdate:modelValue":e=>f.value[n]=e,"label-placement":"end"},{default:w((()=>[j(A(`+${100*(t.rate||0)}%`)+" "+A(e.$t("deposit.bonus"))+" (Max: "+A(_(b))+" "+A(t.maxAwardAmount)+")",1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),256)),k("div",be,[k("div",fe,A(e.$t("deposit.depositTips"))+": ",1),k("span",ye,[k("div",null,A(e.$t("deposit.message.tips1")),1),k("div",null,A(e.$t("deposit.message.tips2")),1)])]),P(I(_(a),{class:"btn-deposit",expand:"block",shape:"round",onClick:Y},{default:w((()=>[j(A(e.$t("deposit.button.depositNow")),1)])),_:1},512),[[D,F.depositAmount]])])),_:1},512),[[D,!_(n).barLoading]]),I(te,{ref_key:"depositSuccessPopup",ref:h},null,512)],64))}};e("default",{__name:"Deposit",setup(e){X();const t=H(),n=y("OnlinePayment"),o={1:{name:"deposit.onlinePayment",value:"OnlinePayment"}},a={OnlinePayment:xe};return u((async()=>{await t.getChargeInfo()})),(e,t)=>(x(),v(_(b),{class:"deposit"},{default:w((()=>[I(_(h),null,{default:w((()=>[Object.keys(o).length>1?(x(),v(_(g),{key:0,modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),mode:"md",scrollable:!0},{default:w((()=>[(x(),L(V,null,U(o,((t,n)=>I(_(f),{key:n,class:"ion-text-capitalize",value:t.value},{default:w((()=>[I(_(d),{class:"recharge-badge",color:"danger"},{default:w((()=>[j(A(t.badge),1)])),_:2},1024),k("div",null,A(e.$t(t.name)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])):N("",!0)])),_:1}),(x(),v(S,null,[(x(),v(T(a[n.value])))],1024))])),_:1}))}})}}}));
