import{d as Be,a as Te,b as Se,c as Pe,e as De,f as Oe,g as Ae,h as _e,i as Ve,j as $e,k as xe,l as je,m as Fe,n as He,o as Me,p as ze,q as Ne,r as We,s as Ge,t as Ue,u as Ke,v as Xe,w as qe,x as Ye,y as Je,z as Qe,A as Ze,B as et,C as tt,D as nt,E as ot,F as it,G as at,H as st,I as rt,J as ct,K as ut}from"./@ionic_components_1-CG1weR9z.js";import"./@stencil-pJInS8Bp.js";import{L as me,a as he,b as ge,c as be,i as lt,t as dt}from"./@ionic_components_2-DZGN-9Y0.js";import{r as ft,u as pt,m as mt,c as ht,a as gt,p as Z}from"./vue-router-WMmcqR98.js";import{d as bt}from"./ionicons-vS9WG2d3.js";import{s as U,g as Q,d as D,h as S,i as A,c as vt,p as ee,r as W,w as te,o as yt,T as It,a as Ct,b as Et}from"./@vue-BnNAOHbh.js";import{L as G}from"./localforage-qzmIiYbH.js";const ne="update:modelValue",q="modelValue",Rt="routerLink",oe="navManager",wt="router",kt="aria",j=Symbol(),Y={default:j},ie=t=>(t==null?void 0:t.split(" "))||[],Lt=(t,e,o=[])=>{var n;return[...Array.from(((n=t.value)===null||n===void 0?void 0:n.classList)||[]),...o].filter((r,s,c)=>!e.has(r)&&c.indexOf(r)===s)},B=(t,e,o=[],n,r)=>{e!==void 0&&e();const s=D((c,{attrs:i,slots:w,emit:l})=>{var y;let R=c[n];const L=W(),P=new Set(ie(i.class)),O={created:C=>{(Array.isArray(r)?r:[r]).forEach(d=>{C.addEventListener(d.toLowerCase(),p=>{R=(p==null?void 0:p.target)[n],l(ne,R)})})}},m=Q(),u=((y=m==null?void 0:m.appContext)===null||y===void 0?void 0:y.provides[oe])?A(oe):void 0,b=C=>{const{routerLink:f}=c;if(f!==j)if(u!==void 0){let d={event:C};for(const p in c){const a=c[p];c.hasOwnProperty(p)&&p.startsWith(wt)&&a!==j&&(d[p]=a)}u.navigate(d)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{R=c[n],ie(i.class).forEach(a=>{P.add(a)});const C=c.onClick,f=a=>{C!==void 0&&C(a),a.defaultPrevented||b(a)};let d={ref:L,class:Lt(L,P),onClick:f};for(const a in c){const g=c[a];(c.hasOwnProperty(a)&&g!==j||a.startsWith(kt))&&(d[a]=g)}n&&(c[q]!==j?d=Object.assign(Object.assign({},d),{[n]:c[q]}):R!==j&&(d=Object.assign(Object.assign({},d),{[n]:R})));const p=S(t,d,w.default&&w.default());return n===void 0?p:Ct(p,[[O]])}});return typeof s!="function"&&(s.name=t,s.props={[Rt]:Y},o.forEach(c=>{s.props[c]=Y}),n&&(s.props[q]=Y,s.emits=[ne])),s},Kt=B("ion-accordion",Ae,["value","disabled","readonly","toggleIcon","toggleIconSlot"]),Xt=B("ion-accordion-group",_e,["animated","multiple","value","disabled","readonly","expand","ionChange","ionValueChange"],"value","ion-change"),qt=B("ion-badge",Ve,["color"]),Yt=B("ion-button",$e,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),Jt=B("ion-buttons",xe,["collapse"]),Qt=B("ion-checkbox",je,["color","name","checked","indeterminate","disabled","value","labelPlacement","justify","alignment","ionChange","ionFocus","ionBlur"],"checked","ion-change"),Zt=B("ion-col",Fe,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]),en=B("ion-content",He,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),tn=B("ion-footer",Me,["collapse","translucent"]),nn=B("ion-grid",ze,["fixed"]),on=B("ion-header",Ne,["collapse","translucent"]),an=B("ion-img",We,["alt","src","ionImgWillLoad","ionImgDidLoad","ionError"]),sn=B("ion-input",Ge,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),rn=B("ion-input-password-toggle",Ue,["color","showIcon","hideIcon","type"]),cn=B("ion-item",Ke,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),un=B("ion-label",Xe,["color","position","ionColor","ionStyle"]),ln=B("ion-list",qe,["lines","inset"]),dn=B("ion-progress-bar",Ye,["type","reversed","value","buffer","color"]),fn=B("ion-row",Je),pn=B("ion-searchbar",Qe,["color","animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","disabled","inputmode","enterkeyhint","maxlength","minlength","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value","ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus","ionStyle"],"value","ion-input"),mn=B("ion-segment",Ze,["color","disabled","scrollable","swipeGesture","value","selectOnFocus","ionChange","ionSelect","ionStyle"],"value","ion-change"),hn=B("ion-segment-button",et,["disabled","layout","type","value"],"value","ion-change"),gn=B("ion-select",tt,["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","multiple","name","okText","placeholder","selectedText","toggleIcon","expandedIcon","shape","value","ionChange","ionCancel","ionDismiss","ionFocus","ionBlur","ionStyle"],"value","ion-change"),bn=B("ion-select-option",nt,["disabled","value"]),vn=B("ion-skeleton-text",ut,["animated","ionStyle"]),yn=B("ion-text",ot,["color"]),In=B("ion-title",it,["color","size","ionStyle"]),Cn=B("ion-toolbar",at,["color"]);var _;(function(t){t.WillEnter="onIonViewWillEnter",t.DidEnter="onIonViewDidEnter",t.WillLeave="onIonViewWillLeave",t.DidLeave="onIonViewDidLeave"})(_||(_={}));const Bt={[me]:_.WillEnter,[he]:_.DidEnter,[ge]:_.WillLeave,[be]:_.DidLeave},ae={main:0},Tt=(t="main")=>{var e;const o=((e=ae[t])!==null&&e!==void 0?e:0)+1;return ae[t]=o,o.toString()},z=(t,e,o)=>{t!=null&&t[o]&&t[o].bind(e==null?void 0:e.value)();const n=e==null?void 0:e.value;if(n!=null&&n[o]&&n[o](),n){const r=Bt[o],s=n[r];s&&s.forEach(c=>c())}},ve=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},St=(t,e,o)=>{if(o){const n=o,r=n.proxy[t]||(n.proxy[t]=[]);n.exposed&&(n.exposed[t]=r);const s=(...c)=>{if(!n.isUnmounted)return c?e(...c):e()};return r.push(s),s}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},K=t=>(e,o=Q())=>St(t,e,o);K(_.WillEnter);K(_.DidEnter);K(_.WillLeave);K(_.DidLeave);const En=()=>{const{canGoBack:t,goBack:e,goForward:o,handleNavigate:n}=A("navManager"),r=(l,y,R,L)=>n(l,R,y,L);return{canGoBack:t,push:(l,y)=>r(l,"forward","push",y),replace:(l,y)=>r(l,"root","replace",y),back:l=>e(l),forward:l=>o(l),navigate:r}},J=t=>t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),Pt=()=>({ael:(t,e,o,n)=>t.addEventListener(J(e),o,n),rel:(t,e,o,n)=>t.removeEventListener(J(e),o,n),ce:(t,e)=>new CustomEvent(J(t),e)}),Rn={async install(t,e={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:o,rel:n,ce:r}=Pt();lt(Object.assign(Object.assign({},e),{_ael:o,_rel:n,_ce:r}))}},Dt=D((t,{attrs:e,slots:o})=>{Be();const n=A("navManager"),r=()=>{if(n===void 0)return;const s=e["default-href"]||e.defaultHref,c=e["router-animation"]||e.routerAnimation;n.handleNavigateBack(s,c)};return()=>S("ion-back-button",Object.assign({onClick:r},e),o.default&&o.default())});Dt.name="IonBackButton";const wn=D({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(t,{attrs:e,slots:o}){return()=>S("div",Object.assign(Object.assign({},e),{class:"ion-page",ref:"ionPage"}),o.default&&o.default())}}),se=t=>!t.classList.contains("ion-page-hidden")&&!t.classList.contains("ion-page-invisible"),re=Symbol(0),kn=D({name:"IonRouterOutlet",setup(){Pe();const t=A(ft),e=pt(),o=A(re,0),n=vt(()=>e.matched[o]);let r,s;ee(re,o+1),ee(mt,n);const c=W(),i=Tt("ion-router-outlet"),w=A("navManager"),l=A("viewStacks"),y=U([]);let R=!1,L;te(()=>[e,n.value],([f,d])=>{if(d!==void 0){const p=d!==r,a=f.matched[f.matched.length-1]===d&&f.path!==s;(p||a)&&b(n)}r=d,s=f.path},{deep:!0});const P=()=>{const f=ve();if(!(f&&f.get("swipeBackEnabled",c.value.mode==="ios")))return!1;const p=l.getViewStack(i);if(!p||p.length<=1)return!1;const a=w.getLeavingRouteInfo();return!!l.findViewItemByRouteInfo({pathname:a.pushedByRoute||""},i)},O=async()=>{const f=w.getLeavingRouteInfo(),{routerAnimation:d}=f,p=l.findViewItemByRouteInfo({pathname:f.pushedByRoute||""},i),a=l.findViewItemByRouteInfo(f,i);if(a){let g=d;const I=p.ionPageElement,k=a.ionPageElement,v=p.routerAnimation;g===void 0&&v!==void 0&&(g=v),a.routerAnimation=g,await h(I,k,"back",w.canGoBack(2),!0,g)}return Promise.resolve()},m=f=>{if(f)R=!0,w.handleNavigateBack();else{const d=w.getCurrentRouteInfo(),p=l.findViewItemByRouteInfo({pathname:d.pushedByRoute||""},i);p.ionPageElement.setAttribute("aria-hidden","true"),p.ionPageElement.classList.add("ion-page-hidden")}};te(c,()=>{c.value.swipeHandler={canStart:P,onStart:O,onEnd:m}});const h=async(f,d,p,a,g,I)=>{if(R)return R=!1,Promise.resolve(!1);if(f===d)return Promise.resolve(!1);f.classList.add("ion-page-invisible");const k=p===void 0||p==="root"||p==="none";return await c.value.commit(f,d,{duration:k&&I===void 0?0:void 0,direction:p,showGoBack:a,progressAnimation:g,animationBuilder:I})},u=async()=>{const f=w.getCurrentRouteInfo(),{routerDirection:d,routerAction:p,routerAnimation:a,prevRouteLastPathname:g,delta:I}=f,k=l.findViewItemByRouteInfo(f,i);let v=l.findLeavingViewItemByRouteInfo(f,i);const V=k.ionPageElement;if(V===void 0&&console.warn("[@ionic/vue Warning]: The view you are trying to render for path ".concat(f.pathname," does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.")),k!==v&&(!v&&g&&(v=l.findViewItemByPathname(g,i)),!(se(V)&&(v==null?void 0:v.ionPageElement)!==void 0&&!se(v.ionPageElement)))){if(z(k.vueComponent,k.vueComponentRef,me),v!=null&&v.ionPageElement&&k!==v){let E=a;const $=v.ionPageElement;z(v.vueComponent,v.vueComponentRef,ge);const F=k.routerAnimation;E===void 0&&d==="back"&&F!==void 0&&(E=F),v.routerAnimation=E,await h(V,$,d,!!f.pushedByRoute,!1,E),$.classList.add("ion-page-hidden"),$.setAttribute("aria-hidden","true");const M=l.size()===1;p==="replace"?(v.mount=!1,v.ionPageElement=void 0,v.ionRoute=!1):p==="push"&&d==="forward"?M&&l.mountIntermediaryViews(i,v,I):d!=="none"&&v&&k!==v&&(v.mount=!1,v.ionPageElement=void 0,v.ionRoute=!1,M&&l.unmountLeavingViews(i,k,I)),z(v.vueComponent,v.vueComponentRef,be)}else requestAnimationFrame(()=>V.classList.remove("ion-page-invisible"));z(k.vueComponent,k.vueComponentRef,he),y.value=l.getChildrenToRender(i)}},b=f=>{const d=e.matched[0];if(L||(L=d.path),!f.value||f.value!==d&&d.path!==L)return;const p=w.getCurrentRouteInfo();let a=l.findViewItemByRouteInfo(p,i);a||(a=l.createViewItem(i,f.value.components.default,f.value,p),l.add(a)),a.mount?u():(a.mount=!0,a.registerCallback=()=>{u(),a.registerCallback=void 0}),y.value=l.getChildrenToRender(i)};return n.value&&b(n),yt(()=>l.clear(i)),{id:i,components:y,injectedRoute:t,ionRouterOutlet:c,registerIonPage:(f,d)=>{const p=f.ionPageElement;l.registerIonPage(f,d),f.registerCallback?(d.classList.add("ion-page-invisible"),f.registerCallback()):p&&!p.classList.contains("ion-page-invisible")&&d.classList.remove("ion-page-invisible")}}},render(){const{components:t,registerIonPage:e,injectedRoute:o}=this;return S("ion-router-outlet",{ref:"ionRouterOutlet"},t&&t.map(n=>{var r,s;let c={ref:n.vueComponentRef,key:n.pathname,registerIonPage:y=>e(n,y)};const i=(s=(r=n.matchedRoute)===null||r===void 0?void 0:r.props)===null||s===void 0?void 0:s.default,l=i?i===!0?n.params:typeof i=="function"?(()=>{var y;const R=(y=n.vueComponentData)===null||y===void 0?void 0:y.propsFunctionResult;if(R)return R;{const L=i(o);return n.vueComponentData=Object.assign(Object.assign({},n.vueComponentData),{propsFunctionResult:L}),L}})():i:null;return c=Object.assign(Object.assign({},c),l),S(n.vueComponent,c)}))}}),Ln=D({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(t,{slots:e}){st();const o=A("navManager"),n=r=>{r.cancelable&&r.preventDefault();const{tab:s,href:c,_getTabState:i}=t,w=i(),l=w.tabs[s]||{},y=l.originalHref||c,R=l.currentHref||c;w.activeTab===s?y!==R&&o.resetTab(s):o.changeTab(s,R)};return()=>S("ion-tab-button",Object.assign({onClick:n},t),e.default&&e.default())}}),ce="ionTabsWillChange",ue="ionTabsDidChange",le=t=>t.type&&(t.type.name==="IonRouterOutlet"||t.type==="ion-router-outlet"),Ot=t=>t.type&&(t.type.name==="IonTabBar"||t.type==="ion-tab-bar"),Bn=D({name:"IonTabs",emits:[ce,ue],render(){var t;const{$slots:e,$emit:o}=this,n=e.default&&e.default();let r;if(n&&n.length>0&&(r=n.find(c=>le(c))),!r)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let s=[S("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},r)];if(n&&n.length>0){const c=n.filter(l=>!l.type||!le(l)),i=c.find(l=>Ot(l)),w=i&&((t=i.props)===null||t===void 0?void 0:t.slot)==="top";i&&(i.props||(i.props={}),i.props._tabsWillChange=l=>o(ce,{tab:l}),i.props._tabsDidChange=l=>o(ue,{tab:l})),w?s=[...c,...s]:s=[...s,...c]}return S("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},s)}}),ye=t=>{var e;return((e=t.type)===null||e===void 0?void 0:e.name)==="IonTabButton"},Ie=t=>{let e=[];return t.forEach(o=>{if(ye(o))e.push(o);else if(Array.isArray(o.children)&&o.children.length>1){const n=Ie(o.children);e=[...e,...n]}}),e},Tn=D({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data(){return{tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}},updated(){this.setupTabState(A("navManager"))},methods:{setupTabState(t){const e=this.$data.tabState,o=Q();(this.$data.tabVnodes=Ie(o.subTree.children||[])).forEach(r=>{e.tabs[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,ref:r},r.component.props._getTabState=()=>e}),this.checkActiveTab(t)},checkActiveTab(t){const e=t.getCurrentRouteInfo(),o=this.$data.tabVnodes,{tabs:n,activeTab:r}=this.$data.tabState,s=this.$data.tabState,i=Object.keys(n).find(R=>{const L=n[R].originalHref;return e.pathname.startsWith(L)});if(o.forEach(R=>{const L=n[R.props.tab];(!L||L.originalHref!==R.props.href)&&(n[R.props.tab]={originalHref:R.props.href,currentHref:R.props.href,ref:R})}),i&&r){const R=this.$data.tabState.tabs[r].currentHref;if(i!==r||R!==e.pathname){const L=e.search?"?".concat(e.search):"";n[i]=Object.assign(Object.assign({},n[i]),{currentHref:e.pathname+L})}e.routerAction==="pop"&&i!==r&&(n[r]=Object.assign(Object.assign({},n[r]),{currentHref:n[r].originalHref}))}const w=o.find(R=>{var L;return ye(R)&&((L=R.props)===null||L===void 0?void 0:L.tab)===i}),l=this.$refs.ionTabBar,y=i!==r;l&&(w?(y&&this.$props._tabsWillChange(i),t.handleSetCurrentTab(i),l.selectedTab=s.activeTab=i,y&&this.$props._tabsDidChange(i)):l.selectedTab=s.activeTab="")}},mounted(){const t=A("navManager");this.setupTabState(t),t.registerHistoryChangeListener(()=>this.checkActiveTab(t))},setup(t,{slots:e}){return De(),()=>S("ion-tab-bar",{ref:"ionTabBar"},e.default&&e.default())}}),H=U([]),At=D((t,{attrs:e,slots:o})=>(Te(),()=>S("ion-app",Object.assign({},e),[o.default&&o.default(),...H.value])));At.name="IonApp";const _t=t=>{H.value=[...H.value,t]},Vt=t=>{H.value=H.value.filter(e=>e!==t)},Ce=(t=_t,e=Vt)=>{const o=new WeakMap;return{attachViewToDom:(s,c,i={},w)=>{const l=document.createElement("div");w&&l.classList.add(...w),s.appendChild(l);const y=S(It,{to:l},S(c,Object.assign({},i)));return o.set(l,y),t(y),Promise.resolve(l)},removeViewFromDom:(s,c)=>{const i=o.get(c);return i&&e(i),Promise.resolve()}}},Ee=D(t=>{Se();const e=U([]),r=Ce(s=>e.value=[...e.value,s],s=>e.value=e.value.filter(c=>c!==s));return()=>S("ion-nav",Object.assign(Object.assign({},t),{delegate:r}),e.value)});Ee.name="IonNav";Ee.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const Sn=D({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(t,{slots:e}){return bt(),()=>{var o,n;const{icon:r,ios:s,md:c,mode:i}=t;let w;const l=ve(),y=i||(l==null?void 0:l.get("mode"));return s||c?y==="ios"?w=(o=s!=null?s:c)!==null&&o!==void 0?o:r:w=(n=c!=null?c:s)!==null&&n!==void 0?n:r:w=r,S("ion-icon",Object.assign(Object.assign({},t),{icon:w}),e)}}}),Re=Symbol(),de={default:Re},we=(t,e,o=[],n,r)=>{const c=D((i,{slots:w})=>{e!==void 0&&e();const l=W(!1),y=W();return Et(()=>{y.value.addEventListener("ion-mount",()=>l.value=!0),y.value.addEventListener("will-present",()=>l.value=!0),y.value.addEventListener("did-dismiss",()=>l.value=!1)}),()=>{let R={};for(const P in i){const O=i[P];i.hasOwnProperty(P)&&O!==Re&&(R[P]=O)}const L=()=>n?S("div",{className:"ion-delegate-host ion-page"},w):w;return S(t,Object.assign(Object.assign({},R),{ref:y}),l.value||R.keepContentsMounted||R.keepContentsMounted===""?L():void 0)}});return c.name=t,c.props={isOpen:de},o.forEach(i=>{c.props[i]=de}),c},Pn=we("ion-loading",rt,["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"]),Dn=we("ion-modal",ct,["animated","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","enterAnimation","focusTrap","handle","handleBehavior","htmlAttributes","initialBreakpoint","isOpen","keepContentsMounted","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","trigger"],!0),$t=(t,e,o=!1)=>{const n=o?Ce():void 0,r=e.create.bind(e);return e.create=s=>(t(),r(Object.assign(Object.assign({},s),{delegate:n}))),e},On=$t(Oe,dt),xt=()=>{const t=[],e={},o=m=>{switch(m.routerAction){case"pop":r(m);break;default:s(m);break}m.routerDirection==="root"&&(c(),s(m))},n=m=>{const h=t.findIndex(b=>b.id===m.id);h>-1&&t.splice(h,1,m);const u=e[m.tab||""];if(u){const b=u.findIndex(C=>C.id===m.id);b>-1?u.splice(b,1,m):u.push(m)}else m.tab&&(e[m.tab]=[m])},r=m=>{const h=i(m.tab);let u;if(h){for(u=h[h.length-1];u&&u.id!==m.id;)h.pop(),u=h[h.length-1];h.pop(),h.push(m)}for(u=t[t.length-1];u&&u.id!==m.id;)t.pop(),u=t[t.length-1];t.pop(),t.push(m)},s=m=>{const h=i(m.tab);h&&(h[h.length-1]&&h[h.length-1].id===m.id&&h.pop(),h.push(m)),t.push(m)},c=m=>{if(m){const{position:h,tab:u}=m,b=t.findIndex(d=>d.position===h);if(b===-1)return;t.splice(b);const C=d=>{const p=e[d].findIndex(a=>a.position===h);p!==-1&&e[d].splice(p)},f=e[u];if(u&&f)C(u);else for(const d in e)C(d)}else{for(const h in e)e[h]=[];t.length=0}},i=m=>{let h;return m&&(h=e[m],h||(h=e[m]=[])),h},w=()=>t.length,l=(m,h)=>{const u=h-m;return t[u]||y()},y=()=>t[t.length-1];return{current:l,size:w,last:y,add:o,canGoBack:(m=1,h,u)=>u-m>=h,update:n,getFirstRouteInfoForTab:m=>{const h=i(m);if(h)return h[0]},getCurrentRouteInfoForTab:m=>{const h=i(m);if(h)return h[h.length-1]},findLastLocation:(m,h=-1)=>{const u=i(m.tab);if(u){if(h<-1)return u[u.length-1+h];for(let b=u.length-2;b>=0;b--){const C=u[b];if(C&&C.pathname===m.pushedByRoute)return C}}if(h<-1)return t[t.length-1+h];for(let b=t.length-2;b>=0;b--){const C=t[b];if(C&&C.pathname===m.pushedByRoute)return C}},clearHistory:c}},fe={main:0},ke=(t="main")=>{var e;const o=((e=fe[t])!==null&&e!==void 0?e:0)+1;return fe[t]=o,o.toString()},jt=(t,e)=>{let o={direction:void 0,action:void 0,delta:void 0};e.afterEach((a,g,I)=>{if(I)return;const{direction:k,action:v,delta:V}=o;s=t.history.state.position;const E=t.history.state.replaced?"replace":void 0;R(a,v||E,k,V),o={direction:void 0,action:void 0,delta:void 0}});const n=xt();let r=t.history.state.position,s=t.history.state.position,c,i;const w=[];typeof document<"u"&&document.addEventListener("ionBackButton",a=>{a.detail.register(0,g=>{t.history.go(-1),g()})}),t.history.listen((a,g,I)=>{o={delta:I.delta,action:I.type==="pop"&&I.delta>=1?"push":I.type,direction:I.direction===""?"forward":I.direction}});const l=(a,g)=>{const I=n.current(r,s);if(I&&I.pushedByRoute){const k=n.findLastLocation(I);k?(i=Object.assign(Object.assign({},k),{routerAction:"pop",routerDirection:"back",routerAnimation:g||I.routerAnimation}),I.lastPathname===I.pushedByRoute||k.pathname===I.pushedByRoute&&!I.tab&&!k.tab?e.back():e.go(k.position-I.position)):y(a,"pop","back",g)}else y(a,"pop","back",g)},y=(a,g,I,k,v)=>{C(g,I,k,v),g==="push"?e.push(a):e.replace(a)},R=(a,g,I,k)=>{let v;if(i)if(i.routerAction==="replace")v=n.current(r,s);else if(i.routerAction==="pop")v=n.current(r,s+1),g==="replace"&&n.clearHistory();else{const E=i.routerDirection==="root"?s:s-1;v=n.current(r,E)}else v=c;if(v||(v={pathname:"",search:""}),v.pathname+v.search!==a.fullPath){if(!i){if(g==="replace")i={routerAction:"replace",routerDirection:"none"};else if(g==="pop"){const x=n.current(r,s-k);if(x&&x.pushedByRoute){const T=n.findLastLocation(x,k);i=Object.assign(Object.assign({},T),{routerAction:"pop",routerDirection:"back"})}else i={routerAction:"pop",routerDirection:"none"}}i||(i={routerAction:"push",routerDirection:I||"forward"})}let E;if(i!=null&&i.id)E=Object.assign(Object.assign({},i),{lastPathname:v.pathname});else{const x=i.routerAction==="push"&&i.routerDirection==="forward";if(E=Object.assign(Object.assign({id:ke("routeInfo")},i),{lastPathname:v.pathname,pathname:a.path,search:a.fullPath&&a.fullPath.split("?")[1]||"",params:a.params&&a.params,prevRouteLastPathname:v.lastPathname}),x)E.pushedByRoute=v.pathname!==""?v.pathname:void 0;else if(E.routerAction==="pop"){const T=n.findLastLocation(E);E.pushedByRoute=T==null?void 0:T.pushedByRoute}else if(E.routerAction==="push"&&E.tab!==v.tab){const T=n.getCurrentRouteInfoForTab(E.tab);E.pushedByRoute=T==null?void 0:T.pushedByRoute}else if(E.routerAction==="replace"){const T=n.current(r,s),X=T==null?void 0:T.pushedByRoute,Le=X!==void 0&&X!==E.pathname?X:E.pushedByRoute;E.lastPathname=(T==null?void 0:T.pathname)||E.lastPathname,E.pushedByRoute=Le,E.routerDirection=(T==null?void 0:T.routerDirection)||E.routerDirection,E.routerAnimation=(T==null?void 0:T.routerAnimation)||E.routerAnimation,E.prevRouteLastPathname=T==null?void 0:T.lastPathname}}E.position=s,E.delta=k;const $=n.size(),F=s-r,M=$===F&&$>0&&g==="replace";$>F||M?(E.routerAction==="push"||E.routerAction==="replace")&&k===void 0&&(n.clearHistory(E),n.add(E)):n.add(E),n.size()===1&&(r=E.position),c=E}i=void 0,w.forEach(E=>E(c))},L=()=>c,P=(a=1)=>n.canGoBack(a,r,s),O=a=>{const{routerAnimation:g,routerDirection:I,routerLink:k}=a;C("push",I,g),e.push(k)},m=a=>{const g=n.getFirstRouteInfoForTab(a);g&&e.go(g.position-s)},h=(a,g)=>{if(!g)return;const I=n.getCurrentRouteInfoForTab(a),[k]=g.split("?");I?(i=Object.assign(Object.assign({},i),{routerAction:"push",routerDirection:"none",tab:a}),I.pathname===k?e.push({path:I.pathname,query:Z(I.search)}):e.push({path:k,query:Z(I.search)})):y(k,"push","none",void 0,a)},u=a=>{const g=Object.assign({},n.current(r,s));g.tab!==a&&(g.tab=a,n.update(g));const I=n.findLastLocation(g);g.pushedByRoute!==g.lastPathname&&(I==null?void 0:I.tab)!==a&&(g.pushedByRoute=void 0,n.update(g))},b=a=>{w.push(a)},C=(a="push",g="forward",I,k)=>{i={routerAction:a,routerDirection:g,routerAnimation:I,tab:k}};return{handleNavigate:y,getLeavingRouteInfo:()=>n.current(r,s),handleNavigateBack:l,handleSetCurrentTab:u,getCurrentRouteInfo:L,canGoBack:P,navigate:O,resetTab:m,changeTab:h,registerHistoryChangeListener:b,goBack:a=>{C("pop","back",a),e.back()},goForward:a=>{C("push","forward",a),e.forward()}}},Ft=t=>{const e={},o=()=>Object.keys(e).length,n=u=>{delete e[u]},r=u=>e[u],s=(u,b)=>{u.ionPageElement=b,u.ionRoute=!0,u.matchedRoute.instances={default:u.vueComponentRef.value}},c=(u,b)=>y(u.pathname,b,!1),i=(u,b,C=!0)=>y(u.lastPathname,b,C),w=(u,b)=>y(u,b,!1),l=(u,b)=>b.find(C=>{if(C.pathname===u)return C}),y=(u,b,C=!1)=>{const f=d=>{if(C&&!d.ionRoute||u==="")return!1;const a=t.resolve(u).matched.find(g=>g===d.matchedRoute);if(a)return a.path.includes(":")&&u!==d.pathname?!1:d};if(b){const d=e[b];if(!d)return;const p=t?d.find(f):l(u,d);if(p)return p}else for(const d in e){const p=e[d],a=l(u,p);if(a)return a}};return{unmountLeavingViews:(u,b,C=1)=>{const f=e[u];if(!f)return;const d=f.findIndex(p=>p===b);for(let p=d+1;p<d-C;p++){const a=f[p];a.mount=!1,a.ionPageElement=void 0,a.ionRoute=!1,a.matchedRoute.instances={}}},mountIntermediaryViews:(u,b,C=1)=>{const f=e[u];if(!f)return;const d=f.findIndex(p=>p===b);for(let p=d+1;p<d+C;p++)f[p].mount=!0},clear:n,findViewItemByRouteInfo:c,findLeavingViewItemByRouteInfo:i,findViewItemByPathname:w,createViewItem:(u,b,C,f,d)=>({id:ke("viewItem"),pathname:f.pathname,outletId:u,matchedRoute:C,ionPageElement:d,vueComponent:b,vueComponentRef:U(),ionRoute:!1,mount:!1,exact:f.pathname===C.path,params:f.params,vueComponentData:{}}),getChildrenToRender:u=>e[u]?e[u].filter(f=>f.mount):[],add:u=>{const{outletId:b}=u;e[b]?e[b].push(u):e[b]=[u]},remove:(u,b)=>{if(!b)throw Error("outletId required");const C=e[b];C&&(e[b]=C.filter(f=>f.id!==u.id))},registerIonPage:s,getViewStack:r,size:o}},An=t=>{const e=Object.assign({},t);delete e.tabsPrefix;const o=ht(e),n=jt(t,o),r=Ft(o),s=o.install.bind(o);o.install=i=>{i.provide("navManager",n),i.provide("viewStacks",r),s(i)};const c=o.isReady.bind(o);return o.isReady=()=>c(),o},_n=t=>gt(t),N={SecureStorage:"ionicSecureStorage",IndexedDB:G.INDEXEDDB,LocalStorage:G.LOCALSTORAGE},pe={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[N.SecureStorage,N.IndexedDB,N.LocalStorage]};class Vn{constructor(e=pe){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},pe,e||{});this._config=o}async create(){const e=G.createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===N.SecureStorage&&(this._secureStorageDriver=e),G.defineDriver(e)}get driver(){var e;return((e=this._db)===null||e===void 0?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,o){return this.assertDb().setItem(e,o)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var o;if(this._secureStorageDriver)(o=this._secureStorageDriver)===null||o===void 0||o.setEncryptionKey(e);else throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available")}}export{Kt as A,cn as B,ln as C,gn as D,bn as E,vn as F,pn as G,mn as H,on as I,hn as J,sn as K,rn as L,Qt as M,qt as N,yn as O,tn as P,Dn as Q,Vn as S,nn as a,fn as b,Zt as c,an as d,Sn as e,Yt as f,kn as g,Tn as h,Bn as i,wn as j,Ln as k,un as l,Cn as m,en as n,Jt as o,Dt as p,In as q,dn as r,An as s,On as t,En as u,_n as v,Pn as w,At as x,Rn as y,Xt as z};
