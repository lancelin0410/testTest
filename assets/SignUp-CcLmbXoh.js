import{a9 as R,l as S,aa as $,r as b,ab as O,ac as A,j as k,w as a,u as e,D,d as y,f as o,x as M,M as T,h as i,y as p,H as h,ad as I,v,B as l,L as z,J as E,af as G,ag as j,K as w,a1 as q,ah as x,z as F,A as H,C as J,ai as K}from"./index-BWYPlUKf.js";const Q={style:{"font-weight":"1000"}},W={class:"input-prefix",slot:"start"},X=i("span",{class:"input-prefix",slot:"start"},"OTP",-1),Y={class:"note"},Z=i("div",{class:"sign-up-divider"},[i("hr"),i("div",{class:"divider-text"},"OR")],-1),oe={__name:"SignUp",setup(ee){const{t:d}=R(),U=D(),u=S(),f=$(),{getPublicUrl:V}=J(),m=b(!1),t=O({promotionCode:u.inviteCode,device:"h5",mobile:"",sessionId:"",code:""});let C;const _=Number(u.appConfig.callPrefixes),g=b(d("account.button.otp")),c=b(0),P=async()=>{if(c.value==0){if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:d("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}const s=await K({mobile:u.encrypt.encrypt(t.mobile),callPrefixes:_});s.code==="00000"&&(t.sessionId=s.data.sessionId,c.value=60,L())}},L=()=>{g.value="".concat(c.value,"s"),C=setInterval(()=>{c.value>0?(c.value--,g.value="".concat(c.value,"s")):(g.value=d("account.button.otp"),c.value=0,clearInterval(C))},1e3)},B=async()=>{if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:d("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}if(!t.code||t.code.length==0){await(await toastController.create({message:d("account.resister.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}u.fullLoading=!0,await f.mobileRegister(t),u.fullLoading=!1},N=async()=>{u.fullLoading=!0,await f.anonymousRegister(t),u.fullLoading=!1};return A(()=>f.isLogin,()=>{f.isLogin&&U.replace("/")}),(s,n)=>(y(),k(e(H),{class:"sign-up"},{default:a(()=>[o(e(M),{src:e(V)("/banner.webp")},null,8,["src"]),o(e(F),null,{default:a(()=>[o(e(T),{lines:"none"},{default:a(()=>[i("h5",Q,p(s.$t("login.header.signUp")),1),o(e(h),null,{default:a(()=>[o(e(I),{modelValue:t.mobile,"onUpdate:modelValue":n[0]||(n[0]=r=>t.mobile=r),fill:"outline",placeholder:"Phone Number"},{default:a(()=>[i("span",W,"+"+p(e(_)),1)]),_:1},8,["modelValue"])]),_:1}),o(e(h),null,{default:a(()=>[o(e(I),{modelValue:t.code,"onUpdate:modelValue":n[1]||(n[1]=r=>t.code=r),placeholder:s.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:a(()=>[X,o(e(v),{slot:"end",class:"btn-otp",color:"medium",style:{color:"#00ff84"},onClick:P},{default:a(()=>[l(p(g.value),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),o(e(h),null,{default:a(()=>[o(e(z),null,{default:a(()=>[i("div",{style:{"font-size":"0.8rem","font-weight":"1000","margin-bottom":"8px",display:"flex","align-items":"center"},onClick:n[2]||(n[2]=w(r=>m.value=!m.value,["stop"]))},[l(" Enter Referral / Promo Code "),o(e(E),{icon:m.value?e(G):e(j),style:{"margin-left":"4px"}},null,8,["icon"])]),m.value?(y(),k(e(I),{key:0,modelValue:t.promotionCode,"onUpdate:modelValue":n[3]||(n[3]=r=>t.promotionCode=r),fill:"outline"},null,8,["modelValue"])):q("",!0)]),_:1})]),_:1})]),_:1}),o(e(x),{checked:!0,"label-placement":"end"},{default:a(()=>[l(" I agree to the "),i("a",{href:"#",style:{color:"#fff","font-weight":"800","text-decoration":"none"},onClick:n[4]||(n[4]=r=>r.stopPropagation())},"User Agreement"),l(" & confirm I am at least 18 years old ")]),_:1}),o(e(x),{checked:!0,"label-placement":"end"},{default:a(()=>[l(" I agree to receive marketing promotions from BC.GAME. ")]),_:1}),o(e(v),{class:"btn-sign-up",expand:"block",onClick:w(B,["stop"])},{default:a(()=>[l(p(s.$t("login.header.signUp")),1)]),_:1}),i("div",Y,[l(" Already have an account? "),o(e(v),{class:"btn-sing-in",fill:"clear","router-link":"/login/signIn"},{default:a(()=>[l("Sign In")]),_:1})]),Z,o(e(v),{class:"btn-sign-up",expand:"block",onClick:w(N,["stop"])},{default:a(()=>[l(p(s.$t("login.header.signUpOneClick")),1)]),_:1})]),_:1})]),_:1}))}};export{oe as default};
