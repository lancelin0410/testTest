import{r as d,I as i,J as e,G as t,K as r,D as a,R as c,S as w,U as L,F as P,Q as k,M as f,P as g}from"./@vue-3Wdfxk3_.js";import{o as C,u as V,t as b,w as x,x as _,y as B,v as S,p as z,z as T,r as R,j as D,h as N,i as v,l as $}from"./@ionic-ChxHNRcu.js";import{u as j,e as A}from"./index-BtfuBToB.js";import{_ as E}from"./NoData-DOLhCyWu.js";import"./@ionic_components_1-CAQXnsIn.js";import"./@stencil-C-gE1UvY.js";import"./@ionic_components_2-DUGZJZYA.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-CvOicv45.js";import"./ionicons-DCtDYcIg.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./pinia-i8UTD9O9.js";import"./jsencrypt-Ve0Y4aUG.js";import"./vue-i18n-BmGSZPWT.js";import"./@intlify-BAcCFw_v.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";import"./common-icPcROaw.js";const F={style:{"font-size":"1rem","font-weight":"800"}},M={style:{"font-size":"0.8rem"}},ct={__name:"Promotion",setup(U){const I=V(),l=j(),s=d("latest"),u=d({latest:[],archive:[]}),p=async()=>{const o=await await A(0);o.code==="00000"?u.value[s.value]=o.data.list||[]:await(await b.create({message:o.msg||o.code,duration:1500,position:"top",color:"danger",translucent:!0})).present()};C(async()=>{l.barLoading=!0,await p(),l.barLoading=!1});const y=async()=>{s.value=="latest"&&await p(),s.value!="archive"},h=async o=>{I.push({name:"PromotionDetail",params:{promoId:o.id},query:{title:o.title}})};return(o,m)=>(r(),i(t(z),{class:"promotion"},{default:e(()=>[a(t(S),null,{default:e(()=>[a(t(x),{modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=n=>s.value=n),mode:"ios",onIonChange:y},{default:e(()=>[a(t(_),{value:"latest"},{default:e(()=>[c("Latest Promotion")]),_:1}),a(t(_),{value:"archive"},{default:e(()=>[c("Archived")]),_:1})]),_:1},8,["modelValue"]),t(l).barLoading||u.value[s.value].length==0?(r(),i(E,{key:0,class:"no-data",desc:o.$t("mail.message.nodata")},null,8,["desc"])):(r(),i(t(B),{style:{"margin-top":"16px"},key:s.value},{default:e(()=>[(r(!0),w(P,null,L(u.value[s.value],n=>(r(),i(t(T),{key:n.id,class:"promo-item",lines:"none",onClick:k(q=>h(n),["stop"])},{default:e(()=>[a(t(R),null,{default:e(()=>[a(t(D),{src:n.h5Image},null,8,["src"]),a(t(N),{class:"promo-content ion-justify-content-between"},{default:e(()=>[a(t(v),{size:"auto"},{default:e(()=>[f("h4",F,g(n.title||""),1),f("div",M,g(n.timeText||""),1)]),_:2},1024),a(t(v),{size:"auto"},{default:e(()=>[a(t($),{class:"btn-in-progress"},{default:e(()=>[c("In Progress")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1})]),_:1}))}};export{ct as default};
