System.register(["./@vue-legacy-BTGNLlqW.js","./@ionic-legacy-DRKJ1l3f.js","./ionicons-legacy-DzPLRO0r.js","./index-legacy-B1lhG1-A.js","./pinia-legacy-BNyWqaqq.js","./@capacitor-legacy-0yG8iurR.js","./jsencrypt-legacy-DGJHbPQ6.js","./NoData-legacy-DOL3KMkO.js","./@ionic_components_1-legacy-JpBorfOj.js","./@stencil-legacy-CMekSw7s.js","./@ionic_components_2-legacy-Qqv6OEPb.js","./vue-router-legacy-BIhpig1s.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./vue-i18n-legacy-3mSkocii.js","./@intlify-legacy-DDHA1rkh.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-CuOL20OL.js","./rxjs-legacy-C12cs3ed.js","./tslib-legacy-BRpw1qYg.js"],(function(e,l){"use strict";var a,t,i,n,s,o,c,u,r,d,m,g,h,p,f,y,v,j,b,w,_,x,D,k,I,L,z,M,S,C,T,U,E,N,R,V;return{setters:[e=>{a=e.r,t=e.c,i=e.B,n=e.I,s=e.J,o=e.E,c=e.H,u=e.C,r=e.O,d=e.P,m=e.Q,g=e.F,h=e.L,p=e.M,f=e.Y,y=e.N,v=e.S},e=>{j=e.H,b=e.J,w=e.C,_=e.n,x=e.j,D=e.B,k=e.l,I=e.b,L=e.c,z=e.f,M=e.e},e=>{S=e.g,C=e.h},e=>{T=e.r,U=e.c,E=e.a,N=e.u},e=>{R=e.d},null,null,e=>{V=e._},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".mail{background-color:var(--ion-background-color)}.mail .mail-item{position:relative;height:fit-content;margin-bottom:12px;border-radius:8px}.mail .mail-item .mail-content{position:relative;width:100%;height:fit-content;padding:12px 8px}.mail .mail-item .mail-content .mail-detail{color:#b3bec1;margin:8px 2px;text-align:justify;white-space:pre;overflow:hidden;max-height:4rem}.mail .mail-item .mail-content .mail-detail.show-all{max-height:fit-content}.mail .no-data{position:relative;top:10vh}.mail .btn-show-all{margin-left:auto}.mail .btn-show-all::part(native){padding:0}.mail .btn-view-more{--background: #464f50;--background-activated: #464f50;--border-radius: 8px;--color: rgb(36, 238, 137)}.mail .btn-del{font-size:1.4rem}\n",document.head.appendChild(l);const B=R("mail",(()=>{const e=U(),l=a([]),i=t((()=>l.value.length>0)),n=t((()=>l.value.some((e=>!e.isRead))));return{mailList:l,hasMail:i,hasUnread:n,getMailList:async()=>{const a=await(t=e.userInfo.id,T({url:`/app/h5/siteMsg/${t}`,method:"GET",param:i}));var t,i;"200"===a.state&&(l.value=a.resultData||[])}}}),{persistedState:{persist:!1}}),H={style:{"font-size":"0.8rem"}},J={style:{"font-size":"1rem","font-weight":"800"}};e("default",{__name:"Mail",setup(e){const l=E(),t=B(),{getPublicUrl:T}=N(),U=a("system");return i((async()=>{l.barLoading=!0,await t.getMailList(),window.location.hostname.includes("github.io")&&(t.mailList=[{id:43461,fromUserId:0,userId:3506,appId:"101",type:101,title:"测试",content:"测试\n测试\n测试\n测试\n测试\n测试",attaches:null,attachesStatus:0,isRead:0,createTime:"2024-09-29 18:52:19",receiveTime:null,showDetail:!1},{id:43460,fromUserId:0,userId:3506,appId:"101",type:101,title:"测试",content:"测试",attaches:null,attachesStatus:0,isRead:0,createTime:"2024-09-29 18:36:33",receiveTime:null,showDetail:!1}]),l.barLoading=!1})),(e,a)=>(c(),n(o(x),{class:"mail"},{default:s((()=>[u(o(_),{fullscreen:""},{default:s((()=>[u(o(j),{modelValue:U.value,"onUpdate:modelValue":a[0]||(a[0]=e=>U.value=e),mode:"ios"},{default:s((()=>[u(o(b),{value:"system"},{default:s((()=>[r("System Notices")])),_:1}),u(o(b),{value:"activities"},{default:s((()=>[r("Activities")])),_:1})])),_:1},8,["modelValue"]),o(l).barLoading||!o(t).hasMail?(c(),n(V,{key:0,class:"no-data",desc:e.$t("mail.message.nodata")},null,8,["desc"])):(c(),n(o(w),{key:1,style:{"margin-top":"16px"}},{default:s((()=>[(c(!0),d(g,null,m(o(t).mailList,(e=>(c(),n(o(D),{key:e.id,class:"mail-item",lines:"none"},{default:s((()=>[u(o(k),{class:"mail-content"},{default:s((()=>[h("div",H,p(e.createTime||""),1),h("h4",J,p(e.title||""),1),h("div",{class:f(["mail-detail",{"show-all":e.showDetail}])},p(e.content||""),3),u(o(I),{class:"ion-justify-content-end"},{default:s((()=>[u(o(L),{size:"auto"},{default:s((()=>[u(o(z),{class:"btn-show-all",color:"light",fill:"clear",size:"small",onClick:y((l=>e.showDetail=!e.showDetail),["stop"])},{default:s((()=>[h("span",null,p(e.showDetail?"hide":"Show all"),1),u(o(M),{icon:e.showDetail?o(S):o(C),style:{"margin-left":"4px"}},null,8,["icon"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),u(o(I),{class:"ion-align-items-center ion-justify-content-between"},{default:s((()=>[u(o(L),{size:"auto"},{default:s((()=>[v("",!0)])),_:1}),u(o(L),{size:"auto"},{default:s((()=>[u(o(M),{class:"btn-del",src:o(T)("/icon_userInfo/icon-delete.svg")},null,8,["src"])])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1}))}})}}}));
