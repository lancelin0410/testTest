import{d as ke,a as Se,b as Te,c as Pe,e as Be,f as De,g as Oe,h as Ae,i as _e,j as Ve,k as $e,l as je,m as xe,n as He,o as Fe,p as Me,q as ze,r as We,s as Ne,t as Ge,u as Ue,v as Xe,w as Ke,x as qe,y as Ye,z as Ze,A as Qe,B as Je,C as et,D as tt,E as nt}from"./@ionic_components_1-qzo805MX.js";import"./@stencil-pJInS8Bp.js";import{L as me,a as he,b as ge,c as ve,i as ot,t as it}from"./@ionic_components_2-DIluusZ7.js";import{r as at,u as st,m as rt,c as ct,a as ut,p as J}from"./vue-router-DOZNrN4o.js";import{d as lt}from"./ionicons-Bn0k3rBL.js";import{s as U,g as Q,d as D,h as P,i as _,c as dt,p as ee,r as N,w as te,o as ft,T as pt,a as mt,b as ht}from"./@vue-DTz7U7Qz.js";import{L as G}from"./localforage-qzmIiYbH.js";const ne="update:modelValue",q="modelValue",gt="routerLink",oe="navManager",vt="router",bt="aria",x=Symbol(),Y={default:x},ie=t=>(t==null?void 0:t.split(" "))||[],yt=(t,e,o=[])=>{var n;return[...Array.from(((n=t.value)===null||n===void 0?void 0:n.classList)||[]),...o].filter((c,s,u)=>!e.has(c)&&u.indexOf(c)===s)},T=(t,e,o=[],n,c)=>{e!==void 0&&e();const s=D((u,{attrs:i,slots:L,emit:d})=>{var R;let E=u[n];const k=N(),B=new Set(ie(i.class)),O={created:I=>{(Array.isArray(c)?c:[c]).forEach(l=>{I.addEventListener(l.toLowerCase(),p=>{E=(p==null?void 0:p.target)[n],d(ne,E)})})}},m=Q(),r=((R=m==null?void 0:m.appContext)===null||R===void 0?void 0:R.provides[oe])?_(oe):void 0,v=I=>{const{routerLink:f}=u;if(f!==x)if(r!==void 0){let l={event:I};for(const p in u){const a=u[p];u.hasOwnProperty(p)&&p.startsWith(vt)&&a!==x&&(l[p]=a)}r.navigate(l)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{E=u[n],ie(i.class).forEach(a=>{B.add(a)});const I=u.onClick,f=a=>{I!==void 0&&I(a),a.defaultPrevented||v(a)};let l={ref:k,class:yt(k,B),onClick:f};for(const a in u){const g=u[a];(u.hasOwnProperty(a)&&g!==x||a.startsWith(bt))&&(l[a]=g)}n&&(u[q]!==x?l=Object.assign(Object.assign({},l),{[n]:u[q]}):E!==x&&(l=Object.assign(Object.assign({},l),{[n]:E})));const p=P(t,l,L.default&&L.default());return n===void 0?p:mt(p,[[O]])}});return typeof s!="function"&&(s.name=t,s.props={[gt]:Y},o.forEach(u=>{s.props[u]=Y}),n&&(s.props[q]=Y,s.emits=[ne])),s},Mt=T("ion-accordion",De,["value","disabled","readonly","toggleIcon","toggleIconSlot"]),zt=T("ion-accordion-group",Oe,["animated","multiple","value","disabled","readonly","expand","ionChange","ionValueChange"],"value","ion-change"),Wt=T("ion-badge",Ae,["color"]),Nt=T("ion-button",_e,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),Gt=T("ion-checkbox",Ve,["color","name","checked","indeterminate","disabled","value","labelPlacement","justify","alignment","ionChange","ionFocus","ionBlur"],"checked","ion-change"),Ut=T("ion-col",$e,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]),Xt=T("ion-content",je,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),Kt=T("ion-grid",xe,["fixed"]),qt=T("ion-header",He,["collapse","translucent"]),Yt=T("ion-img",Fe,["alt","src","ionImgWillLoad","ionImgDidLoad","ionError"]),Zt=T("ion-input",Me,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),Qt=T("ion-input-password-toggle",ze,["color","showIcon","hideIcon","type"]),Jt=T("ion-item",We,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),en=T("ion-label",Ne,["color","position","ionColor","ionStyle"]),tn=T("ion-list",Ge,["lines","inset"]),nn=T("ion-row",Ue),on=T("ion-searchbar",Xe,["color","animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","disabled","inputmode","enterkeyhint","maxlength","minlength","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value","ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus","ionStyle"],"value","ion-input"),an=T("ion-segment",Ke,["color","disabled","scrollable","swipeGesture","value","selectOnFocus","ionChange","ionSelect","ionStyle"],"value","ion-change"),sn=T("ion-segment-button",qe,["disabled","layout","type","value"],"value","ion-change"),rn=T("ion-select",Ye,["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","multiple","name","okText","placeholder","selectedText","toggleIcon","expandedIcon","shape","value","ionChange","ionCancel","ionDismiss","ionFocus","ionBlur","ionStyle"],"value","ion-change"),cn=T("ion-select-option",Ze,["disabled","value"]),un=T("ion-skeleton-text",tt,["animated","ionStyle"]),ln=T("ion-toolbar",Qe,["color"]);var A;(function(t){t.WillEnter="onIonViewWillEnter",t.DidEnter="onIonViewDidEnter",t.WillLeave="onIonViewWillLeave",t.DidLeave="onIonViewDidLeave"})(A||(A={}));const It={[me]:A.WillEnter,[he]:A.DidEnter,[ge]:A.WillLeave,[ve]:A.DidLeave},ae={main:0},Ct=(t="main")=>{var e;const o=((e=ae[t])!==null&&e!==void 0?e:0)+1;return ae[t]=o,o.toString()},z=(t,e,o)=>{t!=null&&t[o]&&t[o].bind(e==null?void 0:e.value)();const n=e==null?void 0:e.value;if(n!=null&&n[o]&&n[o](),n){const c=It[o],s=n[c];s&&s.forEach(u=>u())}},be=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},Rt=(t,e,o)=>{if(o){const n=o,c=n.proxy[t]||(n.proxy[t]=[]);n.exposed&&(n.exposed[t]=c);const s=(...u)=>{if(!n.isUnmounted)return u?e(...u):e()};return c.push(s),s}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},X=t=>(e,o=Q())=>Rt(t,e,o);X(A.WillEnter);X(A.DidEnter);X(A.WillLeave);X(A.DidLeave);const Z=t=>t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),Et=()=>({ael:(t,e,o,n)=>t.addEventListener(Z(e),o,n),rel:(t,e,o,n)=>t.removeEventListener(Z(e),o,n),ce:(t,e)=>new CustomEvent(Z(t),e)}),dn={async install(t,e={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:o,rel:n,ce:c}=Et();ot(Object.assign(Object.assign({},e),{_ael:o,_rel:n,_ce:c}))}},wt=D((t,{attrs:e,slots:o})=>{ke();const n=_("navManager"),c=()=>{if(n===void 0)return;const s=e["default-href"]||e.defaultHref,u=e["router-animation"]||e.routerAnimation;n.handleNavigateBack(s,u)};return()=>P("ion-back-button",Object.assign({onClick:c},e),o.default&&o.default())});wt.name="IonBackButton";const fn=D({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(t,{attrs:e,slots:o}){return()=>P("div",Object.assign(Object.assign({},e),{class:"ion-page",ref:"ionPage"}),o.default&&o.default())}}),se=t=>!t.classList.contains("ion-page-hidden")&&!t.classList.contains("ion-page-invisible"),re=Symbol(0),pn=D({name:"IonRouterOutlet",setup(){Pe();const t=_(at),e=st(),o=_(re,0),n=dt(()=>e.matched[o]);let c,s;ee(re,o+1),ee(rt,n);const u=N(),i=Ct("ion-router-outlet"),L=_("navManager"),d=_("viewStacks"),R=U([]);let E=!1,k;te(()=>[e,n.value],([f,l])=>{if(l!==void 0){const p=l!==c,a=f.matched[f.matched.length-1]===l&&f.path!==s;(p||a)&&v(n)}c=l,s=f.path},{deep:!0});const B=()=>{const f=be();if(!(f&&f.get("swipeBackEnabled",u.value.mode==="ios")))return!1;const p=d.getViewStack(i);if(!p||p.length<=1)return!1;const a=L.getLeavingRouteInfo();return!!d.findViewItemByRouteInfo({pathname:a.pushedByRoute||""},i)},O=async()=>{const f=L.getLeavingRouteInfo(),{routerAnimation:l}=f,p=d.findViewItemByRouteInfo({pathname:f.pushedByRoute||""},i),a=d.findViewItemByRouteInfo(f,i);if(a){let g=l;const y=p.ionPageElement,w=a.ionPageElement,b=p.routerAnimation;g===void 0&&b!==void 0&&(g=b),a.routerAnimation=g,await h(y,w,"back",L.canGoBack(2),!0,g)}return Promise.resolve()},m=f=>{if(f)E=!0,L.handleNavigateBack();else{const l=L.getCurrentRouteInfo(),p=d.findViewItemByRouteInfo({pathname:l.pushedByRoute||""},i);p.ionPageElement.setAttribute("aria-hidden","true"),p.ionPageElement.classList.add("ion-page-hidden")}};te(u,()=>{u.value.swipeHandler={canStart:B,onStart:O,onEnd:m}});const h=async(f,l,p,a,g,y)=>{if(E)return E=!1,Promise.resolve(!1);if(f===l)return Promise.resolve(!1);f.classList.add("ion-page-invisible");const w=p===void 0||p==="root"||p==="none";return await u.value.commit(f,l,{duration:w&&y===void 0?0:void 0,direction:p,showGoBack:a,progressAnimation:g,animationBuilder:y})},r=async()=>{const f=L.getCurrentRouteInfo(),{routerDirection:l,routerAction:p,routerAnimation:a,prevRouteLastPathname:g,delta:y}=f,w=d.findViewItemByRouteInfo(f,i);let b=d.findLeavingViewItemByRouteInfo(f,i);const V=w.ionPageElement;if(V===void 0&&console.warn("[@ionic/vue Warning]: The view you are trying to render for path ".concat(f.pathname," does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.")),w!==b&&(!b&&g&&(b=d.findViewItemByPathname(g,i)),!(se(V)&&(b==null?void 0:b.ionPageElement)!==void 0&&!se(b.ionPageElement)))){if(z(w.vueComponent,w.vueComponentRef,me),b!=null&&b.ionPageElement&&w!==b){let C=a;const $=b.ionPageElement;z(b.vueComponent,b.vueComponentRef,ge);const H=w.routerAnimation;C===void 0&&l==="back"&&H!==void 0&&(C=H),b.routerAnimation=C,await h(V,$,l,!!f.pushedByRoute,!1,C),$.classList.add("ion-page-hidden"),$.setAttribute("aria-hidden","true");const M=d.size()===1;p==="replace"?(b.mount=!1,b.ionPageElement=void 0,b.ionRoute=!1):p==="push"&&l==="forward"?M&&d.mountIntermediaryViews(i,b,y):l!=="none"&&b&&w!==b&&(b.mount=!1,b.ionPageElement=void 0,b.ionRoute=!1,M&&d.unmountLeavingViews(i,w,y)),z(b.vueComponent,b.vueComponentRef,ve)}else requestAnimationFrame(()=>V.classList.remove("ion-page-invisible"));z(w.vueComponent,w.vueComponentRef,he),R.value=d.getChildrenToRender(i)}},v=f=>{const l=e.matched[0];if(k||(k=l.path),!f.value||f.value!==l&&l.path!==k)return;const p=L.getCurrentRouteInfo();let a=d.findViewItemByRouteInfo(p,i);a||(a=d.createViewItem(i,f.value.components.default,f.value,p),d.add(a)),a.mount?r():(a.mount=!0,a.registerCallback=()=>{r(),a.registerCallback=void 0}),R.value=d.getChildrenToRender(i)};return n.value&&v(n),ft(()=>d.clear(i)),{id:i,components:R,injectedRoute:t,ionRouterOutlet:u,registerIonPage:(f,l)=>{const p=f.ionPageElement;d.registerIonPage(f,l),f.registerCallback?(l.classList.add("ion-page-invisible"),f.registerCallback()):p&&!p.classList.contains("ion-page-invisible")&&l.classList.remove("ion-page-invisible")}}},render(){const{components:t,registerIonPage:e,injectedRoute:o}=this;return P("ion-router-outlet",{ref:"ionRouterOutlet"},t&&t.map(n=>{var c,s;let u={ref:n.vueComponentRef,key:n.pathname,registerIonPage:R=>e(n,R)};const i=(s=(c=n.matchedRoute)===null||c===void 0?void 0:c.props)===null||s===void 0?void 0:s.default,d=i?i===!0?n.params:typeof i=="function"?(()=>{var R;const E=(R=n.vueComponentData)===null||R===void 0?void 0:R.propsFunctionResult;if(E)return E;{const k=i(o);return n.vueComponentData=Object.assign(Object.assign({},n.vueComponentData),{propsFunctionResult:k}),k}})():i:null;return u=Object.assign(Object.assign({},u),d),P(n.vueComponent,u)}))}}),mn=D({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(t,{slots:e}){Je();const o=_("navManager"),n=c=>{c.cancelable&&c.preventDefault();const{tab:s,href:u,_getTabState:i}=t,L=i(),d=L.tabs[s]||{},R=d.originalHref||u,E=d.currentHref||u;L.activeTab===s?R!==E&&o.resetTab(s):o.changeTab(s,E)};return()=>P("ion-tab-button",Object.assign({onClick:n},t),e.default&&e.default())}}),ce="ionTabsWillChange",ue="ionTabsDidChange",le=t=>t.type&&(t.type.name==="IonRouterOutlet"||t.type==="ion-router-outlet"),Lt=t=>t.type&&(t.type.name==="IonTabBar"||t.type==="ion-tab-bar"),hn=D({name:"IonTabs",emits:[ce,ue],render(){var t;const{$slots:e,$emit:o}=this,n=e.default&&e.default();let c;if(n&&n.length>0&&(c=n.find(u=>le(u))),!c)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let s=[P("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},c)];if(n&&n.length>0){const u=n.filter(d=>!d.type||!le(d)),i=u.find(d=>Lt(d)),L=i&&((t=i.props)===null||t===void 0?void 0:t.slot)==="top";i&&(i.props||(i.props={}),i.props._tabsWillChange=d=>o(ce,{tab:d}),i.props._tabsDidChange=d=>o(ue,{tab:d})),L?s=[...u,...s]:s=[...s,...u]}return P("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},s)}}),ye=t=>{var e;return((e=t.type)===null||e===void 0?void 0:e.name)==="IonTabButton"},Ie=t=>{let e=[];return t.forEach(o=>{if(ye(o))e.push(o);else if(Array.isArray(o.children)&&o.children.length>1){const n=Ie(o.children);e=[...e,...n]}}),e},gn=D({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data(){return{tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}},updated(){this.setupTabState(_("navManager"))},methods:{setupTabState(t){const e=this.$data.tabState,o=Q();(this.$data.tabVnodes=Ie(o.subTree.children||[])).forEach(c=>{e.tabs[c.props.tab]={originalHref:c.props.href,currentHref:c.props.href,ref:c},c.component.props._getTabState=()=>e}),this.checkActiveTab(t)},checkActiveTab(t){const e=t.getCurrentRouteInfo(),o=this.$data.tabVnodes,{tabs:n,activeTab:c}=this.$data.tabState,s=this.$data.tabState,i=Object.keys(n).find(E=>{const k=n[E].originalHref;return e.pathname.startsWith(k)});if(o.forEach(E=>{const k=n[E.props.tab];(!k||k.originalHref!==E.props.href)&&(n[E.props.tab]={originalHref:E.props.href,currentHref:E.props.href,ref:E})}),i&&c){const E=this.$data.tabState.tabs[c].currentHref;if(i!==c||E!==e.pathname){const k=e.search?"?".concat(e.search):"";n[i]=Object.assign(Object.assign({},n[i]),{currentHref:e.pathname+k})}e.routerAction==="pop"&&i!==c&&(n[c]=Object.assign(Object.assign({},n[c]),{currentHref:n[c].originalHref}))}const L=o.find(E=>{var k;return ye(E)&&((k=E.props)===null||k===void 0?void 0:k.tab)===i}),d=this.$refs.ionTabBar,R=i!==c;d&&(L?(R&&this.$props._tabsWillChange(i),t.handleSetCurrentTab(i),d.selectedTab=s.activeTab=i,R&&this.$props._tabsDidChange(i)):d.selectedTab=s.activeTab="")}},mounted(){const t=_("navManager");this.setupTabState(t),t.registerHistoryChangeListener(()=>this.checkActiveTab(t))},setup(t,{slots:e}){return Be(),()=>P("ion-tab-bar",{ref:"ionTabBar"},e.default&&e.default())}}),F=U([]),kt=D((t,{attrs:e,slots:o})=>(Se(),()=>P("ion-app",Object.assign({},e),[o.default&&o.default(),...F.value])));kt.name="IonApp";const St=t=>{F.value=[...F.value,t]},Tt=t=>{F.value=F.value.filter(e=>e!==t)},Ce=(t=St,e=Tt)=>{const o=new WeakMap;return{attachViewToDom:(s,u,i={},L)=>{const d=document.createElement("div");L&&d.classList.add(...L),s.appendChild(d);const R=P(pt,{to:d},P(u,Object.assign({},i)));return o.set(d,R),t(R),Promise.resolve(d)},removeViewFromDom:(s,u)=>{const i=o.get(u);return i&&e(i),Promise.resolve()}}},Re=D(t=>{Te();const e=U([]),c=Ce(s=>e.value=[...e.value,s],s=>e.value=e.value.filter(u=>u!==s));return()=>P("ion-nav",Object.assign(Object.assign({},t),{delegate:c}),e.value)});Re.name="IonNav";Re.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const vn=D({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(t,{slots:e}){return lt(),()=>{var o,n;const{icon:c,ios:s,md:u,mode:i}=t;let L;const d=be(),R=i||(d==null?void 0:d.get("mode"));return s||u?R==="ios"?L=(o=s!=null?s:u)!==null&&o!==void 0?o:c:L=(n=u!=null?u:s)!==null&&n!==void 0?n:c:L=c,P("ion-icon",Object.assign(Object.assign({},t),{icon:L}),e)}}}),Ee=Symbol(),de={default:Ee},Pt=(t,e,o=[],n,c)=>{const u=D((i,{slots:L})=>{e!==void 0&&e();const d=N(!1),R=N();return ht(()=>{R.value.addEventListener("ion-mount",()=>d.value=!0),R.value.addEventListener("will-present",()=>d.value=!0),R.value.addEventListener("did-dismiss",()=>d.value=!1)}),()=>{let E={};for(const B in i){const O=i[B];i.hasOwnProperty(B)&&O!==Ee&&(E[B]=O)}const k=()=>n?P("div",{className:"ion-delegate-host ion-page"},L):L;return P(t,Object.assign(Object.assign({},E),{ref:R}),d.value||E.keepContentsMounted||E.keepContentsMounted===""?k():void 0)}});return u.name=t,u.props={isOpen:de},o.forEach(i=>{u.props[i]=de}),u},bn=Pt("ion-loading",et,["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"]),Bt=(t,e,o=!1)=>{const n=o?Ce():void 0,c=e.create.bind(e);return e.create=s=>(t(),c(Object.assign(Object.assign({},s),{delegate:n}))),e},yn=Bt(nt,it),Dt=()=>{const t=[],e={},o=m=>{switch(m.routerAction){case"pop":c(m);break;default:s(m);break}m.routerDirection==="root"&&(u(),s(m))},n=m=>{const h=t.findIndex(v=>v.id===m.id);h>-1&&t.splice(h,1,m);const r=e[m.tab||""];if(r){const v=r.findIndex(I=>I.id===m.id);v>-1?r.splice(v,1,m):r.push(m)}else m.tab&&(e[m.tab]=[m])},c=m=>{const h=i(m.tab);let r;if(h){for(r=h[h.length-1];r&&r.id!==m.id;)h.pop(),r=h[h.length-1];h.pop(),h.push(m)}for(r=t[t.length-1];r&&r.id!==m.id;)t.pop(),r=t[t.length-1];t.pop(),t.push(m)},s=m=>{const h=i(m.tab);h&&(h[h.length-1]&&h[h.length-1].id===m.id&&h.pop(),h.push(m)),t.push(m)},u=m=>{if(m){const{position:h,tab:r}=m,v=t.findIndex(l=>l.position===h);if(v===-1)return;t.splice(v);const I=l=>{const p=e[l].findIndex(a=>a.position===h);p!==-1&&e[l].splice(p)},f=e[r];if(r&&f)I(r);else for(const l in e)I(l)}else{for(const h in e)e[h]=[];t.length=0}},i=m=>{let h;return m&&(h=e[m],h||(h=e[m]=[])),h},L=()=>t.length,d=(m,h)=>{const r=h-m;return t[r]||R()},R=()=>t[t.length-1];return{current:d,size:L,last:R,add:o,canGoBack:(m=1,h,r)=>r-m>=h,update:n,getFirstRouteInfoForTab:m=>{const h=i(m);if(h)return h[0]},getCurrentRouteInfoForTab:m=>{const h=i(m);if(h)return h[h.length-1]},findLastLocation:(m,h=-1)=>{const r=i(m.tab);if(r){if(h<-1)return r[r.length-1+h];for(let v=r.length-2;v>=0;v--){const I=r[v];if(I&&I.pathname===m.pushedByRoute)return I}}if(h<-1)return t[t.length-1+h];for(let v=t.length-2;v>=0;v--){const I=t[v];if(I&&I.pathname===m.pushedByRoute)return I}},clearHistory:u}},fe={main:0},we=(t="main")=>{var e;const o=((e=fe[t])!==null&&e!==void 0?e:0)+1;return fe[t]=o,o.toString()},Ot=(t,e)=>{let o={direction:void 0,action:void 0,delta:void 0};e.afterEach((a,g,y)=>{if(y)return;const{direction:w,action:b,delta:V}=o;s=t.history.state.position;const C=t.history.state.replaced?"replace":void 0;E(a,b||C,w,V),o={direction:void 0,action:void 0,delta:void 0}});const n=Dt();let c=t.history.state.position,s=t.history.state.position,u,i;const L=[];typeof document<"u"&&document.addEventListener("ionBackButton",a=>{a.detail.register(0,g=>{t.history.go(-1),g()})}),t.history.listen((a,g,y)=>{o={delta:y.delta,action:y.type==="pop"&&y.delta>=1?"push":y.type,direction:y.direction===""?"forward":y.direction}});const d=(a,g)=>{const y=n.current(c,s);if(y&&y.pushedByRoute){const w=n.findLastLocation(y);w?(i=Object.assign(Object.assign({},w),{routerAction:"pop",routerDirection:"back",routerAnimation:g||y.routerAnimation}),y.lastPathname===y.pushedByRoute||w.pathname===y.pushedByRoute&&!y.tab&&!w.tab?e.back():e.go(w.position-y.position)):R(a,"pop","back",g)}else R(a,"pop","back",g)},R=(a,g,y,w,b)=>{I(g,y,w,b),g==="push"?e.push(a):e.replace(a)},E=(a,g,y,w)=>{let b;if(i)if(i.routerAction==="replace")b=n.current(c,s);else if(i.routerAction==="pop")b=n.current(c,s+1),g==="replace"&&n.clearHistory();else{const C=i.routerDirection==="root"?s:s-1;b=n.current(c,C)}else b=u;if(b||(b={pathname:"",search:""}),b.pathname+b.search!==a.fullPath){if(!i){if(g==="replace")i={routerAction:"replace",routerDirection:"none"};else if(g==="pop"){const j=n.current(c,s-w);if(j&&j.pushedByRoute){const S=n.findLastLocation(j,w);i=Object.assign(Object.assign({},S),{routerAction:"pop",routerDirection:"back"})}else i={routerAction:"pop",routerDirection:"none"}}i||(i={routerAction:"push",routerDirection:y||"forward"})}let C;if(i!=null&&i.id)C=Object.assign(Object.assign({},i),{lastPathname:b.pathname});else{const j=i.routerAction==="push"&&i.routerDirection==="forward";if(C=Object.assign(Object.assign({id:we("routeInfo")},i),{lastPathname:b.pathname,pathname:a.path,search:a.fullPath&&a.fullPath.split("?")[1]||"",params:a.params&&a.params,prevRouteLastPathname:b.lastPathname}),j)C.pushedByRoute=b.pathname!==""?b.pathname:void 0;else if(C.routerAction==="pop"){const S=n.findLastLocation(C);C.pushedByRoute=S==null?void 0:S.pushedByRoute}else if(C.routerAction==="push"&&C.tab!==b.tab){const S=n.getCurrentRouteInfoForTab(C.tab);C.pushedByRoute=S==null?void 0:S.pushedByRoute}else if(C.routerAction==="replace"){const S=n.current(c,s),K=S==null?void 0:S.pushedByRoute,Le=K!==void 0&&K!==C.pathname?K:C.pushedByRoute;C.lastPathname=(S==null?void 0:S.pathname)||C.lastPathname,C.pushedByRoute=Le,C.routerDirection=(S==null?void 0:S.routerDirection)||C.routerDirection,C.routerAnimation=(S==null?void 0:S.routerAnimation)||C.routerAnimation,C.prevRouteLastPathname=S==null?void 0:S.lastPathname}}C.position=s,C.delta=w;const $=n.size(),H=s-c,M=$===H&&$>0&&g==="replace";$>H||M?(C.routerAction==="push"||C.routerAction==="replace")&&w===void 0&&(n.clearHistory(C),n.add(C)):n.add(C),n.size()===1&&(c=C.position),u=C}i=void 0,L.forEach(C=>C(u))},k=()=>u,B=(a=1)=>n.canGoBack(a,c,s),O=a=>{const{routerAnimation:g,routerDirection:y,routerLink:w}=a;I("push",y,g),e.push(w)},m=a=>{const g=n.getFirstRouteInfoForTab(a);g&&e.go(g.position-s)},h=(a,g)=>{if(!g)return;const y=n.getCurrentRouteInfoForTab(a),[w]=g.split("?");y?(i=Object.assign(Object.assign({},i),{routerAction:"push",routerDirection:"none",tab:a}),y.pathname===w?e.push({path:y.pathname,query:J(y.search)}):e.push({path:w,query:J(y.search)})):R(w,"push","none",void 0,a)},r=a=>{const g=Object.assign({},n.current(c,s));g.tab!==a&&(g.tab=a,n.update(g));const y=n.findLastLocation(g);g.pushedByRoute!==g.lastPathname&&(y==null?void 0:y.tab)!==a&&(g.pushedByRoute=void 0,n.update(g))},v=a=>{L.push(a)},I=(a="push",g="forward",y,w)=>{i={routerAction:a,routerDirection:g,routerAnimation:y,tab:w}};return{handleNavigate:R,getLeavingRouteInfo:()=>n.current(c,s),handleNavigateBack:d,handleSetCurrentTab:r,getCurrentRouteInfo:k,canGoBack:B,navigate:O,resetTab:m,changeTab:h,registerHistoryChangeListener:v,goBack:a=>{I("pop","back",a),e.back()},goForward:a=>{I("push","forward",a),e.forward()}}},At=t=>{const e={},o=()=>Object.keys(e).length,n=r=>{delete e[r]},c=r=>e[r],s=(r,v)=>{r.ionPageElement=v,r.ionRoute=!0,r.matchedRoute.instances={default:r.vueComponentRef.value}},u=(r,v)=>R(r.pathname,v,!1),i=(r,v,I=!0)=>R(r.lastPathname,v,I),L=(r,v)=>R(r,v,!1),d=(r,v)=>v.find(I=>{if(I.pathname===r)return I}),R=(r,v,I=!1)=>{const f=l=>{if(I&&!l.ionRoute||r==="")return!1;const a=t.resolve(r).matched.find(g=>g===l.matchedRoute);if(a)return a.path.includes(":")&&r!==l.pathname?!1:l};if(v){const l=e[v];if(!l)return;const p=t?l.find(f):d(r,l);if(p)return p}else for(const l in e){const p=e[l],a=d(r,p);if(a)return a}};return{unmountLeavingViews:(r,v,I=1)=>{const f=e[r];if(!f)return;const l=f.findIndex(p=>p===v);for(let p=l+1;p<l-I;p++){const a=f[p];a.mount=!1,a.ionPageElement=void 0,a.ionRoute=!1,a.matchedRoute.instances={}}},mountIntermediaryViews:(r,v,I=1)=>{const f=e[r];if(!f)return;const l=f.findIndex(p=>p===v);for(let p=l+1;p<l+I;p++)f[p].mount=!0},clear:n,findViewItemByRouteInfo:u,findLeavingViewItemByRouteInfo:i,findViewItemByPathname:L,createViewItem:(r,v,I,f,l)=>({id:we("viewItem"),pathname:f.pathname,outletId:r,matchedRoute:I,ionPageElement:l,vueComponent:v,vueComponentRef:U(),ionRoute:!1,mount:!1,exact:f.pathname===I.path,params:f.params,vueComponentData:{}}),getChildrenToRender:r=>e[r]?e[r].filter(f=>f.mount):[],add:r=>{const{outletId:v}=r;e[v]?e[v].push(r):e[v]=[r]},remove:(r,v)=>{if(!v)throw Error("outletId required");const I=e[v];I&&(e[v]=I.filter(f=>f.id!==r.id))},registerIonPage:s,getViewStack:c,size:o}},In=t=>{const e=Object.assign({},t);delete e.tabsPrefix;const o=ct(e),n=Ot(t,o),c=At(o),s=o.install.bind(o);o.install=i=>{i.provide("navManager",n),i.provide("viewStacks",c),s(i)};const u=o.isReady.bind(o);return o.isReady=()=>u(),o},Cn=t=>ut(t),W={SecureStorage:"ionicSecureStorage",IndexedDB:G.INDEXEDDB,LocalStorage:G.LOCALSTORAGE},pe={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[W.SecureStorage,W.IndexedDB,W.LocalStorage]};class Rn{constructor(e=pe){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},pe,e||{});this._config=o}async create(){const e=G.createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===W.SecureStorage&&(this._secureStorageDriver=e),G.defineDriver(e)}get driver(){var e;return((e=this._db)===null||e===void 0?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,o){return this.assertDb().setItem(e,o)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var o;if(this._secureStorageDriver)(o=this._secureStorageDriver)===null||o===void 0||o.setEncryptionKey(e);else throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available")}}export{rn as A,cn as B,on as C,an as D,sn as E,Zt as F,Qt as G,Gt as H,qt as I,Rn as S,Kt as a,nn as b,Ut as c,Yt as d,vn as e,Nt as f,Wt as g,pn as h,gn as i,hn as j,fn as k,mn as l,en as m,ln as n,Xt as o,In as p,Cn as q,bn as r,kt as s,yn as t,dn as u,zt as v,Mt as w,Jt as x,tn as y,un as z};
