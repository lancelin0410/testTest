System.register(["./@vue-legacy-BFk8a8i1.js","./vue-router-legacy-DiEZ1WDs.js","./vue-i18n-legacy-BID3e8HD.js","./@ionic-legacy-DQTpeWt0.js","./ionicons-legacy-APsvQH54.js","./index-legacy-DQGYGhmk.js","./withdraw-legacy-BtLH4MzN.js","./@intlify-legacy-DDHA1rkh.js","./@ionic_components_1-legacy-IiDshF--.js","./@stencil-legacy-CMekSw7s.js","./@ionic_components_2-legacy-X_CZZcep.js","./@capacitor-legacy-0yG8iurR.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./pinia-legacy-BVB-HOUV.js","./jsencrypt-legacy-DGJHbPQ6.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-CuOL20OL.js","./rxjs-legacy-C12cs3ed.js","./tslib-legacy-BRpw1qYg.js"],(function(t,a){"use strict";var e,n,i,o,r,l,d,s,c,p,u,w,g,h,m,f,b,v,x,k,y,A,P,_,C,$,j,L,z,D,N,S,B,W,I,O,V,U,E,q,F,M,H,Q,J,K,R,T,Z,G;return{setters:[t=>{e=t.r,n=t.H,i=t.I,o=t.J,r=t.L,l=t.M,d=t.C,s=t.E,c=t.N,p=t.O,u=t.j,w=t.a,g=t.U,h=t.P,m=t.Q,f=t.F,b=t.Z},t=>{v=t.u},t=>{x=t.u},t=>{k=t.u,y=t.g,A=t.Q,P=t.O,_=t.t,C=t.e,$=t.f,j=t.c,L=t.K,z=t.D,D=t.C,N=t.n,S=t.P,B=t.a,W=t.m,I=t.q,O=t.o,V=t.R,U=t.l,E=t.d},t=>{q=t.m,F=t.c},t=>{M=t.b,H=t.c,Q=t.u,J=t.n,K=t.a,R=t.d},t=>{T=t.g,Z=t.a,G=t.c},null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".setPassword-popup{--background: var(--ion-background-light-color);--width: 88vw;--height: fit-content;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--border-radius: 6px}.setPassword-popup .wrapper{margin:16px 8px;padding:0 12px;height:fit-content}.setPassword-popup .wrapper ion-img.btn-close{width:32px;height:32px;position:absolute;top:0;right:0}.setPassword-popup .wrapper .dialog-title{text-align:center;margin-bottom:8px}.setPassword-popup .wrapper .dialog-content{font-size:.9rem;color:#fff;padding:8px 4px;margin-bottom:8px}.setPassword-popup .wrapper .btn-group{display:flex;justify-content:space-between}.setPassword-popup .wrapper .btn-group ion-button{position:relative;color:#fff}.setPassword-popup .wrapper .btn-group ion-button.btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04)}.setPassword-popup .wrapper .btn-group ion-button.btn-cancel{--background: linear-gradient(0deg, #32b12f 0%, #10740b 100%);--background-activated: linear-gradient(30deg, #32b12f 0%, #10740b 100%)}.bankCard-popup{--background: var(--ion-background-light-color);--width: 88vw;--height: fit-content;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--border-radius: 6px}.bankCard-popup .wrapper{margin:16px 8px;padding:0 12px;height:fit-content}.bankCard-popup .wrapper ion-img.btn-close{width:32px;height:32px;position:absolute;top:0;right:0}.bankCard-popup .wrapper .dialog-title{text-align:center;margin-bottom:8px}.bankCard-popup .wrapper .dialog-content{font-size:.9rem;color:#fff;padding:8px 4px;margin-bottom:8px}.bankCard-popup .wrapper .btn-group{display:flex;justify-content:space-between}.bankCard-popup .wrapper .btn-group ion-button{position:relative;color:#fff}.bankCard-popup .wrapper .btn-group ion-button.btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04)}.bankCard-popup .wrapper .btn-group ion-button.btn-cancel{--background: linear-gradient(0deg, #32b12f 0%, #10740b 100%);--background-activated: linear-gradient(30deg, #32b12f 0%, #10740b 100%)}.withdraw{background-color:var(--ion-background-color)}.withdraw .block-title{margin-bottom:12px}.withdraw .balance-card{position:relative;width:100%;height:10vh;margin:8px 0}.withdraw .balance-card ion-img,.withdraw .balance-card::part(image){position:absolute;height:100%;width:100%;object-fit:contain}.withdraw .balance-card .balance-content{position:relative;width:100%;height:100%;color:#000;display:flex;flex-direction:column;align-items:center;justify-content:center}.withdraw .balance-card .balance-amount{font-size:1.4rem;margin-top:12px}.withdraw .btn-change-account{height:100%;font-size:.8rem;font-weight:700;color:#fdea5a;text-decoration-line:underline}.withdraw .btn-add-account{--background: linear-gradient(90deg, #24ee89, #9fe871);--background-activated: linear-gradient(40deg, #24ee89, #9fe871);--color: #000000}.withdraw .bank-info{width:100%;height:52px;border-radius:14px;background:linear-gradient(90deg,#a33cf3,#d181ff);display:flex;align-items:center;padding:14px;margin-bottom:14px}.withdraw .amount-item{box-sizing:border-box;width:100%;height:2.4rem;line-height:2rem;border-radius:20px;background-color:var(--ion-background-light-color);text-align:center;margin:8px 2px}.withdraw .amount-item.select{border:1px solid #00ff84}.withdraw .limit-item{margin:8px 0;padding:0;border-radius:10px}.withdraw .btn-withdraw{--background: linear-gradient(90deg, #24ee89, #9fe871);--background-activated: linear-gradient(40deg, #24ee89, #9fe871);--color: #000000;--box-shadow: 0 0 12px #23ee884d, 0 -2px #1dca6a inset;font-size:1.2rem;min-height:3rem}.withdraw-info{--height: auto}.withdraw-info .ion-delegate-host.ion-page{padding:8px 0;height:65vh}.withdraw-info ion-content{--keyboard-offset: 0 !important}.withdraw-info .account-number{font-weight:400;font-size:2rem;color:#ffdf3f;text-align:center}.withdraw-info .account-text{font-size:.8rem;color:#fa8484;text-align:center}.withdraw-info .block-title{font-size:1rem;margin:12px 0}.withdraw-info .detail-item{margin:8px 0;padding:0;border-radius:10px}.withdraw-info ion-input{border-radius:10px!important;border:3px solid #00ff84}.withdraw-info ion-input label.input-wrapper{padding:4px 8px;height:48px}.withdraw-info ion-input .input-prefix{color:#00ff84;width:48px;height:35px;border-right:2px solid #00ff84;padding-right:8px;line-height:35px;text-align:center}.withdraw-info .btn-withdraw{--background: linear-gradient(90deg, #24ee89, #9fe871);--background-activated: linear-gradient(40deg, #24ee89, #9fe871);--color: #000000;--box-shadow: 0 0 12px #23ee884d, 0 -2px #1dca6a inset;font-size:1.2rem;min-height:3rem;margin:16px}\n",document.head.appendChild(a);const X={class:"wrapper"},Y={class:"dialog-title"},tt={class:"dialog-content"},at={class:"btn-group"},et={__name:"SetPasswordPopup",setup(t,{expose:a}){const u=k(),{popupEnter:w,popupLeave:g}=M(),h=e(!1),m=()=>{h.value=!1,u.push({name:"WithdrawPassword"})};return a({showDialog:async()=>{h.value=!0}}),(t,a)=>(n(),i(s(A),{class:"setPassword-popup",isOpen:h.value,enterAnimation:s(w),leaveAnimation:s(g),onDidDismiss:a[1]||(a[1]=t=>h.value=!1)},{default:o((()=>[r("div",X,[r("h3",Y,l(t.$t("withdraw.setPasswordPopup.title")),1),r("div",tt,l(t.$t("withdraw.setPasswordPopup.des")),1),r("div",at,[d(s(y),{class:"btn-cancel ion-text-capitalize",fill:"solid",shape:"round",onClick:a[0]||(a[0]=c((t=>h.value=!1),["stop"]))},{default:o((()=>[p(l(t.$t("withdraw.button.cancel")),1)])),_:1}),d(s(y),{class:"btn-confirm ion-text-capitalize",fill:"solid",shape:"round",onClick:c(m,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.goToSetPassword")),1)])),_:1})])])])),_:1},8,["isOpen","enterAnimation","leaveAnimation"]))}},nt={class:"wrapper"},it={class:"dialog-title"},ot={class:"dialog-content"},rt={class:"btn-group"},lt={__name:"BankCardPopup",setup(t,{expose:a}){const u=k(),{popupEnter:w,popupLeave:g}=M(),h=e(!1),m=()=>{h.value=!1,u.push({name:"BankCardList"})};return a({showDialog:async()=>{h.value=!0}}),(t,a)=>(n(),i(s(A),{class:"bankCard-popup",isOpen:h.value,enterAnimation:s(w),leaveAnimation:s(g),onDidDismiss:a[1]||(a[1]=t=>h.value=!1)},{default:o((()=>[r("div",nt,[r("h3",it,l(t.$t("withdraw.bankCardPopup.title")),1),r("div",ot,l(t.$t("withdraw.bankCardPopup.des")),1),r("div",rt,[d(s(y),{class:"btn-cancel ion-text-capitalize",fill:"solid",shape:"round",onClick:a[0]||(a[0]=c((t=>h.value=!1),["stop"]))},{default:o((()=>[p(l(t.$t("withdraw.button.cancel")),1)])),_:1}),d(s(y),{class:"btn-confirm ion-text-capitalize",fill:"solid",shape:"round",onClick:c(m,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.addNewAccount")),1)])),_:1})])])])),_:1},8,["isOpen","enterAnimation","leaveAnimation"]))}},dt={class:"balance-card"},st={class:"balance-content"},ct={class:"balance-title"},pt={class:"balance-amount"},ut={style:{margin:"4px 0"}},wt={class:"block-title ion-justify-content-between",style:{display:"flex"}},gt={key:1,class:"bank-info"},ht={style:{margin:"4px 0"}},mt={class:"block-title"},ft=r("hr",null,null,-1),bt={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},vt={slot:"end"},xt={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},kt={slot:"end"},yt={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},At={slot:"end"},Pt={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},_t={slot:"end"},Ct=r("hr",null,null,-1),$t={style:{margin:"4px 0"}},jt={class:"block-title"},Lt={style:{"font-size":"0.8rem"}},zt={style:{color:"#ffdf3f","margin-left":"4px"}},Dt={style:{color:"#ffdf3f","margin-left":"4px"}},Nt={class:"account-number"},St={class:"account-text"},Bt=r("br",null,null,-1),Wt={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},It={slot:"end"},Ot={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},Vt={slot:"end"},Ut={style:{"font-size":"0.8rem",color:"#fa8484"}},Et={style:{color:"#ffdf3f",margin:"0 4px"}},qt={style:{margin:"4px 0"}},Ft={class:"block-title"},Mt={slot:"start",style:{color:"rgb(179, 190, 193)","font-size":"0.8rem"}},Ht={slot:"end"},Qt={style:{margin:"4px 0"}},Jt={class:"block-title"};t("default",{__name:"Withdraw",setup(t){const a=v(),{t:M}=x(),X=k(),Y=H();Q();const{getPublicUrl:tt}=K(),{getImgUrl:at}=R(),nt=e(null),it=e(null),ot=e(!1),rt=e(!1),Kt=e([]),Rt="â‚¹",Tt=e(0),Zt=e(0),Gt=u({withdrawAmount:0,remainingWithdrawLimit:"",remainingWithdrawCount:"",withdrawLimit:"",vipDailyLimit:"",balance:"",withdrawAccount:{},withdrawAccounts:[]}),Xt=u({withdrawAmount:0,withdrawFee:0,arrivalAmount:0,bankAccount:"",serviceCharge:0,withdrawPassword:""});P((async()=>{Y.barLoading=!0;const t=await T();if("00000"===t.code)if(Gt.withdrawAccounts=t.data,a.query.cardId){const t=Gt.withdrawAccounts.filter((t=>t.id==a.query.cardId));Gt.withdrawAccount=t.length>0?t[0]:Gt.withdrawAccounts[0]}else Gt.withdrawAccount=Gt.withdrawAccounts[0];else{const t=await _.create({message:bankData.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}const e=await J();if("00000"===e.code)rt.value=Boolean(e.data.withdrawPasswordValid),rt.value||nt.value.showDialog();else{const t=await _.create({message:e.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}const n=await Z();if("00000"===n.code)Zt.value=Y.appConfig.maxWithdrawAmount,Tt.value=Y.appConfig.minWithdrawAmount,Kt.value=[Tt.value],Gt.balance=n.data.balance,Gt.withdrawAmount=Tt.value;else{const t=await _.create({message:n.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}Y.barLoading=!1}));const Yt=()=>{rt.value?X.push({name:"BankCardList"}):nt.value.showDialog()},ta=()=>{rt.value?X.push({name:"BankCardList"}):nt.value.showDialog()},aa=async()=>{if(rt.value)if(0!=Gt.withdrawAccounts.length)if(Number(Gt.withdrawAmount)<=0){const t=await _.create({message:M("withdraw.toast.text3"),duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}else if(Number(Gt.withdrawAmount)<Tt.value||Number(Gt.withdrawAmount)>Zt.value){const t=await _.create({message:`Min: ${Tt.value} Max: ${Zt.value}`,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}else Y.fullLoading=!0,Xt.arrivalAmount=Gt.withdrawAmount,Xt.bankAccount=Gt.withdrawAccount.cardNo,Xt.withdrawAmount=Gt.withdrawAmount,Xt.withdrawPassword="",ot.value=!0,Y.fullLoading=!1;else it.value.showDialog();else nt.value.showDialog()},ea=async()=>{if(0==Xt.withdrawPassword.length){const t=await _.create({message:M("withdraw.toast.text1"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await t.present())}Y.fullLoading=!0;const t=await G({amount:Number(Gt.withdrawAmount),id:Gt.withdrawAccount.id,memberBankId:Gt.withdrawAccount.bankId,memberBankCardNo:Y.encrypt.encrypt(Gt.withdrawAccount.cardNo),withdrawPassword:Y.encrypt.encrypt(Xt.withdrawPassword)});if("00000"===t.code){const t=await _.create({message:M("withdraw.toast.text2"),duration:1500,position:"top",color:"success",translucent:!0});await t.present(),ot.value=!1}else{const a=await _.create({message:t.msg,duration:1500,position:"top",color:"danger",translucent:!0});await a.present()}Y.fullLoading=!1};return(t,a)=>w((n(),i(s(U),{class:"withdraw"},{default:o((()=>[d(s(N),null,{default:o((()=>{var e;return[r("div",dt,[d(s(C),{src:s(tt)("/wallet/img-bg-balance.png")},null,8,["src"]),r("div",st,[r("div",ct,l(t.$t("withdraw.myBalance")),1),r("div",pt,l(s(Rt))+" "+l(null===(e=Gt.balance)||void 0===e?void 0:e.toLocaleString()),1)])]),r("div",ut,[r("div",wt,[r("span",null,l(t.$t("withdraw.bankAccount")),1),r("span",{class:"btn-change-account",onClick:c(ta,["stop"])},l(t.$t("withdraw.changeBankAccount")),1)]),0==Gt.withdrawAccounts.length?(n(),i(s(y),{key:0,class:"btn-add-account",expand:"block",onClick:c(Yt,["stop"])},{default:o((()=>[d(s($),{slot:"start",icon:s(q)},null,8,["icon"]),r("span",null,l(t.$t("withdraw.addNewAccount")),1)])),_:1})):(n(),h("div",gt,"Acc No: "+l(Gt.withdrawAccount.cardNo),1))]),r("div",ht,[r("div",mt,[p(l(t.$t("withdraw.withdrawAmount"))+" ",1),r("span",null,"("+l(s(Rt))+" "+l(Tt.value)+" - "+l(Zt.value)+" )",1)]),d(s(j),{style:{margin:"8px 0"}},{default:o((()=>[(n(!0),h(f,null,m(Kt.value,((t,a)=>(n(),i(s(E),{key:a,size:"3.8",class:b(["amount-item",{select:Number(t)==Number(Gt.withdrawAmount)}]),onClick:c((a=>{return e=t,void(Gt.withdrawAmount=Number(e));var e}),["stop"])},{default:o((()=>[r("div",null,l(s(Rt))+" "+l(null==t?void 0:t.toLocaleString()),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),d(s(L),{modelValue:Gt.withdrawAmount,"onUpdate:modelValue":a[0]||(a[0]=t=>Gt.withdrawAmount=t),label:s(Rt),type:"number",placeholder:t.$t("withdraw.withdrawAmount"),max:Zt.value,min:Tt.value,clearInput:!0},null,8,["modelValue","label","placeholder","max","min"])]),ft,d(s(z),null,{default:o((()=>[d(s(D),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",bt,l(t.$t("withdraw.items1"))+":",1),r("span",vt,l(s(Rt))+" "+l((null===(a=Gt.remainingWithdrawLimit)||void 0===a?void 0:a.toLocaleString())||"-"),1)]})),_:1}),d(s(D),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",xt,l(t.$t("withdraw.items2"))+":",1),r("span",kt,l(s(Rt))+" "+l((null===(a=Gt.vipDailyLimit)||void 0===a?void 0:a.toLocaleString())||"-"),1)]})),_:1}),d(s(D),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",yt,l(t.$t("withdraw.items3"))+":",1),r("span",At,l(s(Rt))+" "+l((null===(a=Gt.withdrawLimit)||void 0===a?void 0:a.toLocaleString())||"-"),1)]})),_:1}),d(s(D),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",Pt,l(t.$t("withdraw.items4"))+":",1),r("span",_t,l((null===(a=Gt.remainingWithdrawCount)||void 0===a?void 0:a.toLocaleString())||"-"),1)]})),_:1})])),_:1}),Ct,r("div",$t,[r("div",jt,l(t.$t("withdraw.tips.title"))+": ",1),r("span",Lt,[r("span",null,l(t.$t("withdraw.tips.tips1")),1),r("span",zt,l(t.$t("withdraw.tips.tips2")),1),r("span",null,l(t.$t("withdraw.tips.tips3")),1),r("span",Dt,l(t.$t("withdraw.tips.tips4")),1),p(". ")])])]})),_:1}),d(s(S),null,{default:o((()=>[d(s(y),{class:"btn-withdraw",expand:"block",shape:"round",onClick:c(aa,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.withdraw")),1)])),_:1})])),_:1}),d(et,{ref_key:"setPasswordPopup",ref:nt},null,512),d(lt,{ref_key:"bankCardPopup",ref:it},null,512),d(s(A),{class:"withdraw-info","is-open":ot.value,"initial-breakpoint":1,breakpoints:[0,1]},{default:o((()=>[d(s(B),null,{default:o((()=>[d(s(W),null,{default:o((()=>[d(s(I),null,{default:o((()=>[p(l(t.$t("withdraw.configPopup.title")),1)])),_:1}),d(s(O),{style:{position:"absolute",top:"0",right:"16px"}},{default:o((()=>[d(s(y),{onClick:a[1]||(a[1]=c((t=>ot.value=!1),["stop"]))},{default:o((()=>[d(s($),{slot:"icon-only",icon:s(F),color:"light"},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),d(s(N),{class:"ion-padding"},{default:o((()=>{var e;return[r("div",Nt,l(s(Rt))+" "+l(null===(e=Xt.arrivalAmount)||void 0===e?void 0:e.toLocaleString()),1),r("div",St,l(t.$t("withdraw.configPopup.arrivalAmount")),1),Bt,d(s(z),null,{default:o((()=>[d(s(D),{class:"detail-item",lines:"none"},{default:o((()=>{var a;return[r("span",Wt,l(t.$t("withdraw.configPopup.title"))+":",1),r("span",It,l(s(Rt))+" "+l(null===(a=Xt.withdrawAmount)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),d(s(D),{class:"detail-item",lines:"none"},{default:o((()=>{var a;return[r("span",Ot,l(t.$t("withdraw.configPopup.serviceCharge"))+":",1),r("span",Vt,l(s(Rt))+" "+l(null===(a=Xt.serviceCharge)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),r("div",Ut,[r("span",null,l(t.$t("withdraw.configPopup.des1")),1),r("span",Et,l(Xt.withdrawFee)+"%",1),r("span",null,l(t.$t("withdraw.configPopup.des2")),1)]),r("div",qt,[r("div",Ft,l(t.$t("withdraw.configPopup.chooseBankAccount")),1),d(s(D),{class:"detail-item",lines:"none"},{default:o((()=>[r("span",Mt,l(t.$t("withdraw.configPopup.yourBankAccount"))+":",1),r("span",Ht,l(Xt.bankAccount),1)])),_:1})])])),_:1}),r("div",Qt,[r("div",Jt,l(t.$t("withdraw.configPopup.withdrawPassword")),1),d(s(L),{modelValue:Xt.withdrawPassword,"onUpdate:modelValue":a[2]||(a[2]=t=>Xt.withdrawPassword=t),type:"password",placeholder:t.$t("withdraw.configPopup.placeHolder")},{default:o((()=>[d(s(C),{class:"input-prefix",slot:"start",src:s(at)("/account/w-password.png")},null,8,["src"]),d(s(V),{slot:"end",color:"medium"})])),_:1},8,["modelValue","placeholder"])]),d(s(y),{class:"btn-withdraw",expand:"block",shape:"round",onClick:c(ea,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.withdraw")),1)])),_:1})]})),_:1})])),_:1},8,["is-open"])])),_:1},512)),[[g,!s(Y).barLoading]])}})}}}));
