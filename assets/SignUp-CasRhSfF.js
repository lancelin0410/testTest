import{r as b,k as $,w as A,I as _,J as a,G as e,K as y,D as o,M as i,P as d,R as l,Q as h,Y as B}from"./@vue-3Wdfxk3_.js";import{u as O}from"./vue-i18n-BmGSZPWT.js";import{u as D,j as E,y as G,z as I,E as w,l as v,r as M,k as T,F as x,v as z,p as F}from"./@ionic-ChxHNRcu.js";import{g as j,h as q}from"./ionicons-DCtDYcIg.js";import{u as J,a as K,h as Q,b as Y}from"./index-BtfuBToB.js";import{u as H}from"./common-icPcROaw.js";import"./@intlify-BAcCFw_v.js";import"./@ionic_components_1-CAQXnsIn.js";import"./@stencil-C-gE1UvY.js";import"./@ionic_components_2-DUGZJZYA.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-CvOicv45.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./pinia-i8UTD9O9.js";import"./jsencrypt-Ve0Y4aUG.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";const W={style:{"font-weight":"1000"}},X={class:"input-prefix",slot:"start"},Z=i("span",{class:"input-prefix",slot:"start"},"OTP",-1),ee={class:"note"},te=i("div",{class:"sign-up-divider"},[i("hr"),i("div",{class:"divider-text"},"OR")],-1),_e={__name:"SignUp",setup(oe){const{t:p}=O(),U=D(),u=J(),m=K(),{getPublicUrl:V}=H(),{headerAnimation:P}=Y(),f=b(!1),t=$({promotionCode:u.inviteCode,device:"h5",mobile:"",sessionId:"",code:""});let C;const k=Number(u.appConfig.callPrefixes),g=b(p("account.button.otp")),c=b(0),L=async()=>{if(c.value==0){if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:p("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}const s=await Q({mobile:u.encrypt.encrypt(t.mobile),callPrefixes:k});s.code==="00000"&&(t.sessionId=s.data.sessionId,c.value=60,R())}},R=()=>{g.value="".concat(c.value,"s"),C=setInterval(()=>{c.value>0?(c.value--,g.value="".concat(c.value,"s")):(g.value=p("account.button.otp"),c.value=0,clearInterval(C))},1e3)},N=async()=>{if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:p("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}if(!t.code||t.code.length==0){await(await toastController.create({message:p("account.resister.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}u.fullLoading=!0,await m.mobileRegister(t),u.fullLoading=!1},S=async()=>{u.fullLoading=!0,await m.anonymousRegister(t),u.fullLoading=!1};return A(()=>m.isLogin,()=>{m.isLogin&&U.navigate("/","back","replace",P)}),(s,n)=>(y(),_(e(F),{class:"sign-up"},{default:a(()=>[o(e(E),{src:e(V)("/banner.webp")},null,8,["src"]),o(e(z),null,{default:a(()=>[o(e(G),{lines:"none"},{default:a(()=>[i("h5",W,d(s.$t("login.header.signUp")),1),o(e(I),null,{default:a(()=>[o(e(w),{modelValue:t.mobile,"onUpdate:modelValue":n[0]||(n[0]=r=>t.mobile=r),fill:"outline",placeholder:"Phone Number"},{default:a(()=>[i("span",X,"+"+d(e(k)),1)]),_:1},8,["modelValue"])]),_:1}),o(e(I),null,{default:a(()=>[o(e(w),{modelValue:t.code,"onUpdate:modelValue":n[1]||(n[1]=r=>t.code=r),placeholder:s.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:a(()=>[Z,o(e(v),{slot:"end",class:"btn-otp",color:"medium",style:{color:"#00ff84"},onClick:L},{default:a(()=>[l(d(g.value),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),o(e(I),null,{default:a(()=>[o(e(M),null,{default:a(()=>[i("div",{style:{"font-size":"0.8rem","font-weight":"1000","margin-bottom":"8px",display:"flex","align-items":"center"},onClick:n[2]||(n[2]=h(r=>f.value=!f.value,["stop"]))},[l(" Enter Referral / Promo Code "),o(e(T),{icon:f.value?e(j):e(q),style:{"margin-left":"4px"}},null,8,["icon"])]),f.value?(y(),_(e(w),{key:0,modelValue:t.promotionCode,"onUpdate:modelValue":n[3]||(n[3]=r=>t.promotionCode=r),fill:"outline"},null,8,["modelValue"])):B("",!0)]),_:1})]),_:1})]),_:1}),o(e(x),{checked:!0,"label-placement":"end"},{default:a(()=>[l(" I agree to the "),i("a",{href:"#",style:{color:"#fff","font-weight":"800","text-decoration":"none"},onClick:n[4]||(n[4]=r=>r.stopPropagation())},"User Agreement"),l(" & confirm I am at least 18 years old ")]),_:1}),o(e(x),{checked:!0,"label-placement":"end"},{default:a(()=>[l(" I agree to receive marketing promotions from BC.GAME. ")]),_:1}),o(e(v),{class:"btn-sign-up",expand:"block",onClick:h(N,["stop"])},{default:a(()=>[l(d(s.$t("login.header.signUp")),1)]),_:1}),i("div",ee,[l(" Already have an account? "),o(e(v),{class:"btn-sing-in",fill:"clear","router-link":"/login/signIn"},{default:a(()=>[l("Sign In")]),_:1})]),te,o(e(v),{class:"btn-sign-up",expand:"block",onClick:h(S,["stop"])},{default:a(()=>[l(d(s.$t("login.header.signUpOneClick")),1)]),_:1})]),_:1})]),_:1}))}};export{_e as default};
