import{l as h,ab as w,r as S,X as k,aU as B,t as T,j as i,w as a,u as e,d as s,f as o,q as b,s as y,aF as C,aG as n,B as d,e as v,i as I,F as L,M as N,z as P,A,y as r,H as U,h as g,L as D}from"./index-BWYPlUKf.js";import{u as x}from"./useGameStore-gExPs-hN.js";import{_ as z}from"./NoData-DERR8tLK.js";const F={slot:"start"},G={class:"record-time"},H={slot:"end",class:"record-amount"},M={__name:"BetHistory",setup(q){const m=h(),c=x(),l=w({gameCategoryCode:"",platformCode:"",timeType:1,pageNum:1,pageSize:10,order:0,lang:"en-US"}),_=S([]);k(async()=>{m.barLoading=!0,await c.getCategory(),await c.getPlatform(),await p(),m.barLoading=!1});const p=async()=>{m.fullLoading=!0;const f=await B({gameCategoryCode:l.gameCategoryCode,platformCode:l.platformCode,timeType:l.timeType});f.code==="00000"?_.value=f.data.list:await(await T.create({message:f.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present(),m.fullLoading=!1};return(f,u)=>(s(),i(e(A),{class:"bet-history"},{default:a(()=>[o(e(P),null,{default:a(()=>[o(e(b),null,{default:a(()=>[o(e(y),{size:"12"},{default:a(()=>[o(e(C),{modelValue:l.gameCategoryCode,"onUpdate:modelValue":u[0]||(u[0]=t=>l.gameCategoryCode=t),interface:"action-sheet",placeholder:"Game",onIonChange:p},{default:a(()=>[o(e(n),{value:""},{default:a(()=>[d("All")]),_:1}),(s(!0),v(L,null,I(e(c).categoryList,t=>(s(),i(e(n),{key:t.code,value:t.code},{default:a(()=>[d(r(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(e(y),null,{default:a(()=>[o(e(C),{modelValue:l.platformCode,"onUpdate:modelValue":u[1]||(u[1]=t=>l.platformCode=t),interface:"action-sheet",placeholder:"Providers",onIonChange:p},{default:a(()=>[o(e(n),{value:""},{default:a(()=>[d("All")]),_:1}),(s(!0),v(L,null,I(e(c).platformList,t=>(s(),i(e(n),{key:t.code,value:t.code},{default:a(()=>[d(r(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(e(y),null,{default:a(()=>[o(e(C),{modelValue:l.timeType,"onUpdate:modelValue":u[2]||(u[2]=t=>l.timeType=t),interface:"action-sheet",onIonChange:p},{default:a(()=>[o(e(n),{value:1},{default:a(()=>[d("Today")]),_:1}),o(e(n),{value:2},{default:a(()=>[d("Past 1 day")]),_:1}),o(e(n),{value:3},{default:a(()=>[d("Past 7 days")]),_:1}),o(e(n),{value:4},{default:a(()=>[d("Past 30 days")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m).barLoading||_.value.length==0?(s(),i(z,{key:0,class:"no-data",desc:f.$t("deposit.message.nodata")},null,8,["desc"])):(s(),i(e(N),{key:1,lines:"none"},{default:a(()=>[(s(!0),v(L,null,I(_.value,(t,V)=>(s(),i(e(U),{key:V},{default:a(()=>[g("div",F,r(t.platformName),1),o(e(D),null,{default:a(()=>[g("div",G,r(t.createDate)+" "+r(t.platformDetail[0].createTime),1),g("div",null,r(t.platformDetail[0].gameName),1)]),_:2},1024),g("div",H,r(t.validBetAmount),1)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}))}};export{M as default};
