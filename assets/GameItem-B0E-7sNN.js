import{c as p,I as s,Q as f,D as I,G as o,J as l,U as g,O as G}from"./@vue-DQPB5ixA.js";import{u as C,d as m,t as k}from"./@ionic-BzoWLFGj.js";import{u as y,b as h,s as v,l as w}from"./index-BJaUFss0.js";import{u as b}from"./useGameStore-3Pbtfpox.js";const L={__name:"GameItem",props:{game:{type:Object,require:!0}},setup(r){const{getPublicUrl:c}=h(),e=r,i=C(),n=y(),u=b(),d=async()=>{n.fullLoading=!0,await v({gameCategoryId:e.game.gameCategoryId,routeId:e.game.routeId});const a=await w({platformGameId:e.game.tpgId,gameId:e.game.id,platformCode:e.game.platformCode,device:0});if(a.code==="00000"){const t=Capacitor.convertFileSrc(a.data);i.push({name:"GameWeb",query:{gameId:e.game.id,url:encodeURIComponent(t)}})}else await(await k.create({message:a.msg||a.code,duration:1500,position:"top",color:"danger",translucent:!0})).present();n.fullLoading=!1};return p(()=>u.favoriteGameList.filter(t=>t.gameId==e.game.gameId||t.gameId==e.game.id).length>0),(a,t)=>(s(),f("div",{class:"game-item",onClick:G(d,["stop"])},[I(o(m),{class:"game-image",src:r.game.gameImage},null,8,["src"]),r.game.cornerMark==1?(s(),l(o(m),{key:0,class:"game-tag",src:o(c)("/home/icon-new.png")},null,8,["src"])):g("",!0),r.game.cornerMark==2?(s(),l(o(m),{key:1,class:"game-tag",src:o(c)("/home/icon-best.png")},null,8,["src"])):g("",!0)]))}};export{L as _};
