import{l as w,r as f,X as L,j as i,w as t,u as e,D as k,a8 as P,t as B,d as l,f as a,T as C,U as g,B as d,M as V,e as b,i as x,F as T,z,A as S,H as A,K as D,L as N,x as R,q as $,s as p,h as _,y as v,v as j}from"./index-BWYPlUKf.js";import{_ as q}from"./NoData-DERR8tLK.js";const E={style:{"font-size":"1rem","font-weight":"800"}},F={style:{"font-size":"0.8rem"}},W={__name:"Promotion",setup(M){const I=k(),r=w(),s=f("latest"),u=f({latest:[],archive:[]}),m=async()=>{const o=await await P(0);o.code==="00000"?u.value[s.value]=o.data.list||[]:await(await B.create({message:o.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present()};L(async()=>{r.barLoading=!0,await m(),r.barLoading=!1});const y=async()=>{s.value=="latest"&&await m(),s.value!="archive"},h=async o=>{I.push({name:"PromotionDetail",params:{promoId:o.id},query:{title:o.title}})};return(o,c)=>(l(),i(e(S),{class:"promotion"},{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(C),{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=n=>s.value=n),mode:"ios",onIonChange:y},{default:t(()=>[a(e(g),{value:"latest"},{default:t(()=>[d("Latest Promotion")]),_:1}),a(e(g),{value:"archive"},{default:t(()=>[d("Archived")]),_:1})]),_:1},8,["modelValue"]),e(r).barLoading||u.value[s.value].length==0?(l(),i(q,{key:0,class:"no-data",desc:o.$t("mail.message.nodata")},null,8,["desc"])):(l(),i(e(V),{style:{"margin-top":"16px"},key:s.value},{default:t(()=>[(l(!0),b(T,null,x(u.value[s.value],n=>(l(),i(e(A),{key:n.id,class:"promo-item",lines:"none",onClick:D(U=>h(n),["stop"])},{default:t(()=>[a(e(N),null,{default:t(()=>[a(e(R),{src:n.h5Image},null,8,["src"]),a(e($),{class:"promo-content ion-justify-content-between"},{default:t(()=>[a(e(p),{size:"auto"},{default:t(()=>[_("h4",E,v(n.title||""),1),_("div",F,v(n.timeText||""),1)]),_:2},1024),a(e(p),{size:"auto"},{default:t(()=>[a(e(j),{class:"btn-in-progress"},{default:t(()=>[d("In Progress")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1})]),_:1}))}};export{W as default};
