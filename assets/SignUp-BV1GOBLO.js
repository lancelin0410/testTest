import{r as b,j as O,w as R,H as _,I as y,J as n,C as o,E as e,L as i,M as p,O as l,N as h,S as $}from"./@vue-FF6Ppp8k.js";import{u as B}from"./vue-i18n-Drh5Jv-N.js";import{e as A,D,C as I,K as w,g as v,k as E,f as M,L as x,n as T,l as G,u as j}from"./@ionic-LOXDGMDQ.js";import{g as q,h as z}from"./ionicons-BuhCiVJn.js";import{c as F,u as H,a as J,l as K}from"./index-DXSjpOoF.js";import"./@intlify-BAcCFw_v.js";import"./@ionic_components_1-CfuvXJ2N.js";import"./@stencil-pJInS8Bp.js";import"./@ionic_components_2-BmE8Yi_w.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-BCw8xDr3.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./pinia-BYTB-Pq_.js";import"./jsencrypt-Ve0Y4aUG.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";const Q={style:{"font-weight":"1000"}},W={class:"input-prefix",slot:"start"},X=i("span",{class:"input-prefix",slot:"start"},"OTP",-1),Y={class:"note"},Z=i("div",{class:"sign-up-divider"},[i("hr"),i("div",{class:"divider-text"},"OR")],-1),we={__name:"SignUp",setup(ee){const{t:d}=B(),U=j(),u=F(),m=H(),{getPublicUrl:V}=J(),f=b(!1),t=O({promotionCode:u.inviteCode,device:"h5",mobile:"",sessionId:"",code:""});let C;const k=Number(u.appConfig.callPrefixes),g=b(d("account.button.otp")),c=b(0),P=async()=>{if(c.value==0){if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:d("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}const s=await K({mobile:u.encrypt.encrypt(t.mobile),callPrefixes:k});s.code==="00000"&&(t.sessionId=s.data.sessionId,c.value=60,L())}},L=()=>{g.value="".concat(c.value,"s"),C=setInterval(()=>{c.value>0?(c.value--,g.value="".concat(c.value,"s")):(g.value=d("account.button.otp"),c.value=0,clearInterval(C))},1e3)},N=async()=>{if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:d("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}if(!t.code||t.code.length==0){await(await toastController.create({message:d("account.resister.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}u.fullLoading=!0,await m.mobileRegister(t),u.fullLoading=!1},S=async()=>{u.fullLoading=!0,await m.anonymousRegister(t),u.fullLoading=!1};return R(()=>m.isLogin,()=>{m.isLogin&&U.back("/")}),(s,a)=>(_(),y(e(G),{class:"sign-up"},{default:n(()=>[o(e(A),{src:e(V)("/banner.webp")},null,8,["src"]),o(e(T),null,{default:n(()=>[o(e(D),null,{default:n(()=>[i("h5",Q,p(s.$t("login.header.signUp")),1),o(e(I),{lines:"none"},{default:n(()=>[o(e(w),{modelValue:t.mobile,"onUpdate:modelValue":a[0]||(a[0]=r=>t.mobile=r),fill:"outline",placeholder:"Phone Number"},{default:n(()=>[i("span",W,"+"+p(e(k)),1)]),_:1},8,["modelValue"])]),_:1}),o(e(I),{lines:"none"},{default:n(()=>[o(e(w),{modelValue:t.code,"onUpdate:modelValue":a[1]||(a[1]=r=>t.code=r),placeholder:s.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:n(()=>[X,o(e(v),{slot:"end",class:"btn-otp",color:"medium",style:{color:"#00ff84"},onClick:P},{default:n(()=>[l(p(g.value),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),o(e(I),{lines:"none"},{default:n(()=>[o(e(E),null,{default:n(()=>[i("div",{style:{"font-size":"0.8rem","font-weight":"1000","margin-bottom":"8px",display:"flex","align-items":"center"},onClick:a[3]||(a[3]=h(r=>f.value=!f.value,["stop"]))},[l(" Enter Referral / Promo Code "),o(e(M),{modelValue:t.promotionCode,"onUpdate:modelValue":a[2]||(a[2]=r=>t.promotionCode=r),icon:f.value?e(q):e(z),style:{"margin-left":"4px"}},null,8,["modelValue","icon"])]),f.value?(_(),y(e(w),{key:0,fill:"outline"})):$("",!0)]),_:1})]),_:1})]),_:1}),o(e(x),{checked:!0,"label-placement":"end"},{default:n(()=>[l(" I agree to the "),i("a",{href:"#",style:{color:"#fff","font-weight":"800","text-decoration":"none"},onClick:a[4]||(a[4]=r=>r.stopPropagation())},"User Agreement"),l(" & confirm I am at least 18 years old ")]),_:1}),o(e(x),{checked:!0,"label-placement":"end"},{default:n(()=>[l(" I agree to receive marketing promotions from BC.GAME. ")]),_:1}),o(e(v),{class:"btn-sign-up",expand:"block",onClick:h(N,["stop"])},{default:n(()=>[l(p(s.$t("login.header.signUp")),1)]),_:1}),i("div",Y,[l(" Already have an account? "),o(e(v),{class:"btn-sing-in",fill:"clear","router-link":"/login/signIn"},{default:n(()=>[l("Sign In")]),_:1})]),Z,o(e(v),{class:"btn-sign-up",expand:"block",onClick:h(S,["stop"])},{default:n(()=>[l(p(s.$t("login.header.signUpOneClick")),1)]),_:1})]),_:1})]),_:1}))}};export{we as default};
