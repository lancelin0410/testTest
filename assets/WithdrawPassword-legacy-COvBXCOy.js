System.register(["./vue-i18n-legacy-BfYInfwk.js","./@ionic-legacy-DiCoN9eI.js","./index-legacy-BX8v6GJM.js","./withdraw-legacy-DeoAe-1j.js","./@vue-legacy-D17mWR1H.js","./@intlify-legacy-DDHA1rkh.js","./@ionic_components_1-legacy-JpBorfOj.js","./@stencil-legacy-CMekSw7s.js","./@ionic_components_2-legacy-Qqv6OEPb.js","./@capacitor-legacy-0yG8iurR.js","./vue-router-legacy-DS4jc74i.js","./ionicons-legacy-DzPLRO0r.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./pinia-legacy-itWYr5gS.js","./jsencrypt-legacy-DGJHbPQ6.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-CuOL20OL.js","./rxjs-legacy-C12cs3ed.js","./tslib-legacy-BRpw1qYg.js"],(function(a,e){"use strict";var t,l,o,s,i,n,r,d,c,w,u,p,g,h,m,f,b,v,P,y,x,j,k,_;return{setters:[a=>{t=a.u},a=>{l=a.J,o=a.d,s=a.K,i=a.f,n=a.n,r=a.O,d=a.j,c=a.t},a=>{w=a.a,u=a.c,p=a.b,g=a.f},a=>{h=a.s},a=>{m=a.j,f=a.r,b=a.I,v=a.J,P=a.E,y=a.H,x=a.C,j=a.L,k=a.M,_=a.O},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent=".withdraw-password ion-input{border-radius:10px!important;border:3px solid #c5000f}.withdraw-password ion-input label.input-wrapper{padding:4px 8px;height:48px}.withdraw-password ion-input .input-prefix{color:#c5000f;width:48px;height:35px;border-right:2px solid #c5000f;padding-right:8px;line-height:35px;text-align:center}.withdraw-password .block-title{font-size:1rem;margin:12px 0}.withdraw-password .btn-otp{--background: var(--ion-background-color);--background-activated: var(--ion-background-color);min-height:2rem}.withdraw-password .btn-otp::part(native){padding:2px 16px}.withdraw-password .btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04);font-size:1.2rem;min-height:3rem}\n",document.head.appendChild(e);const C={style:{margin:"4px 0"}},V={class:"block-title"},$={style:{margin:"4px 0"}},I={class:"block-title"},R={style:{margin:"4px 0"}},U={class:"block-title"},O={class:"input-prefix",slot:"start"},L=j("br",null,null,-1),M=j("span",{class:"input-prefix",slot:"start"},"OTP",-1);a("default",{__name:"WithdrawPassword",setup(a){const{t:e}=t(),z=w(),D=u(),{getImgUrl:E}=p(),J=m({withdrawPasswd:"",withdrawPasswdRepeat:"",mobile:D.userInfo.mobile?D.userInfo.mobile.substring(2):"",verificationCode:"",canModifyPwd:!D.userInfo.mobile});let S;const T=f(0),H=f(e("account.button.otp")),K=async()=>{if(0==T.value){if(!J.mobile||0==J.mobile.length){const a=await c.create({message:e("account.withdrawalPassword.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await a.present())}const a=await g({tel:J.mobile});"200"==a.state&&(T.value=a.resultData,W())}},W=()=>{H.value=`${T.value}s`,S=setInterval((()=>{T.value>0?(T.value--,H.value=`${T.value}s`):(H.value=e("account.button.otp"),T.value=0,clearInterval(S))}),1e3)},q=async()=>{if(J.withdrawPasswd&&0!=J.withdrawPasswd.length)if(J.withdrawPasswd===J.withdrawPasswdRepeat)if(J.mobile&&0!=J.mobile.length)if(J.verificationCode&&0!=J.verificationCode.length){if(z.fullLoading=!0,"200"==(await h({withdrawPasswd:J.withdrawPasswd,withdrawPasswdRepeat:J.withdrawPasswdRepeat,mobile:J.canModifyPwd?J.mobile:null,verificationCode:J.verificationCode})).state){const a=await c.create({message:"Success",duration:1500,position:"top",translucent:!0,icon:checkmarkOutline,color:"success"});await a.present(),setTimeout((()=>router.go(-1)),1e3)}z.fullLoading=!1}else{const a=await c.create({message:e("account.withdrawalPassword.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}else{const a=await c.create({message:e("account.withdrawalPassword.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}else{const a=await c.create({message:e("account.withdrawalPassword.toast.withdrawPasswdRepeat"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}else{const a=await c.create({message:e("account.withdrawalPassword.toast.withdrawPasswd"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}};return(a,e)=>(y(),b(P(d),{class:"withdraw-password"},{default:v((()=>[x(P(n),null,{default:v((()=>[j("div",C,[j("div",V,k(a.$t("account.withdrawalPassword.label.password")),1),x(P(l),{modelValue:J.withdrawPasswd,"onUpdate:modelValue":e[0]||(e[0]=a=>J.withdrawPasswd=a),type:"password",placeholder:a.$t("account.withdrawalPassword.label.password")},{default:v((()=>[x(P(o),{class:"input-prefix",slot:"start",src:P(E)("/account/w-password.png")},null,8,["src"]),x(P(s),{slot:"end",color:"medium"})])),_:1},8,["modelValue","placeholder"])]),j("div",$,[j("div",I,k(a.$t("account.withdrawalPassword.label.repeatPassword")),1),x(P(l),{modelValue:J.withdrawPasswdRepeat,"onUpdate:modelValue":e[1]||(e[1]=a=>J.withdrawPasswdRepeat=a),type:"password",placeholder:a.$t("account.withdrawalPassword.label.repeatPassword")},{default:v((()=>[x(P(o),{class:"input-prefix",slot:"start",src:P(E)("/account/w-password.png")},null,8,["src"]),x(P(s),{slot:"end",color:"medium"})])),_:1},8,["modelValue","placeholder"])]),j("div",R,[j("div",U,k(a.$t("account.withdrawalPassword.label.phone")),1),x(P(l),{modelValue:J.mobile,"onUpdate:modelValue":e[2]||(e[2]=a=>J.mobile=a),placeholder:a.$t("account.withdrawalPassword.label.phone")},{default:v((()=>[j("span",O,k(P("+91")),1)])),_:1},8,["modelValue","placeholder"]),L,x(P(l),{modelValue:J.verificationCode,"onUpdate:modelValue":e[3]||(e[3]=a=>J.verificationCode=a),placeholder:a.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:v((()=>[M,x(P(i),{slot:"end",class:"btn-otp",style:{color:"#c5000f"},onClick:K},{default:v((()=>[_(k(H.value),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])])),_:1}),x(P(r),null,{default:v((()=>[x(P(i),{class:"btn-confirm",expand:"block",shape:"round",onClick:q},{default:v((()=>[_(k(a.$t("account.button.confirm")),1)])),_:1})])),_:1})])),_:1}))}})}}}));
