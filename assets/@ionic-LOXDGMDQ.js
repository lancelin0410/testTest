import{d as Be,a as Te,b as Se,c as Pe,e as De,f as Oe,g as Ae,h as _e,i as Ve,j as $e,k as xe,l as je,m as Fe,n as He,o as Me,p as ze,q as We,r as Ne,s as Ge,t as Ue,u as Ke,v as Xe,w as qe,x as Ye,y as Je,z as Qe,A as Ze,B as et,C as tt,D as nt,E as ot,F as it,G as at,H as st,I as rt,J as ct,K as lt,L as ut,M as dt}from"./@ionic_components_1-CfuvXJ2N.js";import"./@stencil-pJInS8Bp.js";import{L as me,a as he,b as ge,c as be,i as ft,t as pt}from"./@ionic_components_2-BmE8Yi_w.js";import{r as mt,u as ht,m as gt,c as bt,a as vt,p as Z}from"./vue-router-BCw8xDr3.js";import{d as It}from"./ionicons-BuhCiVJn.js";import{s as U,g as Q,d as D,h as S,i as A,c as yt,p as ee,r as N,w as te,o as Ct,a as Et,T as wt,b as Rt}from"./@vue-FF6Ppp8k.js";import{L as G}from"./localforage-qzmIiYbH.js";const ne="update:modelValue",q="modelValue",kt="routerLink",oe="navManager",Lt="router",Bt="aria",j=Symbol(),Y={default:j},ie=t=>(t==null?void 0:t.split(" "))||[],Tt=(t,e,o=[])=>{var n;return[...Array.from(((n=t.value)===null||n===void 0?void 0:n.classList)||[]),...o].filter((r,s,c)=>!e.has(r)&&c.indexOf(r)===s)},L=(t,e,o=[],n,r)=>{e!==void 0&&e();const s=D((c,{attrs:i,slots:R,emit:u})=>{var I;let w=c[n];const B=N(),P=new Set(ie(i.class)),O={created:C=>{(Array.isArray(r)?r:[r]).forEach(d=>{C.addEventListener(d.toLowerCase(),p=>{w=(p==null?void 0:p.target)[n],u(ne,w)})})}},m=Q(),l=((I=m==null?void 0:m.appContext)===null||I===void 0?void 0:I.provides[oe])?A(oe):void 0,b=C=>{const{routerLink:f}=c;if(f!==j)if(l!==void 0){let d={event:C};for(const p in c){const a=c[p];c.hasOwnProperty(p)&&p.startsWith(Lt)&&a!==j&&(d[p]=a)}l.navigate(d)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{w=c[n],ie(i.class).forEach(a=>{P.add(a)});const C=c.onClick,f=a=>{C!==void 0&&C(a),a.defaultPrevented||b(a)};let d={ref:B,class:Tt(B,P),onClick:f};for(const a in c){const g=c[a];(c.hasOwnProperty(a)&&g!==j||a.startsWith(Bt))&&(d[a]=g)}n&&(c[q]!==j?d=Object.assign(Object.assign({},d),{[n]:c[q]}):w!==j&&(d=Object.assign(Object.assign({},d),{[n]:w})));const p=S(t,d,R.default&&R.default());return n===void 0?p:Et(p,[[O]])}});return typeof s!="function"&&(s.name=t,s.props={[kt]:Y},o.forEach(c=>{s.props[c]=Y}),n&&(s.props[q]=Y,s.emits=[ne])),s},qt=L("ion-accordion",De,["value","disabled","readonly","toggleIcon","toggleIconSlot"]),Yt=L("ion-accordion-group",Oe,["animated","multiple","value","disabled","readonly","expand","ionChange","ionValueChange"],"value","ion-change"),Jt=L("ion-badge",Ae,["color"]),Qt=L("ion-button",_e,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),Zt=L("ion-buttons",Ve,["collapse"]),en=L("ion-checkbox",$e,["color","name","checked","indeterminate","disabled","value","labelPlacement","justify","alignment","ionChange","ionFocus","ionBlur"],"checked","ion-change"),tn=L("ion-col",xe,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]),nn=L("ion-content",je,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),on=L("ion-footer",Fe,["collapse","translucent"]),an=L("ion-grid",He,["fixed"]),sn=L("ion-header",Me,["collapse","translucent"]),rn=L("ion-img",ze,["alt","src","ionImgWillLoad","ionImgDidLoad","ionError"]),cn=L("ion-input",We,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),ln=L("ion-input-password-toggle",Ne,["color","showIcon","hideIcon","type"]),un=L("ion-item",Ge,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),dn=L("ion-item-option",Ue,["color","disabled","download","expandable","href","rel","target","type"]),fn=L("ion-item-options",Ke,["side","ionSwipe"]),pn=L("ion-item-sliding",Xe,["disabled","ionDrag"]),mn=L("ion-label",qe,["color","position","ionColor","ionStyle"]),hn=L("ion-list",Ye,["lines","inset"]),gn=L("ion-progress-bar",Je,["type","reversed","value","buffer","color"]),bn=L("ion-row",Qe),vn=L("ion-searchbar",Ze,["color","animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","disabled","inputmode","enterkeyhint","maxlength","minlength","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value","ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus","ionStyle"],"value","ion-input"),In=L("ion-segment",et,["color","disabled","scrollable","swipeGesture","value","selectOnFocus","ionChange","ionSelect","ionStyle"],"value","ion-change"),yn=L("ion-segment-button",tt,["disabled","layout","type","value"],"value","ion-change"),Cn=L("ion-select",nt,["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","multiple","name","okText","placeholder","selectedText","toggleIcon","expandedIcon","shape","value","ionChange","ionCancel","ionDismiss","ionFocus","ionBlur","ionStyle"],"value","ion-change"),En=L("ion-select-option",ot,["disabled","value"]),wn=L("ion-text",it,["color"]),Rn=L("ion-title",at,["color","size","ionStyle"]),kn=L("ion-toolbar",st,["color"]);var _;(function(t){t.WillEnter="onIonViewWillEnter",t.DidEnter="onIonViewDidEnter",t.WillLeave="onIonViewWillLeave",t.DidLeave="onIonViewDidLeave"})(_||(_={}));const St={[me]:_.WillEnter,[he]:_.DidEnter,[ge]:_.WillLeave,[be]:_.DidLeave},ae={main:0},Pt=(t="main")=>{var e;const o=((e=ae[t])!==null&&e!==void 0?e:0)+1;return ae[t]=o,o.toString()},z=(t,e,o)=>{t!=null&&t[o]&&t[o].bind(e==null?void 0:e.value)();const n=e==null?void 0:e.value;if(n!=null&&n[o]&&n[o](),n){const r=St[o],s=n[r];s&&s.forEach(c=>c())}},ve=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},Dt=(t,e,o)=>{if(o){const n=o,r=n.proxy[t]||(n.proxy[t]=[]);n.exposed&&(n.exposed[t]=r);const s=(...c)=>{if(!n.isUnmounted)return c?e(...c):e()};return r.push(s),s}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},K=t=>(e,o=Q())=>Dt(t,e,o),Ln=K(_.WillEnter);K(_.DidEnter);const Bn=K(_.WillLeave);K(_.DidLeave);const Tn=()=>{const{canGoBack:t,goBack:e,goForward:o,handleNavigate:n}=A("navManager"),r=(u,I,w,B)=>n(u,w,I,B);return{canGoBack:t,push:(u,I)=>r(u,"forward","push",I),replace:(u,I)=>r(u,"root","replace",I),back:u=>e(u),forward:u=>o(u),navigate:r}},J=t=>t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),Ot=()=>({ael:(t,e,o,n)=>t.addEventListener(J(e),o,n),rel:(t,e,o,n)=>t.removeEventListener(J(e),o,n),ce:(t,e)=>new CustomEvent(J(t),e)}),Sn={async install(t,e={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:o,rel:n,ce:r}=Ot();ft(Object.assign(Object.assign({},e),{_ael:o,_rel:n,_ce:r}))}},At=D((t,{attrs:e,slots:o})=>{Be();const n=A("navManager"),r=()=>{if(n===void 0)return;const s=e["default-href"]||e.defaultHref,c=e["router-animation"]||e.routerAnimation;n.handleNavigateBack(s,c)};return()=>S("ion-back-button",Object.assign({onClick:r},e),o.default&&o.default())});At.name="IonBackButton";const Pn=D({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(t,{attrs:e,slots:o}){return()=>S("div",Object.assign(Object.assign({},e),{class:"ion-page",ref:"ionPage"}),o.default&&o.default())}}),se=t=>!t.classList.contains("ion-page-hidden")&&!t.classList.contains("ion-page-invisible"),re=Symbol(0),Dn=D({name:"IonRouterOutlet",setup(){Pe();const t=A(mt),e=ht(),o=A(re,0),n=yt(()=>e.matched[o]);let r,s;ee(re,o+1),ee(gt,n);const c=N(),i=Pt("ion-router-outlet"),R=A("navManager"),u=A("viewStacks"),I=U([]);let w=!1,B;te(()=>[e,n.value],([f,d])=>{if(d!==void 0){const p=d!==r,a=f.matched[f.matched.length-1]===d&&f.path!==s;(p||a)&&b(n)}r=d,s=f.path},{deep:!0});const P=()=>{const f=ve();if(!(f&&f.get("swipeBackEnabled",c.value.mode==="ios")))return!1;const p=u.getViewStack(i);if(!p||p.length<=1)return!1;const a=R.getLeavingRouteInfo();return!!u.findViewItemByRouteInfo({pathname:a.pushedByRoute||""},i)},O=async()=>{const f=R.getLeavingRouteInfo(),{routerAnimation:d}=f,p=u.findViewItemByRouteInfo({pathname:f.pushedByRoute||""},i),a=u.findViewItemByRouteInfo(f,i);if(a){let g=d;const y=p.ionPageElement,k=a.ionPageElement,v=p.routerAnimation;g===void 0&&v!==void 0&&(g=v),a.routerAnimation=g,await h(y,k,"back",R.canGoBack(2),!0,g)}return Promise.resolve()},m=f=>{if(f)w=!0,R.handleNavigateBack();else{const d=R.getCurrentRouteInfo(),p=u.findViewItemByRouteInfo({pathname:d.pushedByRoute||""},i);p.ionPageElement.setAttribute("aria-hidden","true"),p.ionPageElement.classList.add("ion-page-hidden")}};te(c,()=>{c.value.swipeHandler={canStart:P,onStart:O,onEnd:m}});const h=async(f,d,p,a,g,y)=>{if(w)return w=!1,Promise.resolve(!1);if(f===d)return Promise.resolve(!1);f.classList.add("ion-page-invisible");const k=p===void 0||p==="root"||p==="none";return await c.value.commit(f,d,{duration:k&&y===void 0?0:void 0,direction:p,showGoBack:a,progressAnimation:g,animationBuilder:y})},l=async()=>{const f=R.getCurrentRouteInfo(),{routerDirection:d,routerAction:p,routerAnimation:a,prevRouteLastPathname:g,delta:y}=f,k=u.findViewItemByRouteInfo(f,i);let v=u.findLeavingViewItemByRouteInfo(f,i);const V=k.ionPageElement;if(V===void 0&&console.warn("[@ionic/vue Warning]: The view you are trying to render for path ".concat(f.pathname," does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.")),k!==v&&(!v&&g&&(v=u.findViewItemByPathname(g,i)),!(se(V)&&(v==null?void 0:v.ionPageElement)!==void 0&&!se(v.ionPageElement)))){if(z(k.vueComponent,k.vueComponentRef,me),v!=null&&v.ionPageElement&&k!==v){let E=a;const $=v.ionPageElement;z(v.vueComponent,v.vueComponentRef,ge);const F=k.routerAnimation;E===void 0&&d==="back"&&F!==void 0&&(E=F),v.routerAnimation=E,await h(V,$,d,!!f.pushedByRoute,!1,E),$.classList.add("ion-page-hidden"),$.setAttribute("aria-hidden","true");const M=u.size()===1;p==="replace"?(v.mount=!1,v.ionPageElement=void 0,v.ionRoute=!1):p==="push"&&d==="forward"?M&&u.mountIntermediaryViews(i,v,y):d!=="none"&&v&&k!==v&&(v.mount=!1,v.ionPageElement=void 0,v.ionRoute=!1,M&&u.unmountLeavingViews(i,k,y)),z(v.vueComponent,v.vueComponentRef,be)}else requestAnimationFrame(()=>V.classList.remove("ion-page-invisible"));z(k.vueComponent,k.vueComponentRef,he),I.value=u.getChildrenToRender(i)}},b=f=>{const d=e.matched[0];if(B||(B=d.path),!f.value||f.value!==d&&d.path!==B)return;const p=R.getCurrentRouteInfo();let a=u.findViewItemByRouteInfo(p,i);a||(a=u.createViewItem(i,f.value.components.default,f.value,p),u.add(a)),a.mount?l():(a.mount=!0,a.registerCallback=()=>{l(),a.registerCallback=void 0}),I.value=u.getChildrenToRender(i)};return n.value&&b(n),Ct(()=>u.clear(i)),{id:i,components:I,injectedRoute:t,ionRouterOutlet:c,registerIonPage:(f,d)=>{const p=f.ionPageElement;u.registerIonPage(f,d),f.registerCallback?(d.classList.add("ion-page-invisible"),f.registerCallback()):p&&!p.classList.contains("ion-page-invisible")&&d.classList.remove("ion-page-invisible")}}},render(){const{components:t,registerIonPage:e,injectedRoute:o}=this;return S("ion-router-outlet",{ref:"ionRouterOutlet"},t&&t.map(n=>{var r,s;let c={ref:n.vueComponentRef,key:n.pathname,registerIonPage:I=>e(n,I)};const i=(s=(r=n.matchedRoute)===null||r===void 0?void 0:r.props)===null||s===void 0?void 0:s.default,u=i?i===!0?n.params:typeof i=="function"?(()=>{var I;const w=(I=n.vueComponentData)===null||I===void 0?void 0:I.propsFunctionResult;if(w)return w;{const B=i(o);return n.vueComponentData=Object.assign(Object.assign({},n.vueComponentData),{propsFunctionResult:B}),B}})():i:null;return c=Object.assign(Object.assign({},c),u),S(n.vueComponent,c)}))}}),On=D({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(t,{slots:e}){rt();const o=A("navManager"),n=r=>{r.cancelable&&r.preventDefault();const{tab:s,href:c,_getTabState:i}=t,R=i(),u=R.tabs[s]||{},I=u.originalHref||c,w=u.currentHref||c;R.activeTab===s?I!==w&&o.resetTab(s):o.changeTab(s,w)};return()=>S("ion-tab-button",Object.assign({onClick:n},t),e.default&&e.default())}}),ce="ionTabsWillChange",le="ionTabsDidChange",ue=t=>t.type&&(t.type.name==="IonRouterOutlet"||t.type==="ion-router-outlet"),_t=t=>t.type&&(t.type.name==="IonTabBar"||t.type==="ion-tab-bar"),An=D({name:"IonTabs",emits:[ce,le],render(){var t;const{$slots:e,$emit:o}=this,n=e.default&&e.default();let r;if(n&&n.length>0&&(r=n.find(c=>ue(c))),!r)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let s=[S("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},r)];if(n&&n.length>0){const c=n.filter(u=>!u.type||!ue(u)),i=c.find(u=>_t(u)),R=i&&((t=i.props)===null||t===void 0?void 0:t.slot)==="top";i&&(i.props||(i.props={}),i.props._tabsWillChange=u=>o(ce,{tab:u}),i.props._tabsDidChange=u=>o(le,{tab:u})),R?s=[...c,...s]:s=[...s,...c]}return S("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},s)}}),Ie=t=>{var e;return((e=t.type)===null||e===void 0?void 0:e.name)==="IonTabButton"},ye=t=>{let e=[];return t.forEach(o=>{if(Ie(o))e.push(o);else if(Array.isArray(o.children)&&o.children.length>1){const n=ye(o.children);e=[...e,...n]}}),e},_n=D({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data(){return{tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}},updated(){this.setupTabState(A("navManager"))},methods:{setupTabState(t){const e=this.$data.tabState,o=Q();(this.$data.tabVnodes=ye(o.subTree.children||[])).forEach(r=>{e.tabs[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,ref:r},r.component.props._getTabState=()=>e}),this.checkActiveTab(t)},checkActiveTab(t){const e=t.getCurrentRouteInfo(),o=this.$data.tabVnodes,{tabs:n,activeTab:r}=this.$data.tabState,s=this.$data.tabState,i=Object.keys(n).find(w=>{const B=n[w].originalHref;return e.pathname.startsWith(B)});if(o.forEach(w=>{const B=n[w.props.tab];(!B||B.originalHref!==w.props.href)&&(n[w.props.tab]={originalHref:w.props.href,currentHref:w.props.href,ref:w})}),i&&r){const w=this.$data.tabState.tabs[r].currentHref;if(i!==r||w!==e.pathname){const B=e.search?"?".concat(e.search):"";n[i]=Object.assign(Object.assign({},n[i]),{currentHref:e.pathname+B})}e.routerAction==="pop"&&i!==r&&(n[r]=Object.assign(Object.assign({},n[r]),{currentHref:n[r].originalHref}))}const R=o.find(w=>{var B;return Ie(w)&&((B=w.props)===null||B===void 0?void 0:B.tab)===i}),u=this.$refs.ionTabBar,I=i!==r;u&&(R?(I&&this.$props._tabsWillChange(i),t.handleSetCurrentTab(i),u.selectedTab=s.activeTab=i,I&&this.$props._tabsDidChange(i)):u.selectedTab=s.activeTab="")}},mounted(){const t=A("navManager");this.setupTabState(t),t.registerHistoryChangeListener(()=>this.checkActiveTab(t))},setup(t,{slots:e}){return ct(),()=>S("ion-tab-bar",{ref:"ionTabBar"},e.default&&e.default())}}),H=U([]),Vt=D((t,{attrs:e,slots:o})=>(Te(),()=>S("ion-app",Object.assign({},e),[o.default&&o.default(),...H.value])));Vt.name="IonApp";const $t=t=>{H.value=[...H.value,t]},xt=t=>{H.value=H.value.filter(e=>e!==t)},Ce=(t=$t,e=xt)=>{const o=new WeakMap;return{attachViewToDom:(s,c,i={},R)=>{const u=document.createElement("div");R&&u.classList.add(...R),s.appendChild(u);const I=S(wt,{to:u},S(c,Object.assign({},i)));return o.set(u,I),t(I),Promise.resolve(u)},removeViewFromDom:(s,c)=>{const i=o.get(c);return i&&e(i),Promise.resolve()}}},Ee=D(t=>{Se();const e=U([]),r=Ce(s=>e.value=[...e.value,s],s=>e.value=e.value.filter(c=>c!==s));return()=>S("ion-nav",Object.assign(Object.assign({},t),{delegate:r}),e.value)});Ee.name="IonNav";Ee.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const Vn=D({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(t,{slots:e}){return It(),()=>{var o,n;const{icon:r,ios:s,md:c,mode:i}=t;let R;const u=ve(),I=i||(u==null?void 0:u.get("mode"));return s||c?I==="ios"?R=(o=s!=null?s:c)!==null&&o!==void 0?o:r:R=(n=c!=null?c:s)!==null&&n!==void 0?n:r:R=r,S("ion-icon",Object.assign(Object.assign({},t),{icon:R}),e)}}}),we=Symbol(),de={default:we},Re=(t,e,o=[],n,r)=>{const c=D((i,{slots:R})=>{e!==void 0&&e();const u=N(!1),I=N();return Rt(()=>{I.value.addEventListener("ion-mount",()=>u.value=!0),I.value.addEventListener("will-present",()=>u.value=!0),I.value.addEventListener("did-dismiss",()=>u.value=!1)}),()=>{let w={};for(const P in i){const O=i[P];i.hasOwnProperty(P)&&O!==we&&(w[P]=O)}const B=()=>n?S("div",{className:"ion-delegate-host ion-page"},R):R;return S(t,Object.assign(Object.assign({},w),{ref:I}),u.value||w.keepContentsMounted||w.keepContentsMounted===""?B():void 0)}});return c.name=t,c.props={isOpen:de},o.forEach(i=>{c.props[i]=de}),c},$n=Re("ion-loading",lt,["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"]),xn=Re("ion-modal",ut,["animated","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","enterAnimation","focusTrap","handle","handleBehavior","htmlAttributes","initialBreakpoint","isOpen","keepContentsMounted","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","trigger"],!0),jt=(t,e,o=!1)=>{const n=o?Ce():void 0,r=e.create.bind(e);return e.create=s=>(t(),r(Object.assign(Object.assign({},s),{delegate:n}))),e},jn=jt(dt,pt),Ft=()=>{const t=[],e={},o=m=>{switch(m.routerAction){case"pop":r(m);break;default:s(m);break}m.routerDirection==="root"&&(c(),s(m))},n=m=>{const h=t.findIndex(b=>b.id===m.id);h>-1&&t.splice(h,1,m);const l=e[m.tab||""];if(l){const b=l.findIndex(C=>C.id===m.id);b>-1?l.splice(b,1,m):l.push(m)}else m.tab&&(e[m.tab]=[m])},r=m=>{const h=i(m.tab);let l;if(h){for(l=h[h.length-1];l&&l.id!==m.id;)h.pop(),l=h[h.length-1];h.pop(),h.push(m)}for(l=t[t.length-1];l&&l.id!==m.id;)t.pop(),l=t[t.length-1];t.pop(),t.push(m)},s=m=>{const h=i(m.tab);h&&(h[h.length-1]&&h[h.length-1].id===m.id&&h.pop(),h.push(m)),t.push(m)},c=m=>{if(m){const{position:h,tab:l}=m,b=t.findIndex(d=>d.position===h);if(b===-1)return;t.splice(b);const C=d=>{const p=e[d].findIndex(a=>a.position===h);p!==-1&&e[d].splice(p)},f=e[l];if(l&&f)C(l);else for(const d in e)C(d)}else{for(const h in e)e[h]=[];t.length=0}},i=m=>{let h;return m&&(h=e[m],h||(h=e[m]=[])),h},R=()=>t.length,u=(m,h)=>{const l=h-m;return t[l]||I()},I=()=>t[t.length-1];return{current:u,size:R,last:I,add:o,canGoBack:(m=1,h,l)=>l-m>=h,update:n,getFirstRouteInfoForTab:m=>{const h=i(m);if(h)return h[0]},getCurrentRouteInfoForTab:m=>{const h=i(m);if(h)return h[h.length-1]},findLastLocation:(m,h=-1)=>{const l=i(m.tab);if(l){if(h<-1)return l[l.length-1+h];for(let b=l.length-2;b>=0;b--){const C=l[b];if(C&&C.pathname===m.pushedByRoute)return C}}if(h<-1)return t[t.length-1+h];for(let b=t.length-2;b>=0;b--){const C=t[b];if(C&&C.pathname===m.pushedByRoute)return C}},clearHistory:c}},fe={main:0},ke=(t="main")=>{var e;const o=((e=fe[t])!==null&&e!==void 0?e:0)+1;return fe[t]=o,o.toString()},Ht=(t,e)=>{let o={direction:void 0,action:void 0,delta:void 0};e.afterEach((a,g,y)=>{if(y)return;const{direction:k,action:v,delta:V}=o;s=t.history.state.position;const E=t.history.state.replaced?"replace":void 0;w(a,v||E,k,V),o={direction:void 0,action:void 0,delta:void 0}});const n=Ft();let r=t.history.state.position,s=t.history.state.position,c,i;const R=[];typeof document<"u"&&document.addEventListener("ionBackButton",a=>{a.detail.register(0,g=>{t.history.go(-1),g()})}),t.history.listen((a,g,y)=>{o={delta:y.delta,action:y.type==="pop"&&y.delta>=1?"push":y.type,direction:y.direction===""?"forward":y.direction}});const u=(a,g)=>{const y=n.current(r,s);if(y&&y.pushedByRoute){const k=n.findLastLocation(y);k?(i=Object.assign(Object.assign({},k),{routerAction:"pop",routerDirection:"back",routerAnimation:g||y.routerAnimation}),y.lastPathname===y.pushedByRoute||k.pathname===y.pushedByRoute&&!y.tab&&!k.tab?e.back():e.go(k.position-y.position)):I(a,"pop","back",g)}else I(a,"pop","back",g)},I=(a,g,y,k,v)=>{C(g,y,k,v),g==="push"?e.push(a):e.replace(a)},w=(a,g,y,k)=>{let v;if(i)if(i.routerAction==="replace")v=n.current(r,s);else if(i.routerAction==="pop")v=n.current(r,s+1),g==="replace"&&n.clearHistory();else{const E=i.routerDirection==="root"?s:s-1;v=n.current(r,E)}else v=c;if(v||(v={pathname:"",search:""}),v.pathname+v.search!==a.fullPath){if(!i){if(g==="replace")i={routerAction:"replace",routerDirection:"none"};else if(g==="pop"){const x=n.current(r,s-k);if(x&&x.pushedByRoute){const T=n.findLastLocation(x,k);i=Object.assign(Object.assign({},T),{routerAction:"pop",routerDirection:"back"})}else i={routerAction:"pop",routerDirection:"none"}}i||(i={routerAction:"push",routerDirection:y||"forward"})}let E;if(i!=null&&i.id)E=Object.assign(Object.assign({},i),{lastPathname:v.pathname});else{const x=i.routerAction==="push"&&i.routerDirection==="forward";if(E=Object.assign(Object.assign({id:ke("routeInfo")},i),{lastPathname:v.pathname,pathname:a.path,search:a.fullPath&&a.fullPath.split("?")[1]||"",params:a.params&&a.params,prevRouteLastPathname:v.lastPathname}),x)E.pushedByRoute=v.pathname!==""?v.pathname:void 0;else if(E.routerAction==="pop"){const T=n.findLastLocation(E);E.pushedByRoute=T==null?void 0:T.pushedByRoute}else if(E.routerAction==="push"&&E.tab!==v.tab){const T=n.getCurrentRouteInfoForTab(E.tab);E.pushedByRoute=T==null?void 0:T.pushedByRoute}else if(E.routerAction==="replace"){const T=n.current(r,s),X=T==null?void 0:T.pushedByRoute,Le=X!==void 0&&X!==E.pathname?X:E.pushedByRoute;E.lastPathname=(T==null?void 0:T.pathname)||E.lastPathname,E.pushedByRoute=Le,E.routerDirection=(T==null?void 0:T.routerDirection)||E.routerDirection,E.routerAnimation=(T==null?void 0:T.routerAnimation)||E.routerAnimation,E.prevRouteLastPathname=T==null?void 0:T.lastPathname}}E.position=s,E.delta=k;const $=n.size(),F=s-r,M=$===F&&$>0&&g==="replace";$>F||M?(E.routerAction==="push"||E.routerAction==="replace")&&k===void 0&&(n.clearHistory(E),n.add(E)):n.add(E),n.size()===1&&(r=E.position),c=E}i=void 0,R.forEach(E=>E(c))},B=()=>c,P=(a=1)=>n.canGoBack(a,r,s),O=a=>{const{routerAnimation:g,routerDirection:y,routerLink:k}=a;C("push",y,g),e.push(k)},m=a=>{const g=n.getFirstRouteInfoForTab(a);g&&e.go(g.position-s)},h=(a,g)=>{if(!g)return;const y=n.getCurrentRouteInfoForTab(a),[k]=g.split("?");y?(i=Object.assign(Object.assign({},i),{routerAction:"push",routerDirection:"none",tab:a}),y.pathname===k?e.push({path:y.pathname,query:Z(y.search)}):e.push({path:k,query:Z(y.search)})):I(k,"push","none",void 0,a)},l=a=>{const g=Object.assign({},n.current(r,s));g.tab!==a&&(g.tab=a,n.update(g));const y=n.findLastLocation(g);g.pushedByRoute!==g.lastPathname&&(y==null?void 0:y.tab)!==a&&(g.pushedByRoute=void 0,n.update(g))},b=a=>{R.push(a)},C=(a="push",g="forward",y,k)=>{i={routerAction:a,routerDirection:g,routerAnimation:y,tab:k}};return{handleNavigate:I,getLeavingRouteInfo:()=>n.current(r,s),handleNavigateBack:u,handleSetCurrentTab:l,getCurrentRouteInfo:B,canGoBack:P,navigate:O,resetTab:m,changeTab:h,registerHistoryChangeListener:b,goBack:a=>{C("pop","back",a),e.back()},goForward:a=>{C("push","forward",a),e.forward()}}},Mt=t=>{const e={},o=()=>Object.keys(e).length,n=l=>{delete e[l]},r=l=>e[l],s=(l,b)=>{l.ionPageElement=b,l.ionRoute=!0,l.matchedRoute.instances={default:l.vueComponentRef.value}},c=(l,b)=>I(l.pathname,b,!1),i=(l,b,C=!0)=>I(l.lastPathname,b,C),R=(l,b)=>I(l,b,!1),u=(l,b)=>b.find(C=>{if(C.pathname===l)return C}),I=(l,b,C=!1)=>{const f=d=>{if(C&&!d.ionRoute||l==="")return!1;const a=t.resolve(l).matched.find(g=>g===d.matchedRoute);if(a)return a.path.includes(":")&&l!==d.pathname?!1:d};if(b){const d=e[b];if(!d)return;const p=t?d.find(f):u(l,d);if(p)return p}else for(const d in e){const p=e[d],a=u(l,p);if(a)return a}};return{unmountLeavingViews:(l,b,C=1)=>{const f=e[l];if(!f)return;const d=f.findIndex(p=>p===b);for(let p=d+1;p<d-C;p++){const a=f[p];a.mount=!1,a.ionPageElement=void 0,a.ionRoute=!1,a.matchedRoute.instances={}}},mountIntermediaryViews:(l,b,C=1)=>{const f=e[l];if(!f)return;const d=f.findIndex(p=>p===b);for(let p=d+1;p<d+C;p++)f[p].mount=!0},clear:n,findViewItemByRouteInfo:c,findLeavingViewItemByRouteInfo:i,findViewItemByPathname:R,createViewItem:(l,b,C,f,d)=>({id:ke("viewItem"),pathname:f.pathname,outletId:l,matchedRoute:C,ionPageElement:d,vueComponent:b,vueComponentRef:U(),ionRoute:!1,mount:!1,exact:f.pathname===C.path,params:f.params,vueComponentData:{}}),getChildrenToRender:l=>e[l]?e[l].filter(f=>f.mount):[],add:l=>{const{outletId:b}=l;e[b]?e[b].push(l):e[b]=[l]},remove:(l,b)=>{if(!b)throw Error("outletId required");const C=e[b];C&&(e[b]=C.filter(f=>f.id!==l.id))},registerIonPage:s,getViewStack:r,size:o}},Fn=t=>{const e=Object.assign({},t);delete e.tabsPrefix;const o=bt(e),n=Ht(t,o),r=Mt(o),s=o.install.bind(o);o.install=i=>{i.provide("navManager",n),i.provide("viewStacks",r),s(i)};const c=o.isReady.bind(o);return o.isReady=()=>c(),o},Hn=t=>vt(t),W={SecureStorage:"ionicSecureStorage",IndexedDB:G.INDEXEDDB,LocalStorage:G.LOCALSTORAGE},pe={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[W.SecureStorage,W.IndexedDB,W.LocalStorage]};class Mn{constructor(e=pe){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},pe,e||{});this._config=o}async create(){const e=G.createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===W.SecureStorage&&(this._secureStorageDriver=e),G.defineDriver(e)}get driver(){var e;return((e=this._db)===null||e===void 0?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,o){return this.assertDb().setItem(e,o)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var o;if(this._secureStorageDriver)(o=this._secureStorageDriver)===null||o===void 0||o.setEncryptionKey(e);else throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available")}}export{Yt as A,qt as B,un as C,hn as D,Cn as E,En as F,vn as G,In as H,An as I,yn as J,cn as K,en as L,Jt as M,wn as N,Ln as O,on as P,xn as Q,ln as R,Mn as S,pn as T,fn as U,dn as V,sn as a,an as b,bn as c,tn as d,rn as e,Vn as f,Qt as g,Dn as h,_n as i,On as j,mn as k,Pn as l,kn as m,nn as n,Zt as o,At as p,Rn as q,gn as r,Fn as s,jn as t,Tn as u,Hn as v,$n as w,Vt as x,Sn as y,Bn as z};
