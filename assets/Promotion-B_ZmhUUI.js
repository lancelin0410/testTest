import{r as p,I as i,J as e,E as t,H as r,C as a,O as c,P as w,Q as L,F as k,N as P,L as f,M as g}from"./@vue-B0j_qcai.js";import{K as C,u as b,t as V,H as B,J as _,E as x,o as S,k as T,D as z,m as E,e as N,b as D,d as I,g as R}from"./@ionic-18nICBu3.js";import{u as $,f as A}from"./index-CBAZMc4h.js";import{_ as F}from"./NoData-BgeuwovY.js";import"./@stencil-DBaMOtEh.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-BLYQmdkJ.js";import"./ionicons-CdrslGsx.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./pinia-Ds326xZN.js";import"./jsencrypt-Ve0Y4aUG.js";import"./vue-i18n-DzMZFiEd.js";import"./@intlify-BAcCFw_v.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";const H={style:{"font-size":"1rem","font-weight":"800"}},J={style:{"font-size":"0.8rem"}},lt={__name:"Promotion",setup(M){const v=b(),l=$(),o=p("latest"),u=p({latest:[],archive:[]}),d=async()=>{const s=await await A(0);s.code==="00000"?u.value[o.value]=s.data.list||[]:await(await V.create({message:s.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present()};C(async()=>{l.barLoading=!0,await d(),l.barLoading=!1});const y=async()=>{o.value=="latest"&&await d(),o.value!="archive"},h=async s=>{v.push({name:"PromotionDetail",params:{promoId:s.id},query:{title:s.title}})};return(s,m)=>(r(),i(t(T),{class:"promotion"},{default:e(()=>[a(t(S),null,{default:e(()=>[a(t(B),{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=n=>o.value=n),mode:"ios",onIonChange:y},{default:e(()=>[a(t(_),{value:"latest"},{default:e(()=>[c("Latest Promotion")]),_:1}),a(t(_),{value:"archive"},{default:e(()=>[c("Archived")]),_:1})]),_:1},8,["modelValue"]),t(l).barLoading||u.value[o.value].length==0?(r(),i(F,{key:0,class:"no-data",desc:s.$t("mail.message.nodata")},null,8,["desc"])):(r(),i(t(x),{style:{"margin-top":"16px"},key:o.value},{default:e(()=>[(r(!0),w(k,null,L(u.value[o.value],n=>(r(),i(t(z),{key:n.id,class:"promo-item",lines:"none",onClick:P(j=>h(n),["stop"])},{default:e(()=>[a(t(E),null,{default:e(()=>[a(t(N),{src:n.h5Image},null,8,["src"]),a(t(D),{class:"promo-content ion-justify-content-between"},{default:e(()=>[a(t(I),{size:"auto"},{default:e(()=>[f("h4",H,g(n.title||""),1),f("div",J,g(n.timeText||""),1)]),_:2},1024),a(t(I),{size:"auto"},{default:e(()=>[a(t(R),{class:"btn-in-progress"},{default:e(()=>[c("In Progress")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1})]),_:1}))}};export{lt as default};
