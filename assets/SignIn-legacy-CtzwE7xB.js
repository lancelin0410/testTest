System.register(["./index-legacy-BizqwEaK.js"],(function(e,t){"use strict";var n,o,a,i,l,s,r,c,d,u,g,f,p,b,m,v,h,w,x,_,k,y,C,I,P,V;return{setters:[e=>{n=e.a9,o=e.l,a=e.aa,i=e.ab,l=e.r,s=e.ac,r=e.j,c=e.w,d=e.u,u=e.D,g=e.d,f=e.f,p=e.x,b=e.M,m=e.h,v=e.y,h=e.H,w=e.ad,x=e.v,_=e.B,k=e.K,y=e.z,C=e.A,I=e.C,P=e.t,V=e.ae}],execute:function(){var t=document.createElement("style");t.textContent=".sign-in{background-color:var(--ion-background-color)}.sign-in ion-list ion-item{--ion-item-background: transparent;margin-bottom:8px}.sign-in .btn-forget{margin-left:50%;color:#b3bec1;font-size:.8rem;font-weight:1000}.sign-in .btn-sign-in{--background: linear-gradient(90deg, #24ee89, #9fe871);--background-activated: linear-gradient(40deg, #24ee89, #9fe871);--border-radius: 8px;--color: #000000;--box-shadow: 0 0 12px #23ee884d, 0 -2px #1dca6a inset;margin:auto}.sign-in .note{font-size:.8rem;font-weight:800;display:flex;align-items:center}.sign-in .note .btn-sing-up{font-size:.8rem;font-weight:800;color:#24ee89}.sign-in .sign-in-divider{position:relative;height:fit-content;width:100%}.sign-in .sign-in-divider .divider-text{position:absolute;top:0;left:50%;transform:translate(-50%,-50%);font-size:.8rem;color:#b3bec1;padding:10px;background-color:var(--ion-background-color)}\n",document.head.appendChild(t);const z={style:{"font-weight":"1000"}},L={slot:"start"},$=m("span",{slot:"start"},"OTP",-1),U={class:"note"};e("default",{__name:"SignIn",setup(e){const{t:t}=n(),N=u(),j=o(),A=a(),{getPublicUrl:B}=I(),E=i({device:"h5",mobile:"",sessionId:"",code:""});let M;const S=Number(j.appConfig.callPrefixes),D=l(t("account.button.otp")),F=l(0),G=async()=>{if(0==F.value){if(!E.mobile||0==E.mobile.length){const e=await P.create({message:t("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await e.present())}const e=await V({mobile:j.encrypt.encrypt(E.mobile),callPrefixes:S});"00000"===e.code&&(E.sessionId=e.data.sessionId,F.value=60,H())}},H=()=>{D.value=`${F.value}s`,M=setInterval((()=>{F.value>0?(F.value--,D.value=`${F.value}s`):(D.value=t("account.button.otp"),F.value=0,clearInterval(M))}),1e3)},K=async()=>{if(E.mobile&&0!=E.mobile.length)if(E.code&&0!=E.code.length)j.fullLoading=!0,await A.mobileLogin(E),j.fullLoading=!1;else{const e=await P.create({message:t("account.resister.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0});await e.present()}else{const e=await P.create({message:t("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0});await e.present()}};return s((()=>A.isLogin),(()=>{A.isLogin&&N.replace("/")})),(e,t)=>(g(),r(d(C),{class:"sign-in"},{default:c((()=>[f(d(p),{src:d(B)("/banner.webp")},null,8,["src"]),f(d(y),null,{default:c((()=>[f(d(b),{lines:"none"},{default:c((()=>[m("h5",z,v(e.$t("login.header.signIn")),1),f(d(h),null,{default:c((()=>[f(d(w),{modelValue:E.mobile,"onUpdate:modelValue":t[0]||(t[0]=e=>E.mobile=e),fill:"outline",placeholder:"Phone Number"},{default:c((()=>[m("span",L,"+"+v(d(S)),1)])),_:1},8,["modelValue"])])),_:1}),f(d(h),null,{default:c((()=>[f(d(w),{modelValue:E.code,"onUpdate:modelValue":t[1]||(t[1]=e=>E.code=e),placeholder:e.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:c((()=>[$,f(d(x),{slot:"end",class:"btn-otp",color:"medium",style:{color:"#00ff84"},onClick:G},{default:c((()=>[_(v(D.value),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1})])),_:1}),f(d(x),{class:"btn-forget",fill:"clear","router-link":"/login/forgetPW"},{default:c((()=>[_("Forget your password?")])),_:1}),f(d(x),{class:"btn-sign-in",expand:"block",onClick:k(K,["stop"])},{default:c((()=>[_(v(e.$t("login.header.signIn")),1)])),_:1}),m("div",U,[_(" New to BC.GAME? "),f(d(x),{class:"btn-sing-up",fill:"clear","router-link":"/login/signUp"},{default:c((()=>[_("Create account")])),_:1})])])),_:1})])),_:1}))}})}}}));
