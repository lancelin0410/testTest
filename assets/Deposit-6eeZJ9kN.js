import{l as Y,B as Z,I as H,m as ee,o as te,f as A,e as oe,q as se,n as j,P as F,Q as ne,t as S,b as B,c as M,N as O,K as ae,d as k,M as le,H as ie,j as re,J as de}from"./@ionic-Bc3KAXgC.js";import{r as N,H as u,P as $,C as n,J as s,E as e,L as t,O as v,M as o,N as w,F as C,j as ue,B as q,w as pe,a as R,U as G,Q as T,I as c,Y as ce,S as b,R as L,k as me,c as fe,W as ge,X as he}from"./@vue-B0j_qcai.js";import{u as E}from"./vue-i18n-DzMZFiEd.js";import{s as _e}from"./pinia-Ds326xZN.js";import{r as ye,a as U,b as be}from"./index-BLTQj5AA.js";import{u as J}from"./useDepositStore-SYX1gCy1.js";import{e as ve}from"./ionicons-vS9WG2d3.js";import"./@ionic_components_1-CG1weR9z.js";import"./@stencil-pJInS8Bp.js";import"./@ionic_components_2-DZGN-9Y0.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-BLYQmdkJ.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./@intlify-BAcCFw_v.js";import"./jsencrypt-Ve0Y4aUG.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";function Ie(P){return ye({url:"/recharge/createRechargeOrder",method:"POST",data:P})}const $e={style:{color:"#ffdf3f","margin-left":"16px"}},ke={style:{"font-size":"0.8rem"}},Ce={class:"block-content"},Pe={class:"block-content"},we={class:"block-title"},Me={class:"block-content"},Le={class:"block-title"},Se={class:"block-content"},Te={class:"block-content"},Ae={class:"block-content"},Ne={class:"block-content"},xe={__name:"SelfServiceUtr",props:{orderId:{type:String,default:""},pendingCount:{type:Number,default:0}},setup(P){const m=U(),{t:g}=E(),d=P,h=N(!1),y=async()=>{if(d.orderId){if(m.appConfig.manualPendingMaxCount&&m.appConfig.manualPendingMaxCount>0&&d.pendingCount>=m.appConfig.manualPendingMaxCount){await(await S.create({message:"".concat(g("deposit.toast.text5")," ").concat(m.appConfig.manualPendingMaxCount," ").concat(g("deposit.toast.text6")),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}window.open("".concat(m.manualRechargeUrl,"?userId=").concat(userStore.userInfo.id,"&orderId=").concat(d.orderId))}else h.value=!0};return(i,p)=>(u(),$(C,null,[n(e(Z),{class:"self-service",detail:!0,lines:"none",onClick:w(y,["stop"])},{default:s(()=>[n(e(Y),null,{default:s(()=>[t("h2",null,[v(o(i.$t("deposit.message.tipsUtr1")),1),t("span",$e,o(i.$t("deposit.message.tipsUtr2")),1)]),t("p",ke,o(i.$t("deposit.message.tipsUtr3")),1)]),_:1})]),_:1}),n(e(ne),{class:"self-service-info","is-open":h.value},{default:s(()=>[n(e(H),null,{default:s(()=>[n(e(ee),null,{default:s(()=>[n(e(te),{slot:"start"},{default:s(()=>[n(e(A),{onClick:p[0]||(p[0]=w(f=>h.value=!1,["stop"]))},{default:s(()=>[n(e(oe),{slot:"icon-only",icon:e(ve),color:"light"},null,8,["icon"])]),_:1})]),_:1}),n(e(se),null,{default:s(()=>[v(o(i.$t("deposit.title")),1)]),_:1})]),_:1})]),_:1}),n(e(j),{class:"ion-padding"},{default:s(()=>[t("div",Ce,o(i.$t("deposit.utrPage.text1")),1),t("div",Pe,o(i.$t("deposit.utrPage.text2")),1),t("div",we,o(i.$t("deposit.utrPage.title1")),1),t("div",Me,o(i.$t("deposit.utrPage.text3")),1),t("div",Le,o(i.$t("deposit.utrPage.title2")),1),t("div",Se,o(i.$t("deposit.utrPage.text4")),1),t("div",Te,o(i.$t("deposit.utrPage.text5")),1),t("div",Ae,o(i.$t("deposit.utrPage.text6")),1),t("div",Ne,o(i.$t("deposit.utrPage.text7")),1)]),_:1}),n(e(F),null,{default:s(()=>[n(e(A),{class:"btn-deposit-history",expand:"block",shape:"round"},{default:s(()=>[v(o(i.$t("deposit.button.gotoDepositHistory")),1)]),_:1})]),_:1})]),_:1},8,["is-open"])],64))}},De={style:{margin:"4px 0"}},Be={class:"block-title"},Oe={class:"ion-margin-start",style:{"font-size":"0.9rem"}},Ue={class:"ion-margin-start",style:{"font-size":"0.9rem"}},Ve=t("hr",null,null,-1),ze={class:"method-bg"},Re={class:"method-text"},Ge={class:"method-fg"},He=t("hr",null,null,-1),je={class:"method-bg"},Fe={class:"channel-text"},qe={class:"method-fg"},Ee=t("hr",null,null,-1),Je={style:{margin:"4px 0"}},Ke={class:"block-title"},Qe=t("hr",null,null,-1),We={key:0,style:{margin:"4px 0"}},Xe={class:"block-title"},Ye=t("hr",null,null,-1),Ze={style:{margin:"4px 0"}},et={class:"block-title"},tt={style:{"font-size":"0.8rem"}},ot={__name:"OnlinePayment",setup(P){const{t:m}=E(),g=U(),d=J(),{isTypeB:h}=_e(d),{getImgUrl:y}=be(),i="â‚¹",p=N(0),f=N(0),l=ue({depositAmount:0,depositMethodItem:{},depositMethod:"",depositMethodName:"",depositChannel:1,depositMethodList:[]});q(async()=>{}),pe(()=>{var a;return(a=d.onlinePaymentInfo)==null?void 0:a.amountList},()=>{g.barLoading=!0,p.value=d.onlinePaymentInfo.amountList[0],f.value=d.onlinePaymentInfo.amountList[d.onlinePaymentInfo.amountList.length-1];const a=d.onlinePaymentInfo.amountList.indexOf(d.chargeInfo.defaultIndex);l.depositAmount=d.onlinePaymentInfo.amountList[a+1],l.depositMethodItem=d.rechargeTypeList[0],l.depositMethod=d.rechargeTypeList[0].type,l.depositMethodName=d.rechargeTypeList[0].name,g.barLoading=!1});const K=a=>{l.depositAmount=Number(a)},Q=a=>{l.depositMethodItem=a,l.depositMethod=a.type,l.depositMethodName=a.name},W=a=>{l.depositChannel=Number(a)},X=async()=>{if(!l.depositAmount){await(await S.create({message:m("deposit.toast.text1"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}if(Number(l.depositAmount)<p.value||Number(l.depositAmount)>f.value){await(await S.create({message:"".concat(m("deposit.toast.text2")," ").concat(p.value," - ").concat(f.value),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}g.fullLoading=!0;const a=await Ie({amount:l.depositAmount,channelId:l.depositChannel,rechargeType:l.depositMethod==5?"H":d.onlinePaymentInfo.rechargeType,accountType:l.depositMethod});a.state==="200"?a.resultData.url&&window.open(a.resultData.url,"_blank"):await(await S.create({message:a.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present(),g.fullLoading=!1};return(a,I)=>{var V;return u(),$(C,null,[R(n(e(j),{class:"online-payment"},{default:s(()=>{var z;return[t("div",De,[t("span",Be,o(a.$t("deposit.depositAmount"))+": ",1),t("span",Oe,"Min: "+o(p.value.toLocaleString()),1),t("span",Ue,"Max: "+o(f.value.toLocaleString()),1)]),n(e(B),{style:{margin:"8px 0"}},{default:s(()=>{var r;return[(u(!0),$(C,null,T((r=e(d).onlinePaymentInfo)==null?void 0:r.amountList,(_,x)=>(u(),c(e(M),{key:x,size:"2.8",class:ce(["amount-item",{select:Number(_)==Number(l.depositAmount)}]),onClick:w(D=>K(_),["stop"])},{default:s(()=>[e(h)?(u(),c(e(O),{key:0,class:"amount-badge",color:"danger"},{default:s(()=>{var D;return[v("+"+o((D=e(d).onlinePaymentInfo)==null?void 0:D.giftList[x]),1)]}),_:2},1024)):b("",!0),t("div",null,o(e(i))+" "+o(_==null?void 0:_.toLocaleString()),1)]),_:2},1032,["class","onClick"]))),128))]}),_:1}),n(e(ae),{modelValue:l.depositAmount,"onUpdate:modelValue":I[0]||(I[0]=r=>l.depositAmount=r),label:e(i),type:"number",placeholder:a.$t("deposit.depositAmount"),max:f.value,min:p.value,clearInput:!0},null,8,["modelValue","label","placeholder","max","min"]),Ve,n(e(B),{style:{margin:"8px 0"}},{default:s(()=>[(u(!0),$(C,null,T(e(d).rechargeTypeList,(r,_)=>(u(),c(e(M),{key:_,size:"3.5",class:"method-item",onClick:w(x=>Q(r),["stop"])},{default:s(()=>[t("div",ze,[n(L,{name:"fade"},{default:s(()=>[r.disable?(u(),c(e(k),{key:0,src:e(y)("/wallet/icon-btn-bg-disable.png")},null,8,["src"])):r.type==l.depositMethod?(u(),c(e(k),{key:1,src:e(y)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):b("",!0)]),_:2},1024)]),t("div",Re,[n(e(k),{src:r.disable?r.unableUrl:r.iconUrl},null,8,["src"]),t("span",null,o(r.name),1)]),r.isRecommend?(u(),c(e(O),{key:0,class:"recommend-badge",color:"danger"},{default:s(()=>[v(o(e(i))+" "+o(r.isRecommend)+"+",1)]),_:2},1024)):b("",!0),t("div",Ge,[n(L,{name:"fade"},{default:s(()=>[r.type==l.depositMethod?(u(),c(e(k),{key:0,src:e(y)("/wallet/icon-btn-select-m.png")},null,8,["src"])):b("",!0)]),_:2},1024)])]),_:2},1032,["onClick"]))),128)),n(e(M),null,{default:s(()=>[l.depositMethodItem.isGuide?(u(),c(e(A),{key:0,class:"btn-guide",fill:"clear",href:l.depositMethodItem.isGuide,target:"_blank",size:"small"},{default:s(()=>[v(o(a.$t("deposit.howToUse")),1)]),_:1},8,["href"])):b("",!0)]),_:1})]),_:1}),He,n(e(B),{style:{margin:"8px 0"}},{default:s(()=>[(u(),$(C,null,T([1,2,3],r=>n(e(M),{key:r,size:"3.5",class:"method-item",onClick:w(_=>W(r),["stop"])},{default:s(()=>[t("div",je,[n(L,{name:"fade"},{default:s(()=>[r==l.depositChannel?(u(),c(e(k),{key:0,src:e(y)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):b("",!0)]),_:2},1024)]),t("div",Fe,o(a.$t("deposit.channel"))+" "+o(r),1),t("div",qe,[n(L,{name:"fade"},{default:s(()=>[r==l.depositChannel?(u(),c(e(k),{key:0,src:e(y)("/wallet/icon-btn-select-m.png")},null,8,["src"])):b("",!0)]),_:2},1024)])]),_:2},1032,["onClick"])),64))]),_:1}),Ee,t("div",Je,[t("div",Ke,o(a.$t("deposit.depositEvent"))+": ",1),n(e(le),{modelValue:e(h),"onUpdate:modelValue":I[1]||(I[1]=r=>me(h)?h.value=r:null),"label-placement":"end"},{default:s(()=>{var r,_;return[v(o("+".concat((((_=(r=e(d).chargeInfo)==null?void 0:r.typeB)==null?void 0:_.gift)||0)*100,"%"))+" "+o(a.$t("deposit.bonus")),1)]}),_:1},8,["modelValue"])]),Qe,(z=e(d).chargeInfo)!=null&&z.fillOrderSwitch?(u(),$("div",We,[t("div",Xe,o(a.$t("deposit.depositService"))+": ",1),n(xe),Ye])):b("",!0),t("div",Ze,[t("div",et,o(a.$t("deposit.depositTips"))+": ",1),t("span",tt,[t("div",null,o(a.$t("deposit.message.tips1")),1),t("div",null,o(a.$t("deposit.message.tips2")),1)])])]}),_:1},512),[[G,(V=e(d).onlinePaymentInfo)==null?void 0:V.amountList]]),R(n(e(F),null,{default:s(()=>[n(e(A),{class:"btn-deposit",expand:"block",shape:"round",onClick:X},{default:s(()=>[v(o(a.$t("deposit.button.depositNow")),1)]),_:1})]),_:1},512),[[G,l.depositAmount]])],64)}}},kt={__name:"Deposit",setup(P){U();const m=J(),g=N("OnlinePayment"),d={1:{name:"deposit.onlinePayment",value:"OnlinePayment"},2:{name:"deposit.transferDeposit",value:"TransferDeposit"},3:{name:"deposit.agencyDeposit",value:"AgencyDeposit"},4:{name:"deposit.crypto",value:"Crypto"}},h=fe(()=>Object.keys(d).filter(i=>m.rechargeTypes.includes(i)).reduce((i,p)=>{i[p]=d[p];const f=p==2||p==3?"+".concat(m.chargeInfo.transferGift*100,"%"):p==4?"+".concat(m.chargeInfo.cryptoGift*100,"%"):"";return i[p].badge=f,i},{})),y={OnlinePayment:ot};return q(async()=>{await m.getChargeInfo()}),(i,p)=>(u(),c(e(re),{class:"deposit"},{default:s(()=>[n(e(H),null,{default:s(()=>[Object.keys(h.value).length>1?(u(),c(e(ie),{key:0,modelValue:g.value,"onUpdate:modelValue":p[0]||(p[0]=f=>g.value=f),mode:"md",scrollable:!0},{default:s(()=>[(u(!0),$(C,null,T(h.value,(f,l)=>(u(),c(e(de),{key:l,class:"ion-text-capitalize",value:f.value},{default:s(()=>[n(e(O),{class:"recharge-badge",color:"danger"},{default:s(()=>[v(o(f.badge),1)]),_:2},1024),t("div",null,o(i.$t(f.name)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):b("",!0)]),_:1}),(u(),c(ge,null,[(u(),c(he(y[g.value])))],1024))]),_:1}))}};export{kt as default};
