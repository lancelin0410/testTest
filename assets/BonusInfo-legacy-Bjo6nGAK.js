System.register(["./@vue-legacy-D643Ih6I.js","./@ionic-legacy-DJIsya6n.js","./index-legacy-Bi1pgoCS.js","./NoData-legacy-BlMUKTBM.js","./@ionic_components_1-legacy-C2GjtunC.js","./@stencil-legacy-Dkr4NQJU.js","./@ionic_components_2-legacy-DV709hm9.js","./@capacitor-legacy-0yG8iurR.js","./vue-router-legacy-tg1qdIBO.js","./ionicons-legacy-BylianOU.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./pinia-legacy-DURUUAUq.js","./jsencrypt-legacy-DGJHbPQ6.js","./vue-i18n-legacy-C8AAcyDP.js","./@intlify-legacy-DDHA1rkh.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-Bb45XN-u.js","./rxjs-legacy-CA8OYncU.js","./tslib-legacy-BRpw1qYg.js"],(function(e,n){"use strict";var l,a,t,o,s,i,u,c,r,d,g,b,p,f,m,v,y,h,j,_,x,w,k,I,L,C,R,z,U,N,P,V,G,D,E;return{setters:[e=>{l=e.r,a=e.c,t=e.J,o=e.K,s=e.G,i=e.I,u=e.D,c=e.P,r=e.Q,d=e.R,g=e.F,b=e.M,p=e.N,f=e.O,m=e.L},e=>{v=e.o,y=e.A,h=e.B,j=e.e,_=e.l,x=e.C,w=e.n,k=e.j,I=e.D,L=e.b,C=e.c,R=e.d,z=e.f,U=e.t},e=>{N=e.r,P=e.u,V=e.c,G=e.b,D=e.d},e=>{E=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var n=document.createElement("style");n.textContent=".bonus{background-color:var(--ion-background-color);padding:16px}.bonus .bonus-item{--ion-item-background: linear-gradient(to right, rgba(188, 1, 191, .6) 0%, rgba(188, 1, 191, 0) 40%);background-color:var(--ion-background-light-color);position:relative;min-height:144px;margin-bottom:12px;border-radius:8px}.bonus .bonus-item::part(native){width:100%;min-height:144px;height:100%}.bonus .bonus-item ion-label.bonus-content{position:relative}.bonus .bonus-item ion-label.bonus-content ion-img{transform:translate(-18%)}.bonus .bonus-item ion-label.bonus-content .bonus-title{font-size:1.1rem;font-weight:800;line-height:2rem}.bonus .bonus-item ion-label.bonus-content .bonus-desc{color:#b3bec1;font-size:.84rem}.bonus .bonus-item ion-label.bonus-content .bonus-desc .bonus-exp{color:var(--ion-tab-bar-color-selected);font-weight:800}.bonus .bonus-item ion-label.bonus-content .bonus-gift{line-height:2rem;font-weight:800;color:#ffdf3f}.bonus .bonus-item ion-label.bonus-content .btn-claim{--background: #464f50;--background-activated: #464f50;--border-radius: 8px;--color: #fff;--padding-top: 12px;--padding-bottom: 12px;position:absolute;right:0;bottom:0;max-width:100px;width:20vw;font-weight:1000}.bonus .no-data{position:relative;top:10vh}\n",document.head.appendChild(n);const O=b("div",{class:"bonus-title"},"Level up rewards",-1),S={class:"bonus-desc"},T={class:"bonus-exp"},A={class:"bonus-gift"},B={key:0},F={key:1,style:{color:"#ffdf3f"}};e("default",{__name:"BonusInfo",setup(e){const n=P(),J=V(),{getPublicUrl:K}=G(),M=l("vip"),Q=l([]),q=a((()=>{let e=0;const n=Q.value.filter(((n,l)=>(2!=n.state&&(e=l),2!=n.state)));return 0==n.length?Q.value[0]?[Q.value[0]]:[]:e+1>=Q.value.length?n:[...n,Q.value[e+1]]}));v((async()=>{J.isLogin?(n.fullLoading=!0,await J.getUserTotalInfo(),await H(),n.fullLoading=!1):ionRouter.navigate("/","back","replace",headerAnimation)}));const H=async()=>{n.fullLoading=!0;const e=await N({url:"/app/member/h5/gift/level/up",method:"GET",params:l});var l;"00000"===e.code&&(Q.value=e.data||[],Q.value.forEach((e=>{const n=J.vipInfo.filter((n=>n.id==e.vipId));n.length>0&&(e=Object.assign(e,n[0]))}))),n.fullLoading=!1},W=async()=>{await H()},X=async e=>{if(n.fullLoading=!0,"00000"===(await function(e){return N({url:"/app/member/h5/gift/level/up",method:"POST",data:e})}({vipId:e})).code){Y();const e=await U.create({message:"Claim success",duration:1500,position:"top",color:"success",translucent:!0});await e.present(),await H()}n.fullLoading=!1},Y=async()=>{n.fullLoading=!0;const e=await D();"00000"===e.code&&(J.userInfo.balance=Number(e.data)),n.fullLoading=!1};return(e,n)=>(i(),t(s(k),{class:"bonus"},{default:o((()=>[u(s(w),null,{default:o((()=>[u(s(y),{modelValue:M.value,"onUpdate:modelValue":n[0]||(n[0]=e=>M.value=e),mode:"md",onIonChange:W},{default:o((()=>[u(s(h),{class:"ion-text-capitalize",layout:"icon-start",value:"vip"},{default:o((()=>[u(s(j),{src:s(K)("/bonus/icon_vip.svg"),style:{height:"18px"}},null,8,["src"]),u(s(_),null,{default:o((()=>[c("VIP")])),_:1})])),_:1}),u(s(h),{class:"ion-text-capitalize",layout:"icon-start",value:"general"},{default:o((()=>[u(s(j),{src:s(K)("/bonus/icon_general.svg"),style:{height:"18px"}},null,8,["src"]),u(s(_),null,{default:o((()=>[c("General")])),_:1})])),_:1})])),_:1},8,["modelValue"]),"general"==M.value?(i(),t(E,{key:0,class:"no-data",desc:"Coming Soon"})):(i(),t(s(x),{key:1,style:{"margin-top":"16px"}},{default:o((()=>[(i(!0),r(g,null,d(q.value,(e=>(i(),t(s(I),{key:e.vipId,class:"bonus-item",lines:"none"},{default:o((()=>[u(s(_),{class:"bonus-content"},{default:o((()=>[u(s(L),{class:"ion-justify-content-between"},{default:o((()=>[u(s(C),{size:"4"},{default:o((()=>[u(s(R),{src:s(K)("/bonus/levelup.png")},null,8,["src"])])),_:1}),u(s(C),{size:"8"},{default:o((()=>[O,b("div",S,[c("to "+p(e.vipName||"VIP1")+": ",1),b("span",T,p(e.levelUpRecharge>=s(J).currRecharge?s(J).currRecharge:e.levelUpRecharge),1),b("span",null," / "+p(e.levelUpRecharge),1)]),b("div",A,p(s("â‚¹"))+" "+p(e.levelUpGift),1),u(s(z),{class:"btn-claim ion-text-capitalize",disabled:0!=e.state,onClick:f((n=>X(e.vipId)),["stop"])},{default:o((()=>[2==e.state?(i(),r("span",B,"Not yet eligible")):1==e.state?(i(),r("span",F,"Claimed")):(i(),r("span",{key:2,style:m(0==e.state?"color: var(--ion-tab-bar-color-selected)":"")},"Claim",4))])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1}))}})}}}));
