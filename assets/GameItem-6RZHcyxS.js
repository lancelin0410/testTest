import{c as p,K as s,S as f,D as I,G as o,I as i,Y as l,Q as G}from"./@vue-3Wdfxk3_.js";import{u as C,j as m,t as k}from"./@ionic-ChxHNRcu.js";import{u as y,s as h,j as v}from"./index-BtfuBToB.js";import{u as w}from"./useGameStore-b9fxQWMl.js";import{u as S}from"./common-icPcROaw.js";const L={__name:"GameItem",props:{game:{type:Object,require:!0}},setup(r){const{getPublicUrl:c}=S(),e=r,g=C(),n=y(),u=w(),d=async()=>{n.fullLoading=!0,await h({gameCategoryId:e.game.gameCategoryId,routeId:e.game.routeId});const a=await v({platformGameId:e.game.tpgId,gameId:e.game.id,platformCode:e.game.platformCode,device:0});if(a.code==="00000"){const t=Capacitor.convertFileSrc(a.data);g.push({name:"GameWeb",query:{gameId:e.game.id,url:encodeURIComponent(t)}})}else await(await k.create({message:a.msg||a.code,duration:1500,position:"top",color:"danger",translucent:!0})).present();n.fullLoading=!1};return p(()=>u.favoriteGameList.filter(t=>t.gameId==e.game.gameId||t.gameId==e.game.id).length>0),(a,t)=>(s(),f("div",{class:"game-item",onClick:G(d,["stop"])},[I(o(m),{class:"game-image",src:r.game.gameImage},null,8,["src"]),r.game.cornerMark==1?(s(),i(o(m),{key:0,class:"game-tag",src:o(c)("/home/icon-new.png")},null,8,["src"])):l("",!0),r.game.cornerMark==2?(s(),i(o(m),{key:1,class:"game-tag",src:o(c)("/home/icon-best.png")},null,8,["src"])):l("",!0)]))}};export{L as _};
