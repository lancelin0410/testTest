import{c as p,H as s,P as f,C as I,E as o,I as l,S as g,N as C}from"./@vue-B0j_qcai.js";import{u as G,e as m,t as k}from"./@ionic-18nICBu3.js";import{u as y,b as h,s as v,e as w}from"./index-CBAZMc4h.js";import{u as S}from"./useGameStore-RaGp_XTg.js";const L={__name:"GameItem",props:{game:{type:Object,require:!0}},setup(r){const{getPublicUrl:c}=h(),e=r,i=G(),n=y(),u=S(),d=async()=>{n.fullLoading=!0,await v({gameCategoryId:e.game.gameCategoryId,routeId:e.game.routeId});const t=await w({platformGameId:e.game.tpgId,gameId:e.game.id,platformCode:e.game.platformCode,device:0});if(t.code==="00000"){const a=Capacitor.convertFileSrc(t.data);i.push({name:"GameWeb",query:{gameId:e.game.id,url:encodeURIComponent(a)}})}else await(await k.create({message:t.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present();n.fullLoading=!1};return p(()=>u.favoriteGameList.filter(a=>a.gameId==e.game.gameId||a.gameId==e.game.id).length>0),(t,a)=>(s(),f("div",{class:"game-item",onClick:C(d,["stop"])},[I(o(m),{class:"game-image",src:r.game.gameImage},null,8,["src"]),r.game.cornerMark==1?(s(),l(o(m),{key:0,class:"game-tag",src:o(c)("/home/icon-new.png")},null,8,["src"])):g("",!0),r.game.cornerMark==2?(s(),l(o(m),{key:1,class:"game-tag",src:o(c)("/home/icon-best.png")},null,8,["src"])):g("",!0)]))}};export{L as _};
