import"./@stencil-pJInS8Bp.js";import{L as me,a as he,b as ge,c as be,i as ke,t as Te}from"./@ionic_components_2-B7avanbD.js";import{d as Se,a as Pe,b as Be,c as Oe,e as De,f as _e,g as Ae,h as Ve,i as je,j as $e,k as xe,l as He,m as Fe,n as Me,o as ze,p as We,q as Ne,r as Ue,s as Ge,t as Xe,u as Ke,v as qe,w as Ye,x as Ze,y as Qe,z as Je,A as et,B as tt,C as nt}from"./@ionic_components_1-DvAo80W9.js";import{r as ot,u as it,m as at,c as st,a as rt,p as J}from"./vue-router-DOZNrN4o.js";import{d as ct}from"./ionicons-CQ86uuwl.js";import{s as G,g as Q,d as O,h as P,i as A,c as ut,p as ee,r as N,w as te,o as lt,T as dt,a as ft,b as pt}from"./@vue-DTz7U7Qz.js";import{L as U}from"./localforage-qzmIiYbH.js";const ne="update:modelValue",q="modelValue",mt="routerLink",oe="navManager",ht="router",gt="aria",x=Symbol(),Y={default:x},ie=t=>(t==null?void 0:t.split(" "))||[],bt=(t,e,o=[])=>{var n;return[...Array.from(((n=t.value)===null||n===void 0?void 0:n.classList)||[]),...o].filter((c,s,u)=>!e.has(c)&&u.indexOf(c)===s)},S=(t,e,o=[],n,c)=>{e!==void 0&&e();const s=O((u,{attrs:i,slots:L,emit:d})=>{var R;let E=u[n];const k=N(),B=new Set(ie(i.class)),D={created:I=>{(Array.isArray(c)?c:[c]).forEach(l=>{I.addEventListener(l.toLowerCase(),p=>{E=(p==null?void 0:p.target)[n],d(ne,E)})})}},m=Q(),r=((R=m==null?void 0:m.appContext)===null||R===void 0?void 0:R.provides[oe])?A(oe):void 0,b=I=>{const{routerLink:f}=u;if(f!==x)if(r!==void 0){let l={event:I};for(const p in u){const a=u[p];u.hasOwnProperty(p)&&p.startsWith(ht)&&a!==x&&(l[p]=a)}r.navigate(l)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{E=u[n],ie(i.class).forEach(a=>{B.add(a)});const I=u.onClick,f=a=>{I!==void 0&&I(a),a.defaultPrevented||b(a)};let l={ref:k,class:bt(k,B),onClick:f};for(const a in u){const g=u[a];(u.hasOwnProperty(a)&&g!==x||a.startsWith(gt))&&(l[a]=g)}n&&(u[q]!==x?l=Object.assign(Object.assign({},l),{[n]:u[q]}):E!==x&&(l=Object.assign(Object.assign({},l),{[n]:E})));const p=P(t,l,L.default&&L.default());return n===void 0?p:ft(p,[[D]])}});return typeof s!="function"&&(s.name=t,s.props={[mt]:Y},o.forEach(u=>{s.props[u]=Y}),n&&(s.props[q]=Y,s.emits=[ne])),s},Ht=S("ion-badge",_e,["color"]),Ft=S("ion-button",Ae,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),Mt=S("ion-checkbox",Ve,["color","name","checked","indeterminate","disabled","value","labelPlacement","justify","alignment","ionChange","ionFocus","ionBlur"],"checked","ion-change"),zt=S("ion-col",je,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]),Wt=S("ion-content",$e,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),Nt=S("ion-grid",xe,["fixed"]),Ut=S("ion-header",He,["collapse","translucent"]),Gt=S("ion-img",Fe,["alt","src","ionImgWillLoad","ionImgDidLoad","ionError"]),Xt=S("ion-input",Me,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),Kt=S("ion-input-password-toggle",ze,["color","showIcon","hideIcon","type"]),qt=S("ion-item",We,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),Yt=S("ion-label",Ne,["color","position","ionColor","ionStyle"]),Zt=S("ion-list",Ue,["lines","inset"]),Qt=S("ion-row",Ge),Jt=S("ion-searchbar",Xe,["color","animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","disabled","inputmode","enterkeyhint","maxlength","minlength","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value","ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus","ionStyle"],"value","ion-input"),en=S("ion-segment",Ke,["color","disabled","scrollable","swipeGesture","value","selectOnFocus","ionChange","ionSelect","ionStyle"],"value","ion-change"),tn=S("ion-segment-button",qe,["disabled","layout","type","value"],"value","ion-change"),nn=S("ion-select",Ye,["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","multiple","name","okText","placeholder","selectedText","toggleIcon","expandedIcon","shape","value","ionChange","ionCancel","ionDismiss","ionFocus","ionBlur","ionStyle"],"value","ion-change"),on=S("ion-select-option",Ze,["disabled","value"]),an=S("ion-skeleton-text",Qe,["animated","ionStyle"]),sn=S("ion-toolbar",Je,["color"]);var _;(function(t){t.WillEnter="onIonViewWillEnter",t.DidEnter="onIonViewDidEnter",t.WillLeave="onIonViewWillLeave",t.DidLeave="onIonViewDidLeave"})(_||(_={}));const vt={[me]:_.WillEnter,[he]:_.DidEnter,[ge]:_.WillLeave,[be]:_.DidLeave},ae={main:0},yt=(t="main")=>{var e;const o=((e=ae[t])!==null&&e!==void 0?e:0)+1;return ae[t]=o,o.toString()},z=(t,e,o)=>{t!=null&&t[o]&&t[o].bind(e==null?void 0:e.value)();const n=e==null?void 0:e.value;if(n!=null&&n[o]&&n[o](),n){const c=vt[o],s=n[c];s&&s.forEach(u=>u())}},ve=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},It=(t,e,o)=>{if(o){const n=o,c=n.proxy[t]||(n.proxy[t]=[]);n.exposed&&(n.exposed[t]=c);const s=(...u)=>{if(!n.isUnmounted)return u?e(...u):e()};return c.push(s),s}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},X=t=>(e,o=Q())=>It(t,e,o);X(_.WillEnter);X(_.DidEnter);X(_.WillLeave);X(_.DidLeave);const Z=t=>t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),Ct=()=>({ael:(t,e,o,n)=>t.addEventListener(Z(e),o,n),rel:(t,e,o,n)=>t.removeEventListener(Z(e),o,n),ce:(t,e)=>new CustomEvent(Z(t),e)}),rn={async install(t,e={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:o,rel:n,ce:c}=Ct();ke(Object.assign(Object.assign({},e),{_ael:o,_rel:n,_ce:c}))}},Rt=O((t,{attrs:e,slots:o})=>{Se();const n=A("navManager"),c=()=>{if(n===void 0)return;const s=e["default-href"]||e.defaultHref,u=e["router-animation"]||e.routerAnimation;n.handleNavigateBack(s,u)};return()=>P("ion-back-button",Object.assign({onClick:c},e),o.default&&o.default())});Rt.name="IonBackButton";const cn=O({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(t,{attrs:e,slots:o}){return()=>P("div",Object.assign(Object.assign({},e),{class:"ion-page",ref:"ionPage"}),o.default&&o.default())}}),se=t=>!t.classList.contains("ion-page-hidden")&&!t.classList.contains("ion-page-invisible"),re=Symbol(0),un=O({name:"IonRouterOutlet",setup(){Oe();const t=A(ot),e=it(),o=A(re,0),n=ut(()=>e.matched[o]);let c,s;ee(re,o+1),ee(at,n);const u=N(),i=yt("ion-router-outlet"),L=A("navManager"),d=A("viewStacks"),R=G([]);let E=!1,k;te(()=>[e,n.value],([f,l])=>{if(l!==void 0){const p=l!==c,a=f.matched[f.matched.length-1]===l&&f.path!==s;(p||a)&&b(n)}c=l,s=f.path},{deep:!0});const B=()=>{const f=ve();if(!(f&&f.get("swipeBackEnabled",u.value.mode==="ios")))return!1;const p=d.getViewStack(i);if(!p||p.length<=1)return!1;const a=L.getLeavingRouteInfo();return!!d.findViewItemByRouteInfo({pathname:a.pushedByRoute||""},i)},D=async()=>{const f=L.getLeavingRouteInfo(),{routerAnimation:l}=f,p=d.findViewItemByRouteInfo({pathname:f.pushedByRoute||""},i),a=d.findViewItemByRouteInfo(f,i);if(a){let g=l;const y=p.ionPageElement,w=a.ionPageElement,v=p.routerAnimation;g===void 0&&v!==void 0&&(g=v),a.routerAnimation=g,await h(y,w,"back",L.canGoBack(2),!0,g)}return Promise.resolve()},m=f=>{if(f)E=!0,L.handleNavigateBack();else{const l=L.getCurrentRouteInfo(),p=d.findViewItemByRouteInfo({pathname:l.pushedByRoute||""},i);p.ionPageElement.setAttribute("aria-hidden","true"),p.ionPageElement.classList.add("ion-page-hidden")}};te(u,()=>{u.value.swipeHandler={canStart:B,onStart:D,onEnd:m}});const h=async(f,l,p,a,g,y)=>{if(E)return E=!1,Promise.resolve(!1);if(f===l)return Promise.resolve(!1);f.classList.add("ion-page-invisible");const w=p===void 0||p==="root"||p==="none";return await u.value.commit(f,l,{duration:w&&y===void 0?0:void 0,direction:p,showGoBack:a,progressAnimation:g,animationBuilder:y})},r=async()=>{const f=L.getCurrentRouteInfo(),{routerDirection:l,routerAction:p,routerAnimation:a,prevRouteLastPathname:g,delta:y}=f,w=d.findViewItemByRouteInfo(f,i);let v=d.findLeavingViewItemByRouteInfo(f,i);const V=w.ionPageElement;if(V===void 0&&console.warn("[@ionic/vue Warning]: The view you are trying to render for path ".concat(f.pathname," does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.")),w!==v&&(!v&&g&&(v=d.findViewItemByPathname(g,i)),!(se(V)&&(v==null?void 0:v.ionPageElement)!==void 0&&!se(v.ionPageElement)))){if(z(w.vueComponent,w.vueComponentRef,me),v!=null&&v.ionPageElement&&w!==v){let C=a;const j=v.ionPageElement;z(v.vueComponent,v.vueComponentRef,ge);const H=w.routerAnimation;C===void 0&&l==="back"&&H!==void 0&&(C=H),v.routerAnimation=C,await h(V,j,l,!!f.pushedByRoute,!1,C),j.classList.add("ion-page-hidden"),j.setAttribute("aria-hidden","true");const M=d.size()===1;p==="replace"?(v.mount=!1,v.ionPageElement=void 0,v.ionRoute=!1):p==="push"&&l==="forward"?M&&d.mountIntermediaryViews(i,v,y):l!=="none"&&v&&w!==v&&(v.mount=!1,v.ionPageElement=void 0,v.ionRoute=!1,M&&d.unmountLeavingViews(i,w,y)),z(v.vueComponent,v.vueComponentRef,be)}else requestAnimationFrame(()=>V.classList.remove("ion-page-invisible"));z(w.vueComponent,w.vueComponentRef,he),R.value=d.getChildrenToRender(i)}},b=f=>{const l=e.matched[0];if(k||(k=l.path),!f.value||f.value!==l&&l.path!==k)return;const p=L.getCurrentRouteInfo();let a=d.findViewItemByRouteInfo(p,i);a||(a=d.createViewItem(i,f.value.components.default,f.value,p),d.add(a)),a.mount?r():(a.mount=!0,a.registerCallback=()=>{r(),a.registerCallback=void 0}),R.value=d.getChildrenToRender(i)};return n.value&&b(n),lt(()=>d.clear(i)),{id:i,components:R,injectedRoute:t,ionRouterOutlet:u,registerIonPage:(f,l)=>{const p=f.ionPageElement;d.registerIonPage(f,l),f.registerCallback?(l.classList.add("ion-page-invisible"),f.registerCallback()):p&&!p.classList.contains("ion-page-invisible")&&l.classList.remove("ion-page-invisible")}}},render(){const{components:t,registerIonPage:e,injectedRoute:o}=this;return P("ion-router-outlet",{ref:"ionRouterOutlet"},t&&t.map(n=>{var c,s;let u={ref:n.vueComponentRef,key:n.pathname,registerIonPage:R=>e(n,R)};const i=(s=(c=n.matchedRoute)===null||c===void 0?void 0:c.props)===null||s===void 0?void 0:s.default,d=i?i===!0?n.params:typeof i=="function"?(()=>{var R;const E=(R=n.vueComponentData)===null||R===void 0?void 0:R.propsFunctionResult;if(E)return E;{const k=i(o);return n.vueComponentData=Object.assign(Object.assign({},n.vueComponentData),{propsFunctionResult:k}),k}})():i:null;return u=Object.assign(Object.assign({},u),d),P(n.vueComponent,u)}))}}),ln=O({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(t,{slots:e}){et();const o=A("navManager"),n=c=>{c.cancelable&&c.preventDefault();const{tab:s,href:u,_getTabState:i}=t,L=i(),d=L.tabs[s]||{},R=d.originalHref||u,E=d.currentHref||u;L.activeTab===s?R!==E&&o.resetTab(s):o.changeTab(s,E)};return()=>P("ion-tab-button",Object.assign({onClick:n},t),e.default&&e.default())}}),ce="ionTabsWillChange",ue="ionTabsDidChange",le=t=>t.type&&(t.type.name==="IonRouterOutlet"||t.type==="ion-router-outlet"),Et=t=>t.type&&(t.type.name==="IonTabBar"||t.type==="ion-tab-bar"),dn=O({name:"IonTabs",emits:[ce,ue],render(){var t;const{$slots:e,$emit:o}=this,n=e.default&&e.default();let c;if(n&&n.length>0&&(c=n.find(u=>le(u))),!c)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let s=[P("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},c)];if(n&&n.length>0){const u=n.filter(d=>!d.type||!le(d)),i=u.find(d=>Et(d)),L=i&&((t=i.props)===null||t===void 0?void 0:t.slot)==="top";i&&(i.props||(i.props={}),i.props._tabsWillChange=d=>o(ce,{tab:d}),i.props._tabsDidChange=d=>o(ue,{tab:d})),L?s=[...u,...s]:s=[...s,...u]}return P("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},s)}}),ye=t=>{var e;return((e=t.type)===null||e===void 0?void 0:e.name)==="IonTabButton"},Ie=t=>{let e=[];return t.forEach(o=>{if(ye(o))e.push(o);else if(Array.isArray(o.children)&&o.children.length>1){const n=Ie(o.children);e=[...e,...n]}}),e},fn=O({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data(){return{tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}},updated(){this.setupTabState(A("navManager"))},methods:{setupTabState(t){const e=this.$data.tabState,o=Q();(this.$data.tabVnodes=Ie(o.subTree.children||[])).forEach(c=>{e.tabs[c.props.tab]={originalHref:c.props.href,currentHref:c.props.href,ref:c},c.component.props._getTabState=()=>e}),this.checkActiveTab(t)},checkActiveTab(t){const e=t.getCurrentRouteInfo(),o=this.$data.tabVnodes,{tabs:n,activeTab:c}=this.$data.tabState,s=this.$data.tabState,i=Object.keys(n).find(E=>{const k=n[E].originalHref;return e.pathname.startsWith(k)});if(o.forEach(E=>{const k=n[E.props.tab];(!k||k.originalHref!==E.props.href)&&(n[E.props.tab]={originalHref:E.props.href,currentHref:E.props.href,ref:E})}),i&&c){const E=this.$data.tabState.tabs[c].currentHref;if(i!==c||E!==e.pathname){const k=e.search?"?".concat(e.search):"";n[i]=Object.assign(Object.assign({},n[i]),{currentHref:e.pathname+k})}e.routerAction==="pop"&&i!==c&&(n[c]=Object.assign(Object.assign({},n[c]),{currentHref:n[c].originalHref}))}const L=o.find(E=>{var k;return ye(E)&&((k=E.props)===null||k===void 0?void 0:k.tab)===i}),d=this.$refs.ionTabBar,R=i!==c;d&&(L?(R&&this.$props._tabsWillChange(i),t.handleSetCurrentTab(i),d.selectedTab=s.activeTab=i,R&&this.$props._tabsDidChange(i)):d.selectedTab=s.activeTab="")}},mounted(){const t=A("navManager");this.setupTabState(t),t.registerHistoryChangeListener(()=>this.checkActiveTab(t))},setup(t,{slots:e}){return De(),()=>P("ion-tab-bar",{ref:"ionTabBar"},e.default&&e.default())}}),F=G([]),wt=O((t,{attrs:e,slots:o})=>(Pe(),()=>P("ion-app",Object.assign({},e),[o.default&&o.default(),...F.value])));wt.name="IonApp";const Lt=t=>{F.value=[...F.value,t]},kt=t=>{F.value=F.value.filter(e=>e!==t)},Ce=(t=Lt,e=kt)=>{const o=new WeakMap;return{attachViewToDom:(s,u,i={},L)=>{const d=document.createElement("div");L&&d.classList.add(...L),s.appendChild(d);const R=P(dt,{to:d},P(u,Object.assign({},i)));return o.set(d,R),t(R),Promise.resolve(d)},removeViewFromDom:(s,u)=>{const i=o.get(u);return i&&e(i),Promise.resolve()}}},Re=O(t=>{Be();const e=G([]),c=Ce(s=>e.value=[...e.value,s],s=>e.value=e.value.filter(u=>u!==s));return()=>P("ion-nav",Object.assign(Object.assign({},t),{delegate:c}),e.value)});Re.name="IonNav";Re.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const pn=O({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(t,{slots:e}){return ct(),()=>{var o,n;const{icon:c,ios:s,md:u,mode:i}=t;let L;const d=ve(),R=i||(d==null?void 0:d.get("mode"));return s||u?R==="ios"?L=(o=s!=null?s:u)!==null&&o!==void 0?o:c:L=(n=u!=null?u:s)!==null&&n!==void 0?n:c:L=c,P("ion-icon",Object.assign(Object.assign({},t),{icon:L}),e)}}}),Ee=Symbol(),de={default:Ee},Tt=(t,e,o=[],n,c)=>{const u=O((i,{slots:L})=>{e!==void 0&&e();const d=N(!1),R=N();return pt(()=>{R.value.addEventListener("ion-mount",()=>d.value=!0),R.value.addEventListener("will-present",()=>d.value=!0),R.value.addEventListener("did-dismiss",()=>d.value=!1)}),()=>{let E={};for(const B in i){const D=i[B];i.hasOwnProperty(B)&&D!==Ee&&(E[B]=D)}const k=()=>n?P("div",{className:"ion-delegate-host ion-page"},L):L;return P(t,Object.assign(Object.assign({},E),{ref:R}),d.value||E.keepContentsMounted||E.keepContentsMounted===""?k():void 0)}});return u.name=t,u.props={isOpen:de},o.forEach(i=>{u.props[i]=de}),u},mn=Tt("ion-loading",tt,["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"]),St=(t,e,o=!1)=>{const n=o?Ce():void 0,c=e.create.bind(e);return e.create=s=>(t(),c(Object.assign(Object.assign({},s),{delegate:n}))),e},hn=St(nt,Te),Pt=()=>{const t=[],e={},o=m=>{switch(m.routerAction){case"pop":c(m);break;default:s(m);break}m.routerDirection==="root"&&(u(),s(m))},n=m=>{const h=t.findIndex(b=>b.id===m.id);h>-1&&t.splice(h,1,m);const r=e[m.tab||""];if(r){const b=r.findIndex(I=>I.id===m.id);b>-1?r.splice(b,1,m):r.push(m)}else m.tab&&(e[m.tab]=[m])},c=m=>{const h=i(m.tab);let r;if(h){for(r=h[h.length-1];r&&r.id!==m.id;)h.pop(),r=h[h.length-1];h.pop(),h.push(m)}for(r=t[t.length-1];r&&r.id!==m.id;)t.pop(),r=t[t.length-1];t.pop(),t.push(m)},s=m=>{const h=i(m.tab);h&&(h[h.length-1]&&h[h.length-1].id===m.id&&h.pop(),h.push(m)),t.push(m)},u=m=>{if(m){const{position:h,tab:r}=m,b=t.findIndex(l=>l.position===h);if(b===-1)return;t.splice(b);const I=l=>{const p=e[l].findIndex(a=>a.position===h);p!==-1&&e[l].splice(p)},f=e[r];if(r&&f)I(r);else for(const l in e)I(l)}else{for(const h in e)e[h]=[];t.length=0}},i=m=>{let h;return m&&(h=e[m],h||(h=e[m]=[])),h},L=()=>t.length,d=(m,h)=>{const r=h-m;return t[r]||R()},R=()=>t[t.length-1];return{current:d,size:L,last:R,add:o,canGoBack:(m=1,h,r)=>r-m>=h,update:n,getFirstRouteInfoForTab:m=>{const h=i(m);if(h)return h[0]},getCurrentRouteInfoForTab:m=>{const h=i(m);if(h)return h[h.length-1]},findLastLocation:(m,h=-1)=>{const r=i(m.tab);if(r){if(h<-1)return r[r.length-1+h];for(let b=r.length-2;b>=0;b--){const I=r[b];if(I&&I.pathname===m.pushedByRoute)return I}}if(h<-1)return t[t.length-1+h];for(let b=t.length-2;b>=0;b--){const I=t[b];if(I&&I.pathname===m.pushedByRoute)return I}},clearHistory:u}},fe={main:0},we=(t="main")=>{var e;const o=((e=fe[t])!==null&&e!==void 0?e:0)+1;return fe[t]=o,o.toString()},Bt=(t,e)=>{let o={direction:void 0,action:void 0,delta:void 0};e.afterEach((a,g,y)=>{if(y)return;const{direction:w,action:v,delta:V}=o;s=t.history.state.position;const C=t.history.state.replaced?"replace":void 0;E(a,v||C,w,V),o={direction:void 0,action:void 0,delta:void 0}});const n=Pt();let c=t.history.state.position,s=t.history.state.position,u,i;const L=[];typeof document<"u"&&document.addEventListener("ionBackButton",a=>{a.detail.register(0,g=>{t.history.go(-1),g()})}),t.history.listen((a,g,y)=>{o={delta:y.delta,action:y.type==="pop"&&y.delta>=1?"push":y.type,direction:y.direction===""?"forward":y.direction}});const d=(a,g)=>{const y=n.current(c,s);if(y&&y.pushedByRoute){const w=n.findLastLocation(y);w?(i=Object.assign(Object.assign({},w),{routerAction:"pop",routerDirection:"back",routerAnimation:g||y.routerAnimation}),y.lastPathname===y.pushedByRoute||w.pathname===y.pushedByRoute&&!y.tab&&!w.tab?e.back():e.go(w.position-y.position)):R(a,"pop","back",g)}else R(a,"pop","back",g)},R=(a,g,y,w,v)=>{I(g,y,w,v),g==="push"?e.push(a):e.replace(a)},E=(a,g,y,w)=>{let v;if(i)if(i.routerAction==="replace")v=n.current(c,s);else if(i.routerAction==="pop")v=n.current(c,s+1),g==="replace"&&n.clearHistory();else{const C=i.routerDirection==="root"?s:s-1;v=n.current(c,C)}else v=u;if(v||(v={pathname:"",search:""}),v.pathname+v.search!==a.fullPath){if(!i){if(g==="replace")i={routerAction:"replace",routerDirection:"none"};else if(g==="pop"){const $=n.current(c,s-w);if($&&$.pushedByRoute){const T=n.findLastLocation($,w);i=Object.assign(Object.assign({},T),{routerAction:"pop",routerDirection:"back"})}else i={routerAction:"pop",routerDirection:"none"}}i||(i={routerAction:"push",routerDirection:y||"forward"})}let C;if(i!=null&&i.id)C=Object.assign(Object.assign({},i),{lastPathname:v.pathname});else{const $=i.routerAction==="push"&&i.routerDirection==="forward";if(C=Object.assign(Object.assign({id:we("routeInfo")},i),{lastPathname:v.pathname,pathname:a.path,search:a.fullPath&&a.fullPath.split("?")[1]||"",params:a.params&&a.params,prevRouteLastPathname:v.lastPathname}),$)C.pushedByRoute=v.pathname!==""?v.pathname:void 0;else if(C.routerAction==="pop"){const T=n.findLastLocation(C);C.pushedByRoute=T==null?void 0:T.pushedByRoute}else if(C.routerAction==="push"&&C.tab!==v.tab){const T=n.getCurrentRouteInfoForTab(C.tab);C.pushedByRoute=T==null?void 0:T.pushedByRoute}else if(C.routerAction==="replace"){const T=n.current(c,s),K=T==null?void 0:T.pushedByRoute,Le=K!==void 0&&K!==C.pathname?K:C.pushedByRoute;C.lastPathname=(T==null?void 0:T.pathname)||C.lastPathname,C.pushedByRoute=Le,C.routerDirection=(T==null?void 0:T.routerDirection)||C.routerDirection,C.routerAnimation=(T==null?void 0:T.routerAnimation)||C.routerAnimation,C.prevRouteLastPathname=T==null?void 0:T.lastPathname}}C.position=s,C.delta=w;const j=n.size(),H=s-c,M=j===H&&j>0&&g==="replace";j>H||M?(C.routerAction==="push"||C.routerAction==="replace")&&w===void 0&&(n.clearHistory(C),n.add(C)):n.add(C),n.size()===1&&(c=C.position),u=C}i=void 0,L.forEach(C=>C(u))},k=()=>u,B=(a=1)=>n.canGoBack(a,c,s),D=a=>{const{routerAnimation:g,routerDirection:y,routerLink:w}=a;I("push",y,g),e.push(w)},m=a=>{const g=n.getFirstRouteInfoForTab(a);g&&e.go(g.position-s)},h=(a,g)=>{if(!g)return;const y=n.getCurrentRouteInfoForTab(a),[w]=g.split("?");y?(i=Object.assign(Object.assign({},i),{routerAction:"push",routerDirection:"none",tab:a}),y.pathname===w?e.push({path:y.pathname,query:J(y.search)}):e.push({path:w,query:J(y.search)})):R(w,"push","none",void 0,a)},r=a=>{const g=Object.assign({},n.current(c,s));g.tab!==a&&(g.tab=a,n.update(g));const y=n.findLastLocation(g);g.pushedByRoute!==g.lastPathname&&(y==null?void 0:y.tab)!==a&&(g.pushedByRoute=void 0,n.update(g))},b=a=>{L.push(a)},I=(a="push",g="forward",y,w)=>{i={routerAction:a,routerDirection:g,routerAnimation:y,tab:w}};return{handleNavigate:R,getLeavingRouteInfo:()=>n.current(c,s),handleNavigateBack:d,handleSetCurrentTab:r,getCurrentRouteInfo:k,canGoBack:B,navigate:D,resetTab:m,changeTab:h,registerHistoryChangeListener:b,goBack:a=>{I("pop","back",a),e.back()},goForward:a=>{I("push","forward",a),e.forward()}}},Ot=t=>{const e={},o=()=>Object.keys(e).length,n=r=>{delete e[r]},c=r=>e[r],s=(r,b)=>{r.ionPageElement=b,r.ionRoute=!0,r.matchedRoute.instances={default:r.vueComponentRef.value}},u=(r,b)=>R(r.pathname,b,!1),i=(r,b,I=!0)=>R(r.lastPathname,b,I),L=(r,b)=>R(r,b,!1),d=(r,b)=>b.find(I=>{if(I.pathname===r)return I}),R=(r,b,I=!1)=>{const f=l=>{if(I&&!l.ionRoute||r==="")return!1;const a=t.resolve(r).matched.find(g=>g===l.matchedRoute);if(a)return a.path.includes(":")&&r!==l.pathname?!1:l};if(b){const l=e[b];if(!l)return;const p=t?l.find(f):d(r,l);if(p)return p}else for(const l in e){const p=e[l],a=d(r,p);if(a)return a}};return{unmountLeavingViews:(r,b,I=1)=>{const f=e[r];if(!f)return;const l=f.findIndex(p=>p===b);for(let p=l+1;p<l-I;p++){const a=f[p];a.mount=!1,a.ionPageElement=void 0,a.ionRoute=!1,a.matchedRoute.instances={}}},mountIntermediaryViews:(r,b,I=1)=>{const f=e[r];if(!f)return;const l=f.findIndex(p=>p===b);for(let p=l+1;p<l+I;p++)f[p].mount=!0},clear:n,findViewItemByRouteInfo:u,findLeavingViewItemByRouteInfo:i,findViewItemByPathname:L,createViewItem:(r,b,I,f,l)=>({id:we("viewItem"),pathname:f.pathname,outletId:r,matchedRoute:I,ionPageElement:l,vueComponent:b,vueComponentRef:G(),ionRoute:!1,mount:!1,exact:f.pathname===I.path,params:f.params,vueComponentData:{}}),getChildrenToRender:r=>e[r]?e[r].filter(f=>f.mount):[],add:r=>{const{outletId:b}=r;e[b]?e[b].push(r):e[b]=[r]},remove:(r,b)=>{if(!b)throw Error("outletId required");const I=e[b];I&&(e[b]=I.filter(f=>f.id!==r.id))},registerIonPage:s,getViewStack:c,size:o}},gn=t=>{const e=Object.assign({},t);delete e.tabsPrefix;const o=st(e),n=Bt(t,o),c=Ot(o),s=o.install.bind(o);o.install=i=>{i.provide("navManager",n),i.provide("viewStacks",c),s(i)};const u=o.isReady.bind(o);return o.isReady=()=>u(),o},bn=t=>rt(t),W={SecureStorage:"ionicSecureStorage",IndexedDB:U.INDEXEDDB,LocalStorage:U.LOCALSTORAGE},pe={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[W.SecureStorage,W.IndexedDB,W.LocalStorage]};class vn{constructor(e=pe){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},pe,e||{});this._config=o}async create(){const e=U.createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===W.SecureStorage&&(this._secureStorageDriver=e),U.defineDriver(e)}get driver(){var e;return((e=this._db)===null||e===void 0?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,o){return this.assertDb().setItem(e,o)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var o;if(this._secureStorageDriver)(o=this._secureStorageDriver)===null||o===void 0||o.setEncryptionKey(e);else throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available")}}export{tn as A,Zt as B,qt as C,Xt as D,Kt as E,Mt as F,Ut as I,vn as S,Nt as a,Qt as b,zt as c,Gt as d,pn as e,Ft as f,Ht as g,un as h,fn as i,dn as j,cn as k,ln as l,Yt as m,sn as n,Wt as o,gn as p,bn as q,mn as r,wt as s,hn as t,rn as u,an as v,nn as w,on as x,Jt as y,en as z};
