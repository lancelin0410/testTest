import{r as p,J as i,K as e,G as t,I as r,D as a,P as c,Q as w,R as L,F as P,O as k,M as f,N as g}from"./@vue-DQPB5ixA.js";import{o as C,u as b,t as B,A as V,B as _,C as x,n as S,j as T,D as z,l as D,d as N,b as R,c as I,f as A}from"./@ionic-BzoWLFGj.js";import{u as $,f as j}from"./index-BJaUFss0.js";import{_ as E}from"./NoData-DQ5S02FG.js";import"./@ionic_components_1-CAQXnsIn.js";import"./@stencil-C-gE1UvY.js";import"./@ionic_components_2-DUGZJZYA.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-CQQ818li.js";import"./ionicons-DKP7Q_k0.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./pinia-CYwfShO_.js";import"./jsencrypt-Ve0Y4aUG.js";import"./vue-i18n-D3aLYNeJ.js";import"./@intlify-BAcCFw_v.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";const F={style:{"font-size":"1rem","font-weight":"800"}},M={style:{"font-size":"0.8rem"}},mt={__name:"Promotion",setup(q){const v=b(),l=$(),s=p("latest"),u=p({latest:[],archive:[]}),d=async()=>{const o=await await j(0);o.code==="00000"?u.value[s.value]=o.data.list||[]:await(await B.create({message:o.msg||o.code,duration:1500,position:"top",color:"danger",translucent:!0})).present()};C(async()=>{l.barLoading=!0,await d(),l.barLoading=!1});const y=async()=>{s.value=="latest"&&await d(),s.value!="archive"},h=async o=>{v.push({name:"PromotionDetail",params:{promoId:o.id},query:{title:o.title}})};return(o,m)=>(r(),i(t(T),{class:"promotion"},{default:e(()=>[a(t(S),null,{default:e(()=>[a(t(V),{modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=n=>s.value=n),mode:"ios",onIonChange:y},{default:e(()=>[a(t(_),{value:"latest"},{default:e(()=>[c("Latest Promotion")]),_:1}),a(t(_),{value:"archive"},{default:e(()=>[c("Archived")]),_:1})]),_:1},8,["modelValue"]),t(l).barLoading||u.value[s.value].length==0?(r(),i(E,{key:0,class:"no-data",desc:o.$t("mail.message.nodata")},null,8,["desc"])):(r(),i(t(x),{style:{"margin-top":"16px"},key:s.value},{default:e(()=>[(r(!0),w(P,null,L(u.value[s.value],n=>(r(),i(t(z),{key:n.id,class:"promo-item",lines:"none",onClick:k(G=>h(n),["stop"])},{default:e(()=>[a(t(D),null,{default:e(()=>[a(t(N),{src:n.h5Image},null,8,["src"]),a(t(R),{class:"promo-content ion-justify-content-between"},{default:e(()=>[a(t(I),{size:"auto"},{default:e(()=>[f("h4",F,g(n.title||""),1),f("div",M,g(n.timeText||""),1)]),_:2},1024),a(t(I),{size:"auto"},{default:e(()=>[a(t(A),{class:"btn-in-progress"},{default:e(()=>[c("In Progress")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1})]),_:1}))}};export{mt as default};
