import{r as b,k as S,w as $,J as _,K as a,G as e,I as y,D as o,M as i,N as p,P as l,O as h,U as A}from"./@vue-DQPB5ixA.js";import{u as B}from"./vue-i18n-D3aLYNeJ.js";import{u as D,d as G,C as M,D as I,J as w,f as v,l as T,e as j,K as U,n as E,j as J}from"./@ionic-BzoWLFGj.js";import{g as K,h as q}from"./ionicons-DKP7Q_k0.js";import{u as z,c as F,b as H,j as Q,i as W}from"./index-BJaUFss0.js";import"./@intlify-BAcCFw_v.js";import"./@ionic_components_1-CAQXnsIn.js";import"./@stencil-C-gE1UvY.js";import"./@ionic_components_2-DUGZJZYA.js";import"./@capacitor-CHoHO2YB.js";import"./vue-router-CQQ818li.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./pinia-CYwfShO_.js";import"./jsencrypt-Ve0Y4aUG.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";const X={style:{"font-weight":"1000"}},Y={class:"input-prefix",slot:"start"},Z=i("span",{class:"input-prefix",slot:"start"},"OTP",-1),ee={class:"note"},te=i("div",{class:"sign-up-divider"},[i("hr"),i("div",{class:"divider-text"},"OR")],-1),ke={__name:"SignUp",setup(oe){const{t:d}=B(),x=D(),u=z(),m=F(),{getPublicUrl:V}=H(),{headerAnimation:P}=W(),f=b(!1),t=S({promotionCode:u.inviteCode,device:"h5",mobile:"",sessionId:"",code:""});let C;const k=Number(u.appConfig.callPrefixes),g=b(d("account.button.otp")),c=b(0),L=async()=>{if(c.value==0){if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:d("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}const s=await Q({mobile:u.encrypt.encrypt(t.mobile),callPrefixes:k});s.code==="00000"&&(t.sessionId=s.data.sessionId,c.value=60,N())}},N=()=>{g.value="".concat(c.value,"s"),C=setInterval(()=>{c.value>0?(c.value--,g.value="".concat(c.value,"s")):(g.value=d("account.button.otp"),c.value=0,clearInterval(C))},1e3)},O=async()=>{if(!t.mobile||t.mobile.length==0){await(await toastController.create({message:d("account.resister.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}if(!t.code||t.code.length==0){await(await toastController.create({message:d("account.resister.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}u.fullLoading=!0,await m.mobileRegister(t),u.fullLoading=!1},R=async()=>{u.fullLoading=!0,await m.anonymousRegister(t),u.fullLoading=!1};return $(()=>m.isLogin,()=>{m.isLogin&&x.navigate("/","back","replace",P)}),(s,n)=>(y(),_(e(J),{class:"sign-up"},{default:a(()=>[o(e(G),{src:e(V)("/banner.webp")},null,8,["src"]),o(e(E),null,{default:a(()=>[o(e(M),{lines:"none"},{default:a(()=>[i("h5",X,p(s.$t("login.header.signUp")),1),o(e(I),null,{default:a(()=>[o(e(w),{modelValue:t.mobile,"onUpdate:modelValue":n[0]||(n[0]=r=>t.mobile=r),fill:"outline",placeholder:"Phone Number"},{default:a(()=>[i("span",Y,"+"+p(e(k)),1)]),_:1},8,["modelValue"])]),_:1}),o(e(I),null,{default:a(()=>[o(e(w),{modelValue:t.code,"onUpdate:modelValue":n[1]||(n[1]=r=>t.code=r),placeholder:s.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:a(()=>[Z,o(e(v),{slot:"end",class:"btn-otp",color:"medium",style:{color:"#00ff84"},onClick:L},{default:a(()=>[l(p(g.value),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),o(e(I),null,{default:a(()=>[o(e(T),null,{default:a(()=>[i("div",{style:{"font-size":"0.8rem","font-weight":"1000","margin-bottom":"8px",display:"flex","align-items":"center"},onClick:n[2]||(n[2]=h(r=>f.value=!f.value,["stop"]))},[l(" Enter Referral / Promo Code "),o(e(j),{icon:f.value?e(K):e(q),style:{"margin-left":"4px"}},null,8,["icon"])]),f.value?(y(),_(e(w),{key:0,modelValue:t.promotionCode,"onUpdate:modelValue":n[3]||(n[3]=r=>t.promotionCode=r),fill:"outline"},null,8,["modelValue"])):A("",!0)]),_:1})]),_:1})]),_:1}),o(e(U),{checked:!0,"label-placement":"end"},{default:a(()=>[l(" I agree to the "),i("a",{href:"#",style:{color:"#fff","font-weight":"800","text-decoration":"none"},onClick:n[4]||(n[4]=r=>r.stopPropagation())},"User Agreement"),l(" & confirm I am at least 18 years old ")]),_:1}),o(e(U),{checked:!0,"label-placement":"end"},{default:a(()=>[l(" I agree to receive marketing promotions from BC.GAME. ")]),_:1}),o(e(v),{class:"btn-sign-up",expand:"block",onClick:h(O,["stop"])},{default:a(()=>[l(p(s.$t("login.header.signUp")),1)]),_:1}),i("div",ee,[l(" Already have an account? "),o(e(v),{class:"btn-sing-in",fill:"clear","router-link":"/login/signIn"},{default:a(()=>[l("Sign In")]),_:1})]),te,o(e(v),{class:"btn-sign-up",expand:"block",onClick:h(R,["stop"])},{default:a(()=>[l(p(s.$t("login.header.signUpOneClick")),1)]),_:1})]),_:1})]),_:1}))}};export{ke as default};
